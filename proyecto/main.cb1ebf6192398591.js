(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1401:(Nn,wt,k)=>{"use strict";k.d(wt,{Am:()=>dr,Bd:()=>Re,FA:()=>rt,Fy:()=>at,I9:()=>zn,Im:()=>Ne,Ku:()=>vn,Ll:()=>Gt,T9:()=>Ae,Uj:()=>Ke,XA:()=>Te,ZQ:()=>Qe,bD:()=>Bt,c1:()=>qt,cY:()=>Oe,eX:()=>_e,g:()=>$e,gR:()=>sr,hp:()=>Pn,jZ:()=>Mt,lT:()=>At,lV:()=>jt,mS:()=>Ze,nr:()=>Ie,p7:()=>tn,sr:()=>Cn,tD:()=>Ir,u:()=>be,zW:()=>te,zw:()=>Ge});const le=function(De){const xe=[];let tt=0;for(let kt=0;kt<De.length;kt++){let qe=De.charCodeAt(kt);qe<128?xe[tt++]=qe:qe<2048?(xe[tt++]=qe>>6|192,xe[tt++]=63&qe|128):55296==(64512&qe)&&kt+1<De.length&&56320==(64512&De.charCodeAt(kt+1))?(qe=65536+((1023&qe)<<10)+(1023&De.charCodeAt(++kt)),xe[tt++]=qe>>18|240,xe[tt++]=qe>>12&63|128,xe[tt++]=qe>>6&63|128,xe[tt++]=63&qe|128):(xe[tt++]=qe>>12|224,xe[tt++]=qe>>6&63|128,xe[tt++]=63&qe|128)}return xe},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,xe){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const tt=xe?this.byteToCharMapWebSafe_:this.byteToCharMap_,kt=[];for(let qe=0;qe<De.length;qe+=3){const Dn=De[qe],Bn=qe+1<De.length,Br=Bn?De[qe+1]:0,fi=qe+2<De.length,lt=fi?De[qe+2]:0;let pi=(15&Br)<<2|lt>>6,Ii=63&lt;fi||(Ii=64,Bn||(pi=64)),kt.push(tt[Dn>>2],tt[(3&Dn)<<4|Br>>4],tt[pi],tt[Ii])}return kt.join("")},encodeString(De,xe){return this.HAS_NATIVE_SUPPORT&&!xe?btoa(De):this.encodeByteArray(le(De),xe)},decodeString(De,xe){return this.HAS_NATIVE_SUPPORT&&!xe?atob(De):function(De){const xe=[];let tt=0,kt=0;for(;tt<De.length;){const qe=De[tt++];if(qe<128)xe[kt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Dn=De[tt++];xe[kt++]=String.fromCharCode((31&qe)<<6|63&Dn)}else if(qe>239&&qe<365){const fi=((7&qe)<<18|(63&De[tt++])<<12|(63&De[tt++])<<6|63&De[tt++])-65536;xe[kt++]=String.fromCharCode(55296+(fi>>10)),xe[kt++]=String.fromCharCode(56320+(1023&fi))}else{const Dn=De[tt++],Bn=De[tt++];xe[kt++]=String.fromCharCode((15&qe)<<12|(63&Dn)<<6|63&Bn)}}return xe.join("")}(this.decodeStringToByteArray(De,xe))},decodeStringToByteArray(De,xe){this.init_();const tt=xe?this.charToByteMapWebSafe_:this.charToByteMap_,kt=[];for(let qe=0;qe<De.length;){const Dn=tt[De.charAt(qe++)],Br=qe<De.length?tt[De.charAt(qe)]:0;++qe;const lt=qe<De.length?tt[De.charAt(qe)]:64;++qe;const Jn=qe<De.length?tt[De.charAt(qe)]:64;if(++qe,null==Dn||null==Br||null==lt||null==Jn)throw new Me;kt.push(Dn<<2|Br>>4),64!==lt&&(kt.push(Br<<4&240|lt>>2),64!==Jn&&kt.push(lt<<6&192|Jn))}return kt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ke=function(De){return function(De){const xe=le(De);return ce.encodeByteArray(xe,!0)}(De).replace(/\./g,"")},be=function(De){try{return ce.decodeString(De,!0)}catch(xe){console.error("base64Decode failed: ",xe)}return null};function Ge(De,xe){if(!(xe instanceof Object))return xe;switch(xe.constructor){case Date:return new Date(xe.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return xe}for(const tt in xe)!xe.hasOwnProperty(tt)||!je(tt)||(De[tt]=Ge(De[tt],xe[tt]));return De}function je(De){return"__proto__"!==De}function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ft=()=>{try{return Ze().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const xe=De&&be(De[1]);return xe&&JSON.parse(xe)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},Ae=()=>{var De;return null===(De=ft())||void 0===De?void 0:De.config},Te=De=>{var xe;return null===(xe=ft())||void 0===xe?void 0:xe[`_${De}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((xe,tt)=>{this.resolve=xe,this.reject=tt})}wrapCallback(xe){return(tt,kt)=>{tt?this.reject(tt):this.resolve(kt),"function"==typeof xe&&(this.promise.catch(()=>{}),1===xe.length?xe(tt):xe(tt,kt))}}}function at(De,xe){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const kt=xe||"demo-project",qe=De.iat||0,Dn=De.sub||De.user_id;if(!Dn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Bn=Object.assign({iss:`https://securetoken.google.com/${kt}`,aud:kt,iat:qe,exp:qe+3600,auth_time:qe,sub:Dn,user_id:Dn,firebase:{sign_in_provider:"custom",identities:{}}},De);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(Bn)),""].join(".")}function Qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function Gt(){var De;const xe=null===(De=ft())||void 0===De?void 0:De.forceEnvironment;if("node"===xe)return!0;if("browser"===xe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return typeof window<"u"||tn()}function tn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function qt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Cn(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){const De=Qe();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Ie(){return!Gt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((De,xe)=>{try{let tt=!0;const kt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(kt);qe.onsuccess=()=>{qe.result.close(),tt||self.indexedDB.deleteDatabase(kt),De(!0)},qe.onupgradeneeded=()=>{tt=!1},qe.onerror=()=>{var Dn;xe((null===(Dn=qe.error)||void 0===Dn?void 0:Dn.message)||"")}}catch(tt){xe(tt)}})}class $e extends Error{constructor(xe,tt,kt){super(tt),this.code=xe,this.customData=kt,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(xe,tt,kt){this.service=xe,this.serviceName=tt,this.errors=kt}create(xe,...tt){const kt=tt[0]||{},qe=`${this.service}/${xe}`,Dn=this.errors[xe],Bn=Dn?function an(De,xe){return De.replace(Kt,(tt,kt)=>{const qe=xe[kt];return null!=qe?String(qe):`<${kt}?>`})}(Dn,kt):"Error";return new $e(qe,`${this.serviceName}: ${Bn} (${qe}).`,kt)}}const Kt=/\{\$([^}]+)}/g;function sr(De,xe){return Object.prototype.hasOwnProperty.call(De,xe)}function Ne(De){for(const xe in De)if(Object.prototype.hasOwnProperty.call(De,xe))return!1;return!0}function Bt(De,xe){if(De===xe)return!0;const tt=Object.keys(De),kt=Object.keys(xe);for(const qe of tt){if(!kt.includes(qe))return!1;const Dn=De[qe],Bn=xe[qe];if(St(Dn)&&St(Bn)){if(!Bt(Dn,Bn))return!1}else if(Dn!==Bn)return!1}for(const qe of kt)if(!tt.includes(qe))return!1;return!0}function St(De){return null!==De&&"object"==typeof De}function dr(De){const xe=[];for(const[tt,kt]of Object.entries(De))Array.isArray(kt)?kt.forEach(qe=>{xe.push(encodeURIComponent(tt)+"="+encodeURIComponent(qe))}):xe.push(encodeURIComponent(tt)+"="+encodeURIComponent(kt));return xe.length?"&"+xe.join("&"):""}function zn(De){const xe={};return De.replace(/^\?/,"").split("&").forEach(kt=>{if(kt){const[qe,Dn]=kt.split("=");xe[decodeURIComponent(qe)]=decodeURIComponent(Dn)}}),xe}function Pn(De){const xe=De.indexOf("?");if(!xe)return"";const tt=De.indexOf("#",xe);return De.substring(xe,tt>0?tt:void 0)}function Ir(De,xe){const tt=new Cr(De,xe);return tt.subscribe.bind(tt)}class Cr{constructor(xe,tt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=tt,this.task.then(()=>{xe(this)}).catch(kt=>{this.error(kt)})}next(xe){this.forEachObserver(tt=>{tt.next(xe)})}error(xe){this.forEachObserver(tt=>{tt.error(xe)}),this.close(xe)}complete(){this.forEachObserver(xe=>{xe.complete()}),this.close()}subscribe(xe,tt,kt){let qe;if(void 0===xe&&void 0===tt&&void 0===kt)throw new Error("Missing Observer.");qe=function Wr(De,xe){if("object"!=typeof De||null===De)return!1;for(const tt of xe)if(tt in De&&"function"==typeof De[tt])return!0;return!1}(xe,["next","error","complete"])?xe:{next:xe,error:tt,complete:kt},void 0===qe.next&&(qe.next=Ei),void 0===qe.error&&(qe.error=Ei),void 0===qe.complete&&(qe.complete=Ei);const Dn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),Dn}unsubscribeOne(xe){void 0===this.observers||void 0===this.observers[xe]||(delete this.observers[xe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(xe){if(!this.finalized)for(let tt=0;tt<this.observers.length;tt++)this.sendOne(tt,xe)}sendOne(xe,tt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[xe])try{tt(this.observers[xe])}catch(kt){typeof console<"u"&&console.error&&console.error(kt)}})}close(xe){this.finalized||(this.finalized=!0,void 0!==xe&&(this.finalError=xe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ei(){}function vn(De){return De&&De._delegate?De._delegate:De}},4442:(Nn,wt,k)=>{"use strict";k.d(wt,{L:()=>Se,a:()=>ce,b:()=>Me,c:()=>We,d:()=>Ke,g:()=>At}),k(5531);const Se="ionViewWillEnter",ce="ionViewDidEnter",Me="ionViewWillLeave",We="ionViewDidLeave",Ke="ionViewWillUnload",At=ye=>ye.classList.contains("ion-page")?ye:ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ye},5531:(Nn,wt,k)=>{"use strict";k.d(wt,{a:()=>be,c:()=>p,g:()=>Ke});class h{constructor(){this.m=new Map}reset(ye){this.m=new Map(Object.entries(ye))}get(ye,Ce){const Ie=this.m.get(ye);return void 0!==Ie?Ie:Ce}getBoolean(ye,Ce=!1){const Ie=this.m.get(ye);return void 0===Ie?Ce:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(ye,Ce){const Ie=parseFloat(this.m.get(ye));return isNaN(Ie)?void 0!==Ce?Ce:NaN:Ie}set(ye,Ce){this.m.set(ye,Ce)}}const p=new h,Ke=At=>me(At),be=(At,ye)=>("string"==typeof At&&(ye=At,At=void 0),Ke(At).includes(ye)),me=(At=window)=>{if(typeof At>"u")return[];At.Ionic=At.Ionic||{};let ye=At.Ionic.platforms;return null==ye&&(ye=At.Ionic.platforms=Ge(At),ye.forEach(Ce=>At.document.documentElement.classList.add(`plt-${Ce}`))),ye},Ge=At=>{const ye=p.get("platform");return Object.keys(qt).filter(Ce=>{const Ie=null==ye?void 0:ye[Ce];return"function"==typeof Ie?Ie(At):qt[Ce](At)})},Ze=At=>!!(Re(At,/iPad/i)||Re(At,/Macintosh/i)&&Ae(At)),ot=At=>Re(At,/android|sink/i),Ae=At=>tn(At,"(any-pointer:coarse)"),Oe=At=>at(At)||Qe(At),at=At=>!!(At.cordova||At.phonegap||At.PhoneGap),Qe=At=>{const ye=At.Capacitor;return!(null==ye||!ye.isNative)},Re=(At,ye)=>ye.test(At.navigator.userAgent),tn=(At,ye)=>{var Ce;return null===(Ce=At.matchMedia)||void 0===Ce?void 0:Ce.call(At,ye).matches},qt={ipad:Ze,iphone:At=>Re(At,/iPhone/i),ios:At=>Re(At,/iPhone|iPod/i)||Ze(At),android:ot,phablet:At=>{const ye=At.innerWidth,Ce=At.innerHeight,Ie=Math.min(ye,Ce),te=Math.max(ye,Ce);return Ie>390&&Ie<520&&te>620&&te<800},tablet:At=>{const ye=At.innerWidth,Ce=At.innerHeight,Ie=Math.min(ye,Ce),te=Math.max(ye,Ce);return Ze(At)||(At=>ot(At)&&!Re(At,/mobile/i))(At)||Ie>460&&Ie<820&&te>780&&te<1400},cordova:at,capacitor:Qe,electron:At=>Re(At,/electron/i),pwa:At=>{var ye;return!!(null!==(ye=At.matchMedia)&&void 0!==ye&&ye.call(At,"(display-mode: standalone)").matches||At.navigator.standalone)},mobile:Ae,mobileweb:At=>Ae(At)&&!Oe(At),desktop:At=>!Ae(At),hybrid:Oe}},9986:(Nn,wt,k)=>{"use strict";k.d(wt,{c:()=>ce});var h=k(8476);let p;const le=(Me,We,Ke)=>{const be=We.startsWith("animation")?(Me=>(void 0===p&&(p=void 0===Me.style.animationName&&void 0!==Me.style.webkitAnimationName?"-webkit-":""),p))(Me):"";Me.style.setProperty(be+We,Ke)},Se=(Me=[],We)=>{if(void 0!==We){const Ke=Array.isArray(We)?We:[We];return[...Me,...Ke]}return Me},ce=Me=>{let We,Ke,be,me,Ge,je,ft,Mt,Gt,Re,jt,Ze=[],gt=[],vt=[],ot=!1,Dt={},yt=[],Ae=[],Te={},Oe=0,at=!1,Qe=!1,tn=!0,qt=!1,Cn=!0,qn=!1;const At=Me,ye=[],Ce=[],Ie=[],te=[],_e=[],Le=[],He=[],$e=[],rt=[],an=[],Kt=[],$n="function"==typeof AnimationEffect||void 0!==h.w&&"function"==typeof h.w.AnimationEffect,ut="function"==typeof Element&&"function"==typeof Element.prototype.animate&&$n,Ct=()=>Kt,sr=(bt,Zt)=>{const Sn=Zt.findIndex(ur=>ur.c===bt);Sn>-1&&Zt.splice(Sn,1)},Ne=(bt,Zt)=>((null!=Zt&&Zt.oneTimeCallback?Ce:ye).push({c:bt,o:Zt}),jt),Bt=()=>{ut&&(Kt.forEach(bt=>{bt.cancel()}),Kt.length=0)},St=()=>{Le.forEach(bt=>{null!=bt&&bt.parentNode&&bt.parentNode.removeChild(bt)}),Le.length=0},pr=()=>void 0!==Ge?Ge:ft?ft.getFill():"both",kr=()=>void 0!==Mt?Mt:void 0!==je?je:ft?ft.getDirection():"normal",Mn=()=>at?"linear":void 0!==be?be:ft?ft.getEasing():"linear",Fi=()=>Qe?0:void 0!==Gt?Gt:void 0!==Ke?Ke:ft?ft.getDuration():0,or=()=>void 0!==me?me:ft?ft.getIterations():1,xr=()=>void 0!==Re?Re:void 0!==We?We:ft?ft.getDelay():0,Bn=()=>{0!==Oe&&(Oe--,0===Oe&&((()=>{rt.forEach(cr=>cr()),an.forEach(cr=>cr());const bt=tn?1:0,Zt=yt,Sn=Ae,ur=Te;te.forEach(cr=>{const ar=cr.classList;Zt.forEach(Qn=>ar.add(Qn)),Sn.forEach(Qn=>ar.remove(Qn));for(const Qn in ur)ur.hasOwnProperty(Qn)&&le(cr,Qn,ur[Qn])}),Gt=void 0,Mt=void 0,Re=void 0,ye.forEach(cr=>cr.c(bt,jt)),Ce.forEach(cr=>cr.c(bt,jt)),Ce.length=0,Cn=!0,tn&&(qt=!0),tn=!0})(),ft&&ft.animationFinish()))},fi=()=>{(()=>{He.forEach(ur=>ur()),$e.forEach(ur=>ur());const bt=gt,Zt=vt,Sn=Dt;te.forEach(ur=>{const cr=ur.classList;bt.forEach(ar=>cr.add(ar)),Zt.forEach(ar=>cr.remove(ar));for(const ar in Sn)Sn.hasOwnProperty(ar)&&le(ur,ar,Sn[ar])})})(),Ze.length>0&&ut&&(te.forEach(bt=>{const Zt=bt.animate(Ze,{id:At,delay:xr(),duration:Fi(),easing:Mn(),iterations:or(),fill:pr(),direction:kr()});Zt.pause(),Kt.push(Zt)}),Kt.length>0&&(Kt[0].onfinish=()=>{Bn()})),ot=!0},lt=bt=>{bt=Math.min(Math.max(bt,0),.9999),ut&&Kt.forEach(Zt=>{Zt.currentTime=Zt.effect.getComputedTiming().delay+Fi()*bt,Zt.pause()})},zr=bt=>{Kt.forEach(Zt=>{Zt.effect.updateTiming({delay:xr(),duration:Fi(),easing:Mn(),iterations:or(),fill:pr(),direction:kr()})}),void 0!==bt&&lt(bt)},Jn=(bt=!1,Zt=!0,Sn)=>(bt&&_e.forEach(ur=>{ur.update(bt,Zt,Sn)}),ut&&zr(Sn),jt),Wi=()=>{ot&&(ut?Kt.forEach(bt=>{bt.pause()}):te.forEach(bt=>{le(bt,"animation-play-state","paused")}),qn=!0)},Vr=bt=>new Promise(Zt=>{null!=bt&&bt.sync&&(Qe=!0,Ne(()=>Qe=!1,{oneTimeCallback:!0})),ot||fi(),qt&&(ut&&(lt(0),zr()),qt=!1),Cn&&(Oe=_e.length+1,Cn=!1);const Sn=()=>{sr(ur,Ce),Zt()},ur=()=>{sr(Sn,Ie),Zt()};Ne(ur,{oneTimeCallback:!0}),(bt=>{Ie.push({c:bt,o:{oneTimeCallback:!0}})})(Sn),_e.forEach(cr=>{cr.play()}),ut?(Kt.forEach(bt=>{bt.play()}),(0===Ze.length||0===te.length)&&Bn()):Bn(),qn=!1}),ht=(bt,Zt)=>{const Sn=Ze[0];return void 0===Sn||void 0!==Sn.offset&&0!==Sn.offset?Ze=[{offset:0,[bt]:Zt},...Ze]:Sn[bt]=Zt,jt};return jt={parentAnimation:ft,elements:te,childAnimations:_e,id:At,animationFinish:Bn,from:ht,to:(bt,Zt)=>{const Sn=Ze[Ze.length-1];return void 0===Sn||void 0!==Sn.offset&&1!==Sn.offset?Ze=[...Ze,{offset:1,[bt]:Zt}]:Sn[bt]=Zt,jt},fromTo:(bt,Zt,Sn)=>ht(bt,Zt).to(bt,Sn),parent:bt=>(ft=bt,jt),play:Vr,pause:()=>(_e.forEach(bt=>{bt.pause()}),Wi(),jt),stop:()=>{_e.forEach(bt=>{bt.stop()}),ot&&(Bt(),ot=!1),at=!1,Qe=!1,Cn=!0,Mt=void 0,Gt=void 0,Re=void 0,Oe=0,qt=!1,tn=!0,qn=!1,Ie.forEach(bt=>bt.c(0,jt)),Ie.length=0},destroy:bt=>(_e.forEach(Zt=>{Zt.destroy(bt)}),(bt=>{Bt(),bt&&St()})(bt),te.length=0,_e.length=0,Ze.length=0,ye.length=0,Ce.length=0,ot=!1,Cn=!0,jt),keyframes:bt=>{const Zt=Ze!==bt;return Ze=bt,Zt&&(bt=>{ut&&Ct().forEach(Zt=>{const Sn=Zt.effect;if(Sn.setKeyframes)Sn.setKeyframes(bt);else{const ur=new KeyframeEffect(Sn.target,bt,Sn.getTiming());Zt.effect=ur}})})(Ze),jt},addAnimation:bt=>{if(null!=bt)if(Array.isArray(bt))for(const Zt of bt)Zt.parent(jt),_e.push(Zt);else bt.parent(jt),_e.push(bt);return jt},addElement:bt=>{if(null!=bt)if(1===bt.nodeType)te.push(bt);else if(bt.length>=0)for(let Zt=0;Zt<bt.length;Zt++)te.push(bt[Zt]);else console.error("Invalid addElement value");return jt},update:Jn,fill:bt=>(Ge=bt,Jn(!0),jt),direction:bt=>(je=bt,Jn(!0),jt),iterations:bt=>(me=bt,Jn(!0),jt),duration:bt=>(!ut&&0===bt&&(bt=1),Ke=bt,Jn(!0),jt),easing:bt=>(be=bt,Jn(!0),jt),delay:bt=>(We=bt,Jn(!0),jt),getWebAnimations:Ct,getKeyframes:()=>Ze,getFill:pr,getDirection:kr,getDelay:xr,getIterations:or,getEasing:Mn,getDuration:Fi,afterAddRead:bt=>(rt.push(bt),jt),afterAddWrite:bt=>(an.push(bt),jt),afterClearStyles:(bt=[])=>{for(const Zt of bt)Te[Zt]="";return jt},afterStyles:(bt={})=>(Te=bt,jt),afterRemoveClass:bt=>(Ae=Se(Ae,bt),jt),afterAddClass:bt=>(yt=Se(yt,bt),jt),beforeAddRead:bt=>(He.push(bt),jt),beforeAddWrite:bt=>($e.push(bt),jt),beforeClearStyles:(bt=[])=>{for(const Zt of bt)Dt[Zt]="";return jt},beforeStyles:(bt={})=>(Dt=bt,jt),beforeRemoveClass:bt=>(vt=Se(vt,bt),jt),beforeAddClass:bt=>(gt=Se(gt,bt),jt),onFinish:Ne,isRunning:()=>0!==Oe&&!qn,progressStart:(bt=!1,Zt)=>(_e.forEach(Sn=>{Sn.progressStart(bt,Zt)}),Wi(),at=bt,ot||fi(),Jn(!1,!0,Zt),jt),progressStep:bt=>(_e.forEach(Zt=>{Zt.progressStep(bt)}),lt(bt),jt),progressEnd:(bt,Zt,Sn)=>(at=!1,_e.forEach(ur=>{ur.progressEnd(bt,Zt,Sn)}),void 0!==Sn&&(Gt=Sn),qt=!1,tn=!0,0===bt?(Mt="reverse"===kr()?"normal":"reverse","reverse"===Mt&&(tn=!1),ut?(Jn(),lt(1-Zt)):(Re=(1-Zt)*Fi()*-1,Jn(!1,!1))):1===bt&&(ut?(Jn(),lt(Zt)):(Re=Zt*Fi()*-1,Jn(!1,!1))),void 0!==bt&&!ft&&Vr(),jt)}}},464:(Nn,wt,k)=>{"use strict";k.d(wt,{E:()=>be,a:()=>h,s:()=>We});const h=me=>{try{if(me instanceof Me)return me.value;if(!le()||"string"!=typeof me||""===me)return me;if(me.includes("onload="))return"";const Ge=document.createDocumentFragment(),je=document.createElement("div");Ge.appendChild(je),je.innerHTML=me,ce.forEach(ot=>{const ft=Ge.querySelectorAll(ot);for(let Dt=ft.length-1;Dt>=0;Dt--){const yt=ft[Dt];yt.parentNode?yt.parentNode.removeChild(yt):Ge.removeChild(yt);const Ae=Ee(yt);for(let Te=0;Te<Ae.length;Te++)p(Ae[Te])}});const Ze=Ee(Ge);for(let ot=0;ot<Ze.length;ot++)p(Ze[ot]);const gt=document.createElement("div");gt.appendChild(Ge);const vt=gt.querySelector("div");return null!==vt?vt.innerHTML:gt.innerHTML}catch(Ge){return console.error(Ge),""}},p=me=>{if(me.nodeType&&1!==me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(me.attributes instanceof NamedNodeMap))return void me.remove();for(let je=me.attributes.length-1;je>=0;je--){const Ze=me.attributes.item(je),gt=Ze.name;if(!Se.includes(gt.toLowerCase())){me.removeAttribute(gt);continue}const vt=Ze.value,ot=me[gt];(null!=vt&&vt.toLowerCase().includes("javascript:")||null!=ot&&ot.toLowerCase().includes("javascript:"))&&me.removeAttribute(gt)}const Ge=Ee(me);for(let je=0;je<Ge.length;je++)p(Ge[je])},Ee=me=>null!=me.children?me.children:me.childNodes,le=()=>{var me;const Ge=window,je=null===(me=null==Ge?void 0:Ge.Ionic)||void 0===me?void 0:me.config;return!je||(je.get?je.get("sanitizerEnabled",!0):!0===je.sanitizerEnabled||void 0===je.sanitizerEnabled)},Se=["class","id","href","src","name","slot"],ce=["script","style","iframe","meta","link","object","embed"];class Me{constructor(Ge){this.value=Ge}}const We=me=>{const Ge=window,je=Ge.Ionic;if(!je||!je.config||"Object"===je.config.constructor.name)return Ge.Ionic=Ge.Ionic||{},Ge.Ionic.config=Object.assign(Object.assign({},Ge.Ionic.config),me),Ge.Ionic.config},be=!1},8621:(Nn,wt,k)=>{"use strict";k.d(wt,{C:()=>Se,a:()=>Ee,d:()=>le});var h=k(467),p=k(4920);const Ee=function(){var ce=(0,h.A)(function*(Me,We,Ke,be,me,Ge){var je;if(Me)return Me.attachViewToDom(We,Ke,me,be);if(!(Ge||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const Ze="string"==typeof Ke?null===(je=We.ownerDocument)||void 0===je?void 0:je.createElement(Ke):Ke;return be&&be.forEach(gt=>Ze.classList.add(gt)),me&&Object.assign(Ze,me),We.appendChild(Ze),yield new Promise(gt=>(0,p.c)(Ze,gt)),Ze});return function(We,Ke,be,me,Ge,je){return ce.apply(this,arguments)}}(),le=(ce,Me)=>{if(Me){if(ce)return ce.removeViewFromDom(Me.parentElement,Me);Me.remove()}return Promise.resolve()},Se=()=>{let ce,Me;return{attachViewToDom:function(){var be=(0,h.A)(function*(me,Ge,je={},Ze=[]){var gt,vt;let ot;if(ce=me,Ge){const Dt="string"==typeof Ge?null===(gt=ce.ownerDocument)||void 0===gt?void 0:gt.createElement(Ge):Ge;Ze.forEach(yt=>Dt.classList.add(yt)),Object.assign(Dt,je),ce.appendChild(Dt),ot=Dt,yield new Promise(yt=>(0,p.c)(Dt,yt))}else if(ce.children.length>0&&("ION-MODAL"===ce.tagName||"ION-POPOVER"===ce.tagName)&&!(ot=ce.children[0]).classList.contains("ion-delegate-host")){const yt=null===(vt=ce.ownerDocument)||void 0===vt?void 0:vt.createElement("div");yt.classList.add("ion-delegate-host"),Ze.forEach(Ae=>yt.classList.add(Ae)),yt.append(...ce.children),ce.appendChild(yt),ot=yt}const ft=document.querySelector("ion-app")||document.body;return Me=document.createComment("ionic teleport"),ce.parentNode.insertBefore(Me,ce),ft.appendChild(ce),null!=ot?ot:ce});return function(Ge,je){return be.apply(this,arguments)}}(),removeViewFromDom:()=>(ce&&Me&&(Me.parentNode.insertBefore(ce,Me),Me.remove()),Promise.resolve())}}},1970:(Nn,wt,k)=>{"use strict";k.d(wt,{B:()=>le,G:()=>Se});class p{constructor(Me,We,Ke,be,me){this.id=We,this.name=Ke,this.disableScroll=me,this.priority=1e6*be+We,this.ctrl=Me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Me=this.ctrl.capture(this.name,this.id,this.priority);return Me&&this.disableScroll&&this.ctrl.disableScroll(this.id),Me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Ee{constructor(Me,We,Ke,be){this.id=We,this.disable=Ke,this.disableScroll=be,this.ctrl=Me}block(){if(this.ctrl){if(this.disable)for(const Me of this.disable)this.ctrl.disableGesture(Me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Me of this.disable)this.ctrl.enableGesture(Me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const le="backdrop-no-scroll",Se=new class h{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Me){var We;return new p(this,this.newID(),Me.name,null!==(We=Me.priority)&&void 0!==We?We:0,!!Me.disableScroll)}createBlocker(Me={}){return new Ee(this,this.newID(),Me.disable,!!Me.disableScroll)}start(Me,We,Ke){return this.canStart(Me)?(this.requestedStart.set(We,Ke),!0):(this.requestedStart.delete(We),!1)}capture(Me,We,Ke){if(!this.start(Me,We,Ke))return!1;const be=this.requestedStart;let me=-1e4;if(be.forEach(Ge=>{me=Math.max(me,Ge)}),me===Ke){this.capturedId=We,be.clear();const Ge=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Me}});return document.dispatchEvent(Ge),!0}return be.delete(We),!1}release(Me){this.requestedStart.delete(Me),this.capturedId===Me&&(this.capturedId=void 0)}disableGesture(Me,We){let Ke=this.disabledGestures.get(Me);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(Me,Ke)),Ke.add(We)}enableGesture(Me,We){const Ke=this.disabledGestures.get(Me);void 0!==Ke&&Ke.delete(We)}disableScroll(Me){this.disabledScroll.add(Me),1===this.disabledScroll.size&&document.body.classList.add(le)}enableScroll(Me){this.disabledScroll.delete(Me),0===this.disabledScroll.size&&document.body.classList.remove(le)}canStart(Me){return!(void 0!==this.capturedId||this.isDisabled(Me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Me){const We=this.disabledGestures.get(Me);return!!(We&&We.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Nn,wt,k)=>{"use strict";k.r(wt),k.d(wt,{MENU_BACK_BUTTON_PRIORITY:()=>Ke,OVERLAY_BACK_BUTTON_PRIORITY:()=>We,blockHardwareBackButton:()=>ce,shouldUseCloseWatcher:()=>Se,startHardwareBackButton:()=>Me});var h=k(467),p=k(8476),Ee=k(9483);k(4261);const Se=()=>Ee.c.get("experimentalCloseWatcher",!1)&&void 0!==p.w&&"CloseWatcher"in p.w,ce=()=>{document.addEventListener("backbutton",()=>{})},Me=()=>{const be=document;let me=!1;const Ge=()=>{if(me)return;let je=0,Ze=[];const gt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ft,Dt){Ze.push({priority:ft,handler:Dt,id:je++})}}});be.dispatchEvent(gt);const vt=function(){var ft=(0,h.A)(function*(Dt){try{if(null!=Dt&&Dt.handler){const yt=Dt.handler(ot);null!=yt&&(yield yt)}}catch(yt){console.error(yt)}});return function(yt){return ft.apply(this,arguments)}}(),ot=()=>{if(Ze.length>0){let ft={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ze.forEach(Dt=>{Dt.priority>=ft.priority&&(ft=Dt)}),me=!0,Ze=Ze.filter(Dt=>Dt.id!==ft.id),vt(ft).then(()=>me=!1)}};ot()};if(Se()){let je;const Ze=()=>{null==je||je.destroy(),je=new p.w.CloseWatcher,je.onclose=()=>{Ge(),Ze()}};Ze()}else be.addEventListener("backbutton",Ge)},We=100,Ke=99},4920:(Nn,wt,k)=>{"use strict";k.d(wt,{a:()=>We,b:()=>Ke,c:()=>Ee,d:()=>Ze,e:()=>Dt,f:()=>je,g:()=>be,h:()=>Se,i:()=>Me,j:()=>gt,k:()=>le,l:()=>Ge,m:()=>vt,n:()=>ft,o:()=>yt,p:()=>ot,r:()=>me,s:()=>Ae,t:()=>h});const h=(Te,Oe=0)=>new Promise(at=>{p(Te,Oe,at)}),p=(Te,Oe=0,at)=>{let Qe,Mt;const Gt={passive:!0},tn=()=>{Qe&&Qe()},qt=Cn=>{(void 0===Cn||Te===Cn.target)&&(tn(),at(Cn))};return Te&&(Te.addEventListener("webkitTransitionEnd",qt,Gt),Te.addEventListener("transitionend",qt,Gt),Mt=setTimeout(qt,Oe+500),Qe=()=>{void 0!==Mt&&(clearTimeout(Mt),Mt=void 0),Te.removeEventListener("webkitTransitionEnd",qt,Gt),Te.removeEventListener("transitionend",qt,Gt)}),tn},Ee=(Te,Oe)=>{Te.componentOnReady?Te.componentOnReady().then(at=>Oe(at)):me(()=>Oe(Te))},le=Te=>void 0!==Te.componentOnReady,Se=(Te,Oe=[])=>{const at={};return Oe.forEach(Qe=>{Te.hasAttribute(Qe)&&(null!==Te.getAttribute(Qe)&&(at[Qe]=Te.getAttribute(Qe)),Te.removeAttribute(Qe))}),at},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Me=(Te,Oe)=>{let at=ce;return Oe&&Oe.length>0&&(at=at.filter(Qe=>!Oe.includes(Qe))),Se(Te,at)},We=(Te,Oe,at,Qe)=>{var Mt;if(typeof window<"u"){const Gt=window,Re=null===(Mt=null==Gt?void 0:Gt.Ionic)||void 0===Mt?void 0:Mt.config;if(Re){const tn=Re.get("_ael");if(tn)return tn(Te,Oe,at,Qe);if(Re._ael)return Re._ael(Te,Oe,at,Qe)}}return Te.addEventListener(Oe,at,Qe)},Ke=(Te,Oe,at,Qe)=>{var Mt;if(typeof window<"u"){const Gt=window,Re=null===(Mt=null==Gt?void 0:Gt.Ionic)||void 0===Mt?void 0:Mt.config;if(Re){const tn=Re.get("_rel");if(tn)return tn(Te,Oe,at,Qe);if(Re._rel)return Re._rel(Te,Oe,at,Qe)}}return Te.removeEventListener(Oe,at,Qe)},be=(Te,Oe=Te)=>Te.shadowRoot||Oe,me=Te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Te):"function"==typeof requestAnimationFrame?requestAnimationFrame(Te):setTimeout(Te),Ge=Te=>!!Te.shadowRoot&&!!Te.attachShadow,je=Te=>{if(Te.focus(),Te.classList.contains("ion-focusable")){const Oe=Te.closest("ion-app");Oe&&Oe.setFocus([Te])}},Ze=(Te,Oe,at,Qe,Mt)=>{if(Te||Ge(Oe)){let Gt=Oe.querySelector("input.aux-input");Gt||(Gt=Oe.ownerDocument.createElement("input"),Gt.type="hidden",Gt.classList.add("aux-input"),Oe.appendChild(Gt)),Gt.disabled=Mt,Gt.name=at,Gt.value=Qe||""}},gt=(Te,Oe,at)=>Math.max(Te,Math.min(Oe,at)),vt=(Te,Oe)=>{if(!Te){const at="ASSERT: "+Oe;throw console.error(at),new Error(at)}},ot=Te=>{if(Te){const Oe=Te.changedTouches;if(Oe&&Oe.length>0){const at=Oe[0];return{x:at.clientX,y:at.clientY}}if(void 0!==Te.pageX)return{x:Te.pageX,y:Te.pageY}}return{x:0,y:0}},ft=Te=>{const Oe="rtl"===document.dir;switch(Te){case"start":return Oe;case"end":return!Oe;default:throw new Error(`"${Te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Dt=(Te,Oe)=>{const at=Te._original||Te;return{_original:Te,emit:yt(at.emit.bind(at),Oe)}},yt=(Te,Oe=0)=>{let at;return(...Qe)=>{clearTimeout(at),at=setTimeout(Te,Oe,...Qe)}},Ae=(Te,Oe)=>{if(null!=Te||(Te={}),null!=Oe||(Oe={}),Te===Oe)return!0;const at=Object.keys(Te);if(at.length!==Object.keys(Oe).length)return!1;for(const Qe of at)if(!(Qe in Oe)||Te[Qe]!==Oe[Qe])return!1;return!0}},1702:(Nn,wt,k)=>{"use strict";k.d(wt,{m:()=>je});var h=k(467),p=k(8476),Ee=k(7192),le=k(4929),Se=k(4920),ce=k(9483),Me=k(9986);const We=Ze=>(0,Me.c)().duration(Ze?400:300),Ke=Ze=>{let gt,vt;const ot=Ze.width+8,ft=(0,Me.c)(),Dt=(0,Me.c)();Ze.isEndSide?(gt=ot+"px",vt="0px"):(gt=-ot+"px",vt="0px"),ft.addElement(Ze.menuInnerEl).fromTo("transform",`translateX(${gt})`,`translateX(${vt})`);const Ae="ios"===(0,ce.b)(Ze),Te=Ae?.2:.25;return Dt.addElement(Ze.backdropEl).fromTo("opacity",.01,Te),We(Ae).addAnimation([ft,Dt])},be=Ze=>{let gt,vt;const ot=(0,ce.b)(Ze),ft=Ze.width;Ze.isEndSide?(gt=-ft+"px",vt=ft+"px"):(gt=ft+"px",vt=-ft+"px");const Dt=(0,Me.c)().addElement(Ze.menuInnerEl).fromTo("transform",`translateX(${vt})`,"translateX(0px)"),yt=(0,Me.c)().addElement(Ze.contentEl).fromTo("transform","translateX(0px)",`translateX(${gt})`),Ae=(0,Me.c)().addElement(Ze.backdropEl).fromTo("opacity",.01,.32);return We("ios"===ot).addAnimation([Dt,yt,Ae])},me=Ze=>{const gt=(0,ce.b)(Ze),vt=Ze.width*(Ze.isEndSide?-1:1)+"px",ot=(0,Me.c)().addElement(Ze.contentEl).fromTo("transform","translateX(0px)",`translateX(${vt})`);return We("ios"===gt).addAnimation(ot)},je=(()=>{const Ze=new Map,gt=[],vt=function(){var Ie=(0,h.A)(function*(te){const _e=yield Oe(te,!0);return!!_e&&_e.open()});return function(_e){return Ie.apply(this,arguments)}}(),ot=function(){var Ie=(0,h.A)(function*(te){const _e=yield void 0!==te?Oe(te,!0):at();return void 0!==_e&&_e.close()});return function(_e){return Ie.apply(this,arguments)}}(),ft=function(){var Ie=(0,h.A)(function*(te){const _e=yield Oe(te,!0);return!!_e&&_e.toggle()});return function(_e){return Ie.apply(this,arguments)}}(),Dt=function(){var Ie=(0,h.A)(function*(te,_e){const Le=yield Oe(_e);return Le&&(Le.disabled=!te),Le});return function(_e,Le){return Ie.apply(this,arguments)}}(),yt=function(){var Ie=(0,h.A)(function*(te,_e){const Le=yield Oe(_e);return Le&&(Le.swipeGesture=te),Le});return function(_e,Le){return Ie.apply(this,arguments)}}(),Ae=function(){var Ie=(0,h.A)(function*(te){if(null!=te){const _e=yield Oe(te);return void 0!==_e&&_e.isOpen()}return void 0!==(yield at())});return function(_e){return Ie.apply(this,arguments)}}(),Te=function(){var Ie=(0,h.A)(function*(te){const _e=yield Oe(te);return!!_e&&!_e.disabled});return function(_e){return Ie.apply(this,arguments)}}(),Oe=function(){var Ie=(0,h.A)(function*(te,_e=!1){if(yield Ce(),"start"===te||"end"===te){const He=gt.filter(rt=>rt.side===te&&!rt.disabled);if(He.length>=1)return He.length>1&&_e&&(0,le.p)(`menuController queried for a menu on the "${te}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(rt=>rt.el)),He[0].el;const $e=gt.filter(rt=>rt.side===te);if($e.length>=1)return $e.length>1&&_e&&(0,le.p)(`menuController queried for a menu on the "${te}" side, but ${$e.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,$e.map(rt=>rt.el)),$e[0].el}else if(null!=te)return ye(He=>He.menuId===te);return ye(He=>!He.disabled)||(gt.length>0?gt[0].el:void 0)});return function(_e){return Ie.apply(this,arguments)}}(),at=function(){var Ie=(0,h.A)(function*(){return yield Ce(),jt()});return function(){return Ie.apply(this,arguments)}}(),Qe=function(){var Ie=(0,h.A)(function*(){return yield Ce(),qn()});return function(){return Ie.apply(this,arguments)}}(),Mt=function(){var Ie=(0,h.A)(function*(){return yield Ce(),At()});return function(){return Ie.apply(this,arguments)}}(),Gt=(Ie,te)=>{Ze.set(Ie,te)},qt=function(){var Ie=(0,h.A)(function*(te,_e,Le,He){if(At())return!1;if(_e){const $e=yield at();$e&&te.el!==$e&&(yield $e.setOpen(!1,!1))}return te._setOpen(_e,Le,He)});return function(_e,Le,He,$e){return Ie.apply(this,arguments)}}(),jt=()=>ye(Ie=>Ie._isOpen),qn=()=>gt.map(Ie=>Ie.el),At=()=>gt.some(Ie=>Ie.isAnimating),ye=Ie=>{const te=gt.find(Ie);if(void 0!==te)return te.el},Ce=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ie=>new Promise(te=>(0,Se.c)(Ie,te))));return Gt("reveal",me),Gt("push",be),Gt("overlay",Ke),null==p.d||p.d.addEventListener("ionBackButton",Ie=>{const te=jt();te&&Ie.detail.register(Ee.MENU_BACK_BUTTON_PRIORITY,()=>te.close())}),{registerAnimation:Gt,get:Oe,getMenus:Qe,getOpen:at,isEnabled:Te,swipeGesture:yt,isAnimating:Mt,isOpen:Ae,enable:Dt,toggle:ft,close:ot,open:vt,_getOpenSync:jt,_createAnimation:(Ie,te)=>{const _e=Ze.get(Ie);if(!_e)throw new Error("animation not registered");return _e(te)},_register:Ie=>{gt.indexOf(Ie)<0&&gt.push(Ie)},_unregister:Ie=>{const te=gt.indexOf(Ie);te>-1&&gt.splice(te,1)},_setOpen:qt}})()},4261:(Nn,wt,k)=>{"use strict";k.d(wt,{B:()=>ce,a:()=>Cn,b:()=>hr,c:()=>pr,d:()=>or,e:()=>rt,f:()=>Pn,g:()=>kr,h:()=>dr,i:()=>Fi,j:()=>Ni,k:()=>Kt,r:()=>Ke,w:()=>an});var h=k(467);var le=Object.defineProperty,ce={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Me=new WeakMap,We=Q=>Me.get(Q),Ke=(Q,ie)=>Me.set(ie.$lazyInstance$=Q,ie),me=(Q,ie)=>ie in Q,Ge=(Q,ie)=>(0,console.error)(Q,ie),je=new Map,gt=new Map,vt=[],Ae="s-id",Qe="slot-fb{display:contents}slot-fb[hidden]{display:none}",Mt="http://www.w3.org/1999/xlink",Gt=typeof window<"u"?window:{},Re=Gt.document||{head:{}},qt={$flags$:0,$resourcesUrl$:"",jmp:Q=>Q(),raf:Q=>requestAnimationFrame(Q),ael:(Q,ie,ke,ze)=>Q.addEventListener(ie,ke,ze),rel:(Q,ie,ke,ze)=>Q.removeEventListener(ie,ke,ze),ce:(Q,ie)=>new CustomEvent(Q,ie)},Cn=Q=>{Object.assign(qt,Q)},qn=(()=>{let Q=!1;try{Re.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Q=!0}}))}catch{}return Q})(),ye=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ce=!1,Ie=[],te=[],_e=(Q,ie)=>ke=>{Q.push(ke),Ce||(Ce=!0,ie&&4&qt.$flags$?$e(He):qt.raf(He))},Le=Q=>{for(let ie=0;ie<Q.length;ie++)try{Q[ie](performance.now())}catch(ke){Ge(ke)}Q.length=0},He=()=>{Le(Ie),Le(te),(Ce=Ie.length>0)&&qt.raf(He)},$e=Q=>Promise.resolve(void 0).then(Q),rt=_e(Ie,!1),an=_e(te,!0),Kt=Q=>{const ie=new URL(Q,qt.$resourcesUrl$);return ie.origin!==Gt.location.origin?ie.href:ie.pathname},$n={},ir=Q=>"object"==(Q=typeof Q)||"function"===Q;function Jt(Q){var ie,ke,ze;return null!=(ze=null==(ke=null==(ie=Q.head)?void 0:ie.querySelector('meta[name="csp-nonce"]'))?void 0:ke.getAttribute("content"))?ze:void 0}((Q,ie)=>{for(var ke in ie)le(Q,ke,{get:ie[ke],enumerable:!0})})({},{err:()=>cn,map:()=>Ne,ok:()=>sr,unwrap:()=>Fe,unwrapErr:()=>Bt});var sr=Q=>({isOk:!0,isErr:!1,value:Q}),cn=Q=>({isOk:!1,isErr:!0,value:Q});function Ne(Q,ie){if(Q.isOk){const ke=ie(Q.value);return ke instanceof Promise?ke.then(ze=>sr(ze)):sr(ke)}if(Q.isErr)return cn(Q.value);throw"should never get here"}var Fe=Q=>{if(Q.isOk)return Q.value;throw Q.value},Bt=Q=>{if(Q.isErr)return Q.value;throw Q.value},dr=(Q,ie,...ke)=>{let ze=null,pt=null,it=null,Ut=!1,Rt=!1;const Yt=[],un=On=>{for(let nr=0;nr<On.length;nr++)ze=On[nr],Array.isArray(ze)?un(ze):null!=ze&&"boolean"!=typeof ze&&((Ut="function"!=typeof Q&&!ir(ze))&&(ze=String(ze)),Ut&&Rt?Yt[Yt.length-1].$text$+=ze:Yt.push(Ut?zn(null,ze):ze),Rt=Ut)};if(un(ke),ie){ie.key&&(pt=ie.key),ie.name&&(it=ie.name);{const On=ie.className||ie.class;On&&(ie.class="object"!=typeof On?On:Object.keys(On).filter(nr=>On[nr]).join(" "))}}if("function"==typeof Q)return Q(null===ie?{}:ie,Yt,Ir);const Tn=zn(Q,null);return Tn.$attrs$=ie,Yt.length>0&&(Tn.$children$=Yt),Tn.$key$=pt,Tn.$name$=it,Tn},zn=(Q,ie)=>({$flags$:0,$tag$:Q,$text$:ie,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pn={},Ir={forEach:(Q,ie)=>Q.map(Cr).forEach(ie),map:(Q,ie)=>Q.map(Cr).map(ie).map(br)},Cr=Q=>({vattrs:Q.$attrs$,vchildren:Q.$children$,vkey:Q.$key$,vname:Q.$name$,vtag:Q.$tag$,vtext:Q.$text$}),br=Q=>{if("function"==typeof Q.vtag){const ke={...Q.vattrs};return Q.vkey&&(ke.key=Q.vkey),Q.vname&&(ke.name=Q.vname),dr(Q.vtag,ke,...Q.vchildren||[])}const ie=zn(Q.vtag,Q.vtext);return ie.$attrs$=Q.vattrs,ie.$children$=Q.vchildren,ie.$key$=Q.vkey,ie.$name$=Q.vname,ie},Ei=(Q,ie,ke,ze,pt,it,Ut)=>{let Rt,Yt,un,Tn;if(1===it.nodeType){if(Rt=it.getAttribute("c-id"),Rt&&(Yt=Rt.split("."),(Yt[0]===Ut||"0"===Yt[0])&&(un={$flags$:0,$hostId$:Yt[0],$nodeId$:Yt[1],$depth$:Yt[2],$index$:Yt[3],$tag$:it.tagName.toLowerCase(),$elm$:it,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ie.push(un),it.removeAttribute("c-id"),Q.$children$||(Q.$children$=[]),Q.$children$[un.$index$]=un,Q=un,ze&&"0"===un.$depth$&&(ze[un.$index$]=un.$elm$))),it.shadowRoot)for(Tn=it.shadowRoot.childNodes.length-1;Tn>=0;Tn--)Ei(Q,ie,ke,ze,pt,it.shadowRoot.childNodes[Tn],Ut);for(Tn=it.childNodes.length-1;Tn>=0;Tn--)Ei(Q,ie,ke,ze,pt,it.childNodes[Tn],Ut)}else if(8===it.nodeType)Yt=it.nodeValue.split("."),(Yt[1]===Ut||"0"===Yt[1])&&(Rt=Yt[0],un={$flags$:0,$hostId$:Yt[1],$nodeId$:Yt[2],$depth$:Yt[3],$index$:Yt[4],$elm$:it,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Rt?(un.$elm$=it.nextSibling,un.$elm$&&3===un.$elm$.nodeType&&(un.$text$=un.$elm$.textContent,ie.push(un),it.remove(),Q.$children$||(Q.$children$=[]),Q.$children$[un.$index$]=un,ze&&"0"===un.$depth$&&(ze[un.$index$]=un.$elm$))):un.$hostId$===Ut&&("s"===Rt?(un.$tag$="slot",it["s-sn"]=Yt[5]?un.$name$=Yt[5]:"",it["s-sr"]=!0,ze&&(un.$elm$=Re.createElement(un.$tag$),un.$name$&&un.$elm$.setAttribute("name",un.$name$),it.parentNode.insertBefore(un.$elm$,it),it.remove(),"0"===un.$depth$&&(ze[un.$index$]=un.$elm$)),ke.push(un),Q.$children$||(Q.$children$=[]),Q.$children$[un.$index$]=un):"r"===Rt&&(ze?it.remove():(pt["s-cr"]=it,it["s-cn"]=!0))));else if(Q&&"style"===Q.$tag$){const On=zn(null,it.textContent);On.$elm$=it,On.$index$="0",Q.$children$=[On]}},Ln=(Q,ie)=>{if(1===Q.nodeType){let ke=0;if(Q.shadowRoot)for(;ke<Q.shadowRoot.childNodes.length;ke++)Ln(Q.shadowRoot.childNodes[ke],ie);for(ke=0;ke<Q.childNodes.length;ke++)Ln(Q.childNodes[ke],ie)}else if(8===Q.nodeType){const ke=Q.nodeValue.split(".");"o"===ke[0]&&(ie.set(ke[1]+"."+ke[2],Q),Q.nodeValue="",Q["s-en"]=ke[3])}},pr=Q=>vt.push(Q),kr=Q=>We(Q).$modeName$,Fi=Q=>We(Q).$hostElement$,or=(Q,ie,ke)=>{const ze=Fi(Q);return{emit:pt=>xr(ze,ie,{bubbles:!!(4&ke),composed:!!(2&ke),cancelable:!!(1&ke),detail:pt})}},xr=(Q,ie,ke)=>{const ze=qt.ce(ie,ke);return Q.dispatchEvent(ze),ze},Nr=new WeakMap,Wt=(Q,ie,ke)=>{var ze;const pt=Xt(ie,ke),it=gt.get(pt);if(Q=11===Q.nodeType?Q:Re,it)if("string"==typeof it){let Rt,Ut=Nr.get(Q=Q.head||Q);if(Ut||Nr.set(Q,Ut=new Set),!Ut.has(pt)){if(Q.host&&(Rt=Q.querySelector(`[sty-id="${pt}"]`)))Rt.innerHTML=it;else{Rt=Re.createElement("style"),Rt.innerHTML=it;const Yt=null!=(ze=qt.$nonce$)?ze:Jt(Re);null!=Yt&&Rt.setAttribute("nonce",Yt),(!(1&ie.$flags$)||1&ie.$flags$&&"HEAD"!==Q.nodeName)&&Q.insertBefore(Rt,Q.querySelector("link"))}4&ie.$flags$&&(Rt.innerHTML+=Qe),Ut&&Ut.add(pt)}}else Q.adoptedStyleSheets.includes(it)||(Q.adoptedStyleSheets=[...Q.adoptedStyleSheets,it]);return pt},Xt=(Q,ie)=>"sc-"+(ie&&32&Q.$flags$?Q.$tagName$+"-"+ie:Q.$tagName$),ct=(Q,ie,ke,ze,pt,it)=>{if(ke!==ze){let Ut=me(Q,ie),Rt=ie.toLowerCase();if("class"===ie){const Yt=Q.classList,un=vn(ke),Tn=vn(ze);Yt.remove(...un.filter(On=>On&&!Tn.includes(On))),Yt.add(...Tn.filter(On=>On&&!un.includes(On)))}else if("style"===ie){for(const Yt in ke)(!ze||null==ze[Yt])&&(Yt.includes("-")?Q.style.removeProperty(Yt):Q.style[Yt]="");for(const Yt in ze)(!ke||ze[Yt]!==ke[Yt])&&(Yt.includes("-")?Q.style.setProperty(Yt,ze[Yt]):Q.style[Yt]=ze[Yt])}else if("key"!==ie)if("ref"===ie)ze&&ze(Q);else if(Ut||"o"!==ie[0]||"n"!==ie[1]){const Yt=ir(ze);if((Ut||Yt&&null!==ze)&&!pt)try{if(Q.tagName.includes("-"))Q[ie]=ze;else{const Tn=null==ze?"":ze;"list"===ie?Ut=!1:(null==ke||Q[ie]!=Tn)&&(Q[ie]=Tn)}}catch{}let un=!1;Rt!==(Rt=Rt.replace(/^xlink\:?/,""))&&(ie=Rt,un=!0),null==ze||!1===ze?(!1!==ze||""===Q.getAttribute(ie))&&(un?Q.removeAttributeNS(Mt,ie):Q.removeAttribute(ie)):(!Ut||4&it||pt)&&!Yt&&(ze=!0===ze?"":ze,un?Q.setAttributeNS(Mt,ie,ze):Q.setAttribute(ie,ze))}else if(ie="-"===ie[2]?ie.slice(3):me(Gt,Rt)?Rt.slice(2):Rt[2]+ie.slice(3),ke||ze){const Yt=ie.endsWith(De);ie=ie.replace(xe,""),ke&&qt.rel(Q,ie,ke,Yt),ze&&qt.ael(Q,ie,ze,Yt)}}},dt=/\s/,vn=Q=>Q?Q.split(dt):[],De="Capture",xe=new RegExp(De+"$"),tt=(Q,ie,ke)=>{const ze=11===ie.$elm$.nodeType&&ie.$elm$.host?ie.$elm$.host:ie.$elm$,pt=Q&&Q.$attrs$||$n,it=ie.$attrs$||$n;for(const Ut of kt(Object.keys(pt)))Ut in it||ct(ze,Ut,pt[Ut],void 0,ke,ie.$flags$);for(const Ut of kt(Object.keys(it)))ct(ze,Ut,pt[Ut],it[Ut],ke,ie.$flags$)};function kt(Q){return Q.includes("ref")?[...Q.filter(ie=>"ref"!==ie),"ref"]:Q}var qe,Dn,Bn,Br=!1,fi=!1,lt=!1,zr=!1,Jn=(Q,ie,ke,ze)=>{var pt;const it=ie.$children$[ke];let Rt,Yt,un,Ut=0;if(Br||(lt=!0,"slot"===it.$tag$&&(qe&&ze.classList.add(qe+"-s"),it.$flags$|=it.$children$?2:1)),null!==it.$text$)Rt=it.$elm$=Re.createTextNode(it.$text$);else if(1&it.$flags$)Rt=it.$elm$=Re.createTextNode("");else{if(zr||(zr="svg"===it.$tag$),Rt=it.$elm$=Re.createElementNS(zr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Br&&2&it.$flags$?"slot-fb":it.$tag$),zr&&"foreignObject"===it.$tag$&&(zr=!1),tt(null,it,zr),!!Rt.getRootNode().querySelector("body")&&(Q=>null!=Q)(qe)&&Rt["s-si"]!==qe&&Rt.classList.add(Rt["s-si"]=qe),ur(Rt,ze),it.$children$)for(Ut=0;Ut<it.$children$.length;++Ut)Yt=Jn(Q,it,Ut,Rt),Yt&&Rt.appendChild(Yt);"svg"===it.$tag$?zr=!1:"foreignObject"===Rt.tagName&&(zr=!0)}return Rt["s-hn"]=Bn,3&it.$flags$&&(Rt["s-sr"]=!0,Rt["s-cr"]=Dn,Rt["s-sn"]=it.$name$||"",Rt["s-rf"]=null==(pt=it.$attrs$)?void 0:pt.ref,un=Q&&Q.$children$&&Q.$children$[ke],un&&un.$tag$===it.$tag$&&Q.$elm$&&pi(Q.$elm$)),Rt},pi=Q=>{qt.$flags$|=1;const ie=Q.closest(Bn.toLowerCase());if(null!=ie){const ke=Array.from(ie.childNodes).find(pt=>pt["s-cr"]),ze=Array.from(Q.childNodes);for(const pt of ke?ze.reverse():ze)null!=pt["s-sh"]&&(Zt(ie,pt,null!=ke?ke:null),pt["s-sh"]=void 0,lt=!0)}qt.$flags$&=-2},Ii=(Q,ie)=>{qt.$flags$|=1;const ke=Array.from(Q.childNodes);if(Q["s-sr"]){let ze=Q;for(;ze=ze.nextSibling;)ze&&ze["s-sn"]===Q["s-sn"]&&ze["s-sh"]===Bn&&ke.push(ze)}for(let ze=ke.length-1;ze>=0;ze--){const pt=ke[ze];pt["s-hn"]!==Bn&&pt["s-ol"]&&(Zt(Ki(pt),pt,Fo(pt)),pt["s-ol"].remove(),pt["s-ol"]=void 0,pt["s-sh"]=void 0,lt=!0),ie&&Ii(pt,ie)}qt.$flags$&=-2},tr=(Q,ie,ke,ze,pt,it)=>{let Rt,Ut=Q["s-cr"]&&Q["s-cr"].parentNode||Q;for(Ut.shadowRoot&&Ut.tagName===Bn&&(Ut=Ut.shadowRoot);pt<=it;++pt)ze[pt]&&(Rt=Jn(null,ke,pt,Q),Rt&&(ze[pt].$elm$=Rt,Zt(Ut,Rt,Fo(ie))))},Wi=(Q,ie,ke)=>{for(let ze=ie;ze<=ke;++ze){const pt=Q[ze];if(pt){const it=pt.$elm$;bt(pt),it&&(fi=!0,it["s-ol"]?it["s-ol"].remove():Ii(it,!0),it.remove())}}},Bi=(Q,ie,ke=!1)=>!(Q.$tag$!==ie.$tag$||("slot"===Q.$tag$?"$nodeId$"in Q&&ke&&8!==Q.$elm$.nodeType||Q.$name$!==ie.$name$:!ke&&Q.$key$!==ie.$key$)),Fo=Q=>Q&&Q["s-ol"]||Q,Ki=Q=>(Q["s-ol"]?Q["s-ol"]:Q).parentNode,Vr=(Q,ie,ke=!1)=>{const ze=ie.$elm$=Q.$elm$,pt=Q.$children$,it=ie.$children$,Ut=ie.$tag$,Rt=ie.$text$;let Yt;null===Rt?(zr="svg"===Ut||"foreignObject"!==Ut&&zr,"slot"!==Ut||Br?tt(Q,ie,zr):Q.$name$!==ie.$name$&&(ie.$elm$["s-sn"]=ie.$name$||"",pi(ie.$elm$.parentElement)),null!==pt&&null!==it?((Q,ie,ke,ze,pt=!1)=>{let mi,Ci,it=0,Ut=0,Rt=0,Yt=0,un=ie.length-1,Tn=ie[0],On=ie[un],nr=ze.length-1,Zn=ze[0],ni=ze[nr];for(;it<=un&&Ut<=nr;)if(null==Tn)Tn=ie[++it];else if(null==On)On=ie[--un];else if(null==Zn)Zn=ze[++Ut];else if(null==ni)ni=ze[--nr];else if(Bi(Tn,Zn,pt))Vr(Tn,Zn,pt),Tn=ie[++it],Zn=ze[++Ut];else if(Bi(On,ni,pt))Vr(On,ni,pt),On=ie[--un],ni=ze[--nr];else if(Bi(Tn,ni,pt))("slot"===Tn.$tag$||"slot"===ni.$tag$)&&Ii(Tn.$elm$.parentNode,!1),Vr(Tn,ni,pt),Zt(Q,Tn.$elm$,On.$elm$.nextSibling),Tn=ie[++it],ni=ze[--nr];else if(Bi(On,Zn,pt))("slot"===Tn.$tag$||"slot"===ni.$tag$)&&Ii(On.$elm$.parentNode,!1),Vr(On,Zn,pt),Zt(Q,On.$elm$,Tn.$elm$),On=ie[--un],Zn=ze[++Ut];else{for(Rt=-1,Yt=it;Yt<=un;++Yt)if(ie[Yt]&&null!==ie[Yt].$key$&&ie[Yt].$key$===Zn.$key$){Rt=Yt;break}Rt>=0?(Ci=ie[Rt],Ci.$tag$!==Zn.$tag$?mi=Jn(ie&&ie[Ut],ke,Rt,Q):(Vr(Ci,Zn,pt),ie[Rt]=void 0,mi=Ci.$elm$),Zn=ze[++Ut]):(mi=Jn(ie&&ie[Ut],ke,Ut,Q),Zn=ze[++Ut]),mi&&Zt(Ki(Tn.$elm$),mi,Fo(Tn.$elm$))}it>un?tr(Q,null==ze[nr+1]?null:ze[nr+1].$elm$,ke,ze,Ut,nr):Ut>nr&&Wi(ie,it,un)})(ze,pt,ie,it,ke):null!==it?(null!==Q.$text$&&(ze.textContent=""),tr(ze,null,ie,it,0,it.length-1)):!ke&&null!==pt&&Wi(pt,0,pt.length-1),zr&&"svg"===Ut&&(zr=!1)):(Yt=ze["s-cr"])?Yt.parentNode.textContent=Rt:Q.$text$!==Rt&&(ze.data=Rt)},zt=Q=>{const ie=Q.childNodes;for(const ke of ie)if(1===ke.nodeType){if(ke["s-sr"]){const ze=ke["s-sn"];ke.hidden=!1;for(const pt of ie)if(pt!==ke)if(pt["s-hn"]!==ke["s-hn"]||""!==ze){if(1===pt.nodeType&&(ze===pt.getAttribute("slot")||ze===pt["s-sn"])||3===pt.nodeType&&ze===pt["s-sn"]){ke.hidden=!0;break}}else if(1===pt.nodeType||3===pt.nodeType&&""!==pt.textContent.trim()){ke.hidden=!0;break}}zt(ke)}},ht=[],on=Q=>{let ie,ke,ze;for(const pt of Q.childNodes){if(pt["s-sr"]&&(ie=pt["s-cr"])&&ie.parentNode){ke=ie.parentNode.childNodes;const it=pt["s-sn"];for(ze=ke.length-1;ze>=0;ze--)if(ie=ke[ze],!(ie["s-cn"]||ie["s-nr"]||ie["s-hn"]===pt["s-hn"]||ie["s-sh"]&&ie["s-sh"]===pt["s-hn"]))if(xn(ie,it)){let Ut=ht.find(Rt=>Rt.$nodeToRelocate$===ie);fi=!0,ie["s-sn"]=ie["s-sn"]||it,Ut?(Ut.$nodeToRelocate$["s-sh"]=pt["s-hn"],Ut.$slotRefNode$=pt):(ie["s-sh"]=pt["s-hn"],ht.push({$slotRefNode$:pt,$nodeToRelocate$:ie})),ie["s-sr"]&&ht.map(Rt=>{xn(Rt.$nodeToRelocate$,ie["s-sn"])&&(Ut=ht.find(Yt=>Yt.$nodeToRelocate$===ie),Ut&&!Rt.$slotRefNode$&&(Rt.$slotRefNode$=Ut.$slotRefNode$))})}else ht.some(Ut=>Ut.$nodeToRelocate$===ie)||ht.push({$nodeToRelocate$:ie})}1===pt.nodeType&&on(pt)}},xn=(Q,ie)=>1===Q.nodeType?null===Q.getAttribute("slot")&&""===ie||Q.getAttribute("slot")===ie:Q["s-sn"]===ie||""===ie,bt=Q=>{Q.$attrs$&&Q.$attrs$.ref&&Q.$attrs$.ref(null),Q.$children$&&Q.$children$.map(bt)},Zt=(Q,ie,ke)=>{const ze=null==Q?void 0:Q.insertBefore(ie,ke);return ur(ie,Q),ze},Sn=Q=>{const ie=[];return Q&&ie.push(...Q["s-scs"]||[],Q["s-si"],Q["s-sc"],...Sn(Q.parentElement)),ie},ur=(Q,ie,ke=!1)=>{var ze;if(Q&&ie&&1===Q.nodeType){const pt=new Set(Sn(ie).filter(Boolean));if(pt.size&&(null==(ze=Q.classList)||ze.add(...Q["s-scs"]=[...pt]),Q["s-ol"]||ke))for(const it of Array.from(Q.childNodes))ur(it,Q,!0)}},ar=(Q,ie)=>{ie&&!Q.$onRenderResolve$&&ie["s-p"]&&ie["s-p"].push(new Promise(ke=>Q.$onRenderResolve$=ke))},Qn=(Q,ie)=>{if(Q.$flags$|=16,!(4&Q.$flags$))return ar(Q,Q.$ancestorComponent$),an(()=>Er(Q,ie));Q.$flags$|=512},Er=(Q,ie)=>{const pt=Q.$lazyInstance$;if(!pt)throw new Error(`Can't render component <${Q.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let it;return ie&&(Q.$flags$|=256,Q.$queuedListeners$&&(Q.$queuedListeners$.map(([Ut,Rt])=>Di(pt,Ut,Rt)),Q.$queuedListeners$=void 0),it=Di(pt,"componentWillLoad")),it=Vi(it,()=>Di(pt,"componentWillRender")),Vi(it,()=>eo(Q,pt,ie))},Vi=(Q,ie)=>Ur(Q)?Q.then(ie).catch(ke=>{console.error(ke),ie()}):ie(),Ur=Q=>Q instanceof Promise||Q&&Q.then&&"function"==typeof Q.then,eo=function(){var Q=(0,h.A)(function*(ie,ke,ze){var pt;const it=ie.$hostElement$,Rt=it["s-rc"];ze&&(Q=>{const ie=Q.$cmpMeta$,ke=Q.$hostElement$,ze=ie.$flags$,it=Wt(ke.shadowRoot?ke.shadowRoot:ke.getRootNode(),ie,Q.$modeName$);10&ze&&2&ze&&(ke["s-sc"]=it,ke.classList.add(it+"-h"),2&ze&&ke.classList.add(it+"-s"))})(ie);Pr(ie,ke,it,ze),Rt&&(Rt.map(un=>un()),it["s-rc"]=void 0);{const un=null!=(pt=it["s-p"])?pt:[],Tn=()=>gi(ie);0===un.length?Tn():(Promise.all(un).then(Tn),ie.$flags$|=4,un.length=0)}});return function(ke,ze,pt){return Q.apply(this,arguments)}}(),Pr=(Q,ie,ke,ze)=>{try{ie=ie.render&&ie.render(),Q.$flags$&=-17,Q.$flags$|=2,((Q,ie,ke=!1)=>{var ze,pt,it,Ut,Rt;const Yt=Q.$hostElement$,un=Q.$cmpMeta$,Tn=Q.$vnode$||zn(null,null),On=(Q=>Q&&Q.$tag$===Pn)(ie)?ie:dr(null,null,ie);if(Bn=Yt.tagName,un.$attrsToReflect$&&(On.$attrs$=On.$attrs$||{},un.$attrsToReflect$.map(([nr,Zn])=>On.$attrs$[Zn]=Yt[nr])),ke&&On.$attrs$)for(const nr of Object.keys(On.$attrs$))Yt.hasAttribute(nr)&&!["key","ref","style","class"].includes(nr)&&(On.$attrs$[nr]=Yt[nr]);if(On.$tag$=null,On.$flags$|=4,Q.$vnode$=On,On.$elm$=Tn.$elm$=Yt.shadowRoot||Yt,qe=Yt["s-sc"],Br=!!(1&un.$flags$),Dn=Yt["s-cr"],fi=!1,Vr(Tn,On,ke),qt.$flags$|=1,lt){on(On.$elm$);for(const nr of ht){const Zn=nr.$nodeToRelocate$;if(!Zn["s-ol"]){const ni=Re.createTextNode("");ni["s-nr"]=Zn,Zt(Zn.parentNode,Zn["s-ol"]=ni,Zn)}}for(const nr of ht){const Zn=nr.$nodeToRelocate$,ni=nr.$slotRefNode$;if(ni){const mi=ni.parentNode;let Ci=ni.nextSibling;if(Ci&&1===Ci.nodeType){let ri=null==(ze=Zn["s-ol"])?void 0:ze.previousSibling;for(;ri;){let wi=null!=(pt=ri["s-nr"])?pt:null;if(wi&&wi["s-sn"]===Zn["s-sn"]&&mi===wi.parentNode){for(wi=wi.nextSibling;wi===Zn||null!=wi&&wi["s-sr"];)wi=null==wi?void 0:wi.nextSibling;if(!wi||!wi["s-nr"]){Ci=wi;break}}ri=ri.previousSibling}}(!Ci&&mi!==Zn.parentNode||Zn.nextSibling!==Ci)&&Zn!==Ci&&(Zt(mi,Zn,Ci),1===Zn.nodeType&&(Zn.hidden=null!=(it=Zn["s-ih"])&&it)),Zn&&"function"==typeof ni["s-rf"]&&ni["s-rf"](Zn)}else 1===Zn.nodeType&&(ke&&(Zn["s-ih"]=null!=(Ut=Zn.hidden)&&Ut),Zn.hidden=!0)}}if(fi&&zt(On.$elm$),qt.$flags$&=-2,ht.length=0,2&un.$flags$)for(const nr of On.$elm$.childNodes)nr["s-hn"]!==Bn&&!nr["s-sh"]&&(ke&&null==nr["s-ih"]&&(nr["s-ih"]=null!=(Rt=nr.hidden)&&Rt),nr.hidden=!0);Dn=void 0})(Q,ie,ze)}catch(pt){Ge(pt,Q.$hostElement$)}return null},gi=Q=>{const ke=Q.$hostElement$,pt=Q.$lazyInstance$,it=Q.$ancestorComponent$;Di(pt,"componentDidRender"),64&Q.$flags$?Di(pt,"componentDidUpdate"):(Q.$flags$|=64,Ho(ke),Di(pt,"componentDidLoad"),Q.$onReadyResolve$(ke),it||Ro()),Q.$onInstanceResolve$(ke),Q.$onRenderResolve$&&(Q.$onRenderResolve$(),Q.$onRenderResolve$=void 0),512&Q.$flags$&&$e(()=>Qn(Q,!1)),Q.$flags$&=-517},Ni=Q=>{{const ie=We(Q),ke=ie.$hostElement$.isConnected;return ke&&2==(18&ie.$flags$)&&Qn(ie,!1),ke}},Ro=Q=>{Ho(Re.documentElement),$e(()=>xr(Gt,"appload",{detail:{namespace:"ionic"}}))},Di=(Q,ie,ke)=>{if(Q&&Q[ie])try{return Q[ie](ke)}catch(ze){Ge(ze)}},Ho=Q=>Q.classList.add("hydrated"),oe=(Q,ie,ke)=>{var ze,pt;const it=Q.prototype;if(ie.$members$||ie.$watchers$||Q.watchers){Q.watchers&&!ie.$watchers$&&(ie.$watchers$=Q.watchers);const Ut=Object.entries(null!=(ze=ie.$members$)?ze:{});if(Ut.map(([Rt,[Yt]])=>{31&Yt||2&ke&&32&Yt?Object.defineProperty(it,Rt,{get(){return((Q,ie)=>We(this).$instanceValues$.get(ie))(0,Rt)},set(un){((Q,ie,ke,ze)=>{const pt=We(Q);if(!pt)throw new Error(`Couldn't find host element for "${ze.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const it=pt.$hostElement$,Ut=pt.$instanceValues$.get(ie),Rt=pt.$flags$,Yt=pt.$lazyInstance$;ke=((Q,ie)=>null==Q||ir(Q)?Q:4&ie?"false"!==Q&&(""===Q||!!Q):2&ie?parseFloat(Q):1&ie?String(Q):Q)(ke,ze.$members$[ie][0]);const un=Number.isNaN(Ut)&&Number.isNaN(ke);if((!(8&Rt)||void 0===Ut)&&ke!==Ut&&!un&&(pt.$instanceValues$.set(ie,ke),Yt)){if(ze.$watchers$&&128&Rt){const On=ze.$watchers$[ie];On&&On.map(nr=>{try{Yt[nr](ke,Ut,ie)}catch(Zn){Ge(Zn,it)}})}2==(18&Rt)&&Qn(pt,!1)}})(this,Rt,un,ie)},configurable:!0,enumerable:!0}):1&ke&&64&Yt&&Object.defineProperty(it,Rt,{value(...un){var Tn;const On=We(this);return null==(Tn=null==On?void 0:On.$onInstancePromise$)?void 0:Tn.then(()=>{var nr;return null==(nr=On.$lazyInstance$)?void 0:nr[Rt](...un)})}})}),1&ke){const Rt=new Map;it.attributeChangedCallback=function(Yt,un,Tn){qt.jmp(()=>{var On;const nr=Rt.get(Yt);if(this.hasOwnProperty(nr))Tn=this[nr],delete this[nr];else{if(it.hasOwnProperty(nr)&&"number"==typeof this[nr]&&this[nr]==Tn)return;if(null==nr){const Zn=We(this),ni=null==Zn?void 0:Zn.$flags$;if(ni&&!(8&ni)&&128&ni&&Tn!==un){const mi=Zn.$lazyInstance$,Ci=null==(On=ie.$watchers$)?void 0:On[Yt];null==Ci||Ci.forEach(ri=>{null!=mi[ri]&&mi[ri].call(mi,Tn,un,Yt)})}return}}this[nr]=(null!==Tn||"boolean"!=typeof this[nr])&&Tn})},Q.observedAttributes=Array.from(new Set([...Object.keys(null!=(pt=ie.$watchers$)?pt:{}),...Ut.filter(([Yt,un])=>15&un[0]).map(([Yt,un])=>{var Tn;const On=un[1]||Yt;return Rt.set(On,Yt),512&un[0]&&(null==(Tn=ie.$attrsToReflect$)||Tn.push([Yt,On])),On})]))}}return Q},Ue=function(){var Q=(0,h.A)(function*(ie,ke,ze,pt){let it;if(!(32&ke.$flags$)){if(ke.$flags$|=32,ze.$lazyBundleId$){const un=(Q=>{const ze=Q.$tagName$.replace(/-/g,"_"),pt=Q.$lazyBundleId$;if(!pt)return;const it=je.get(pt);return it?it[ze]:k(8996)(`./${pt}.entry.js`).then(Ut=>(je.set(pt,Ut),Ut[ze]),Ge)})(ze);if(un&&"then"in un){const On=()=>{};it=yield un,On()}else it=un;if(!it)throw new Error(`Constructor for "${ze.$tagName$}#${ke.$modeName$}" was not found`);it.isProxied||(ze.$watchers$=it.watchers,oe(it,ze,2),it.isProxied=!0);const Tn=()=>{};ke.$flags$|=8;try{new it(ke)}catch(On){Ge(On)}ke.$flags$&=-9,ke.$flags$|=128,Tn(),xt(ke.$lazyInstance$)}else it=ie.constructor,customElements.whenDefined(ie.localName).then(()=>ke.$flags$|=128);if(it&&it.style){let un;"string"==typeof it.style?un=it.style:"string"!=typeof it.style&&(ke.$modeName$=(Q=>vt.map(ie=>ie(Q)).find(ie=>!!ie))(ie),ke.$modeName$&&(un=it.style[ke.$modeName$]));const Tn=Xt(ze,ke.$modeName$);if(!gt.has(Tn)){const On=()=>{};((Q,ie,ke)=>{let ze=gt.get(Q);ye&&ke?(ze=ze||new CSSStyleSheet,"string"==typeof ze?ze=ie:ze.replaceSync(ie)):ze=ie,gt.set(Q,ze)})(Tn,un,!!(1&ze.$flags$)),On()}}}const Ut=ke.$ancestorComponent$,Rt=()=>Qn(ke,!0);Ut&&Ut["s-rc"]?Ut["s-rc"].push(Rt):Rt()});return function(ke,ze,pt,it){return Q.apply(this,arguments)}}(),xt=Q=>{Di(Q,"connectedCallback")},nn=Q=>{const ie=Q["s-cr"]=Re.createComment("");ie["s-cn"]=!0,Zt(Q,ie,Q.firstChild)},_n=Q=>{Di(Q,"disconnectedCallback")},Hn=function(){var Q=(0,h.A)(function*(ie){if(!(1&qt.$flags$)){const ke=We(ie);ke.$rmListeners$&&(ke.$rmListeners$.map(ze=>ze()),ke.$rmListeners$=void 0),null!=ke&&ke.$lazyInstance$?_n(ke.$lazyInstance$):null!=ke&&ke.$onReadyPromise$&&ke.$onReadyPromise$.then(()=>_n(ke.$lazyInstance$))}});return function(ke){return Q.apply(this,arguments)}}(),Yn=Q=>{const ie=Q.cloneNode;Q.cloneNode=function(ke){const ze=this,pt=ze.shadowRoot&&true,it=ie.call(ze,!!pt&&ke);if(!pt&&ke){let Rt,Yt,Ut=0;const un=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Ut<ze.childNodes.length;Ut++)Rt=ze.childNodes[Ut]["s-nr"],Yt=un.every(Tn=>!ze.childNodes[Ut][Tn]),Rt&&(it.__appendChild?it.__appendChild(Rt.cloneNode(!0)):it.appendChild(Rt.cloneNode(!0))),Yt&&it.appendChild(ze.childNodes[Ut].cloneNode(!0))}return it}},vr=Q=>{Q.__appendChild=Q.appendChild,Q.appendChild=function(ie){const ke=ie["s-sn"]=Kr(ie),ze=yr(this.childNodes,ke,this.tagName);if(ze){const pt=to(ze,ke),it=pt[pt.length-1],Ut=Zt(it.parentNode,ie,it.nextSibling);return zt(this),Ut}return this.__appendChild(ie)}},Ai=Q=>{Q.__removeChild=Q.removeChild,Q.removeChild=function(ie){if(ie&&typeof ie["s-sn"]<"u"){const ke=yr(this.childNodes,ie["s-sn"],this.tagName);if(ke){const pt=to(ke,ie["s-sn"]).find(it=>it===ie);if(pt)return pt.remove(),void zt(this)}}return this.__removeChild(ie)}},Oi=Q=>{const ie=Q.prepend;Q.prepend=function(...ke){ke.forEach(ze=>{"string"==typeof ze&&(ze=this.ownerDocument.createTextNode(ze));const pt=ze["s-sn"]=Kr(ze),it=yr(this.childNodes,pt,this.tagName);if(it){const Ut=document.createTextNode("");Ut["s-nr"]=ze,it["s-cr"].parentNode.__appendChild(Ut),ze["s-ol"]=Ut;const Yt=to(it,pt)[0];return Zt(Yt.parentNode,ze,Yt.nextSibling)}return 1===ze.nodeType&&ze.getAttribute("slot")&&(ze.hidden=!0),ie.call(this,ze)})}},Lr=Q=>{Q.append=function(...ie){ie.forEach(ke=>{"string"==typeof ke&&(ke=this.ownerDocument.createTextNode(ke)),this.appendChild(ke)})}},$i=Q=>{const ie=Q.insertAdjacentHTML;Q.insertAdjacentHTML=function(ke,ze){if("afterbegin"!==ke&&"beforeend"!==ke)return ie.call(this,ke,ze);const pt=this.ownerDocument.createElement("_");let it;if(pt.innerHTML=ze,"afterbegin"===ke)for(;it=pt.firstChild;)this.prepend(it);else if("beforeend"===ke)for(;it=pt.firstChild;)this.append(it)}},Ti=Q=>{Q.insertAdjacentText=function(ie,ke){this.insertAdjacentHTML(ie,ke)}},bn=Q=>{const ie=Q.insertAdjacentElement;Q.insertAdjacentElement=function(ke,ze){return"afterbegin"!==ke&&"beforeend"!==ke?ie.call(this,ke,ze):"afterbegin"===ke?(this.prepend(ze),ze):("beforeend"===ke&&this.append(ze),ze)}},Rr=Q=>{const ie=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Q,"__textContent",ie),Object.defineProperty(Q,"textContent",{get(){return" "+ui(this.childNodes).map(pt=>{var it,Ut;const Rt=[];let Yt=pt.nextSibling;for(;Yt&&Yt["s-sn"]===pt["s-sn"];)(3===Yt.nodeType||1===Yt.nodeType)&&Rt.push(null!=(Ut=null==(it=Yt.textContent)?void 0:it.trim())?Ut:""),Yt=Yt.nextSibling;return Rt.filter(un=>""!==un).join(" ")}).filter(pt=>""!==pt).join(" ")+" "},set(ke){ui(this.childNodes).forEach(pt=>{let it=pt.nextSibling;for(;it&&it["s-sn"]===pt["s-sn"];){const Ut=it;it=it.nextSibling,Ut.remove()}if(""===pt["s-sn"]){const Ut=this.ownerDocument.createTextNode(ke);Ut["s-sn"]="",Zt(pt.parentElement,Ut,pt.nextSibling)}else pt.remove()})}})},Un=(Q,ie)=>{class ke extends Array{item(pt){return this[pt]}}if(8&ie.$flags$){const ze=Q.__lookupGetter__("childNodes");Object.defineProperty(Q,"children",{get(){return this.childNodes.map(pt=>1===pt.nodeType)}}),Object.defineProperty(Q,"childElementCount",{get:()=>Q.children.length}),Object.defineProperty(Q,"childNodes",{get(){const pt=ze.call(this);if(!(1&qt.$flags$)&&2&We(this).$flags$){const it=new ke;for(let Ut=0;Ut<pt.length;Ut++){const Rt=pt[Ut]["s-nr"];Rt&&it.push(Rt)}return it}return ke.from(pt)}})}},ui=Q=>{const ie=[];for(const ke of Array.from(Q))ke["s-sr"]&&ie.push(ke),ie.push(...ui(ke.childNodes));return ie},Kr=Q=>Q["s-sn"]||1===Q.nodeType&&Q.getAttribute("slot")||"",yr=(Q,ie,ke)=>{let pt,ze=0;for(;ze<Q.length;ze++)if(pt=Q[ze],pt["s-sr"]&&pt["s-sn"]===ie&&pt["s-hn"]===ke||(pt=yr(pt.childNodes,ie,ke),pt))return pt;return null},to=(Q,ie)=>{const ke=[Q];for(;(Q=Q.nextSibling)&&Q["s-sn"]===ie;)ke.push(Q);return ke},hr=(Q,ie={})=>{var ke;const pt=[],it=ie.exclude||[],Ut=Gt.customElements,Rt=Re.head,Yt=Rt.querySelector("meta[charset]"),un=Re.createElement("style"),Tn=[];let On,nr=!0;Object.assign(qt,ie),qt.$resourcesUrl$=new URL(ie.resourcesUrl||"./",Re.baseURI).href,qt.$flags$|=2;let Zn=!1;if(Q.map(ni=>{ni[1].map(mi=>{var Ci;const ri={$flags$:mi[0],$tagName$:mi[1],$members$:mi[2],$listeners$:mi[3]};4&ri.$flags$&&(Zn=!0),ri.$members$=mi[2],ri.$listeners$=mi[3],ri.$attrsToReflect$=[],ri.$watchers$=null!=(Ci=mi[4])?Ci:{};const wi=ri.$tagName$,bi=class extends HTMLElement{constructor(fo){if(super(fo),this.hasRegisteredEventListeners=!1,((Q,ie)=>{const ke={$flags$:0,$hostElement$:Q,$cmpMeta$:ie,$instanceValues$:new Map};ke.$onInstancePromise$=new Promise(ze=>ke.$onInstanceResolve$=ze),ke.$onReadyPromise$=new Promise(ze=>ke.$onReadyResolve$=ze),Q["s-p"]=[],Q["s-rc"]=[],Me.set(Q,ke)})(fo=this,ri),1&ri.$flags$)if(fo.shadowRoot){if("open"!==fo.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${ri.$tagName$}! Mode is set to ${fo.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else fo.attachShadow({mode:"open",delegatesFocus:!!(16&ri.$flags$)})}connectedCallback(){const fo=We(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Yr(this,fo,ri.$listeners$)),On&&(clearTimeout(On),On=null),nr?Tn.push(this):qt.jmp(()=>(Q=>{if(!(1&qt.$flags$)){const ie=We(Q),ke=ie.$cmpMeta$,ze=()=>{};if(1&ie.$flags$)Yr(Q,ie,ke.$listeners$),null!=ie&&ie.$lazyInstance$?xt(ie.$lazyInstance$):null!=ie&&ie.$onReadyPromise$&&ie.$onReadyPromise$.then(()=>xt(ie.$lazyInstance$));else{let pt;if(ie.$flags$|=1,pt=Q.getAttribute(Ae),pt){if(1&ke.$flags$){const it=Wt(Q.shadowRoot,ke,Q.getAttribute("s-mode"));Q.classList.remove(it+"-h",it+"-s")}((Q,ie,ke,ze)=>{const it=Q.shadowRoot,Ut=[],Yt=it?[]:null,un=ze.$vnode$=zn(ie,null);qt.$orgLocNodes$||Ln(Re.body,qt.$orgLocNodes$=new Map),Q[Ae]=ke,Q.removeAttribute(Ae),Ei(un,Ut,[],Yt,Q,Q,ke),Ut.map(Tn=>{const On=Tn.$hostId$+"."+Tn.$nodeId$,nr=qt.$orgLocNodes$.get(On),Zn=Tn.$elm$;nr&&""===nr["s-en"]&&nr.parentNode.insertBefore(Zn,nr.nextSibling),it||(Zn["s-hn"]=ie,nr&&(Zn["s-ol"]=nr,Zn["s-ol"]["s-nr"]=Zn)),qt.$orgLocNodes$.delete(On)}),it&&Yt.map(Tn=>{Tn&&it.appendChild(Tn)})})(Q,ke.$tagName$,pt,ie)}pt||12&ke.$flags$&&nn(Q);{let it=Q;for(;it=it.parentNode||it.host;)if(1===it.nodeType&&it.hasAttribute("s-id")&&it["s-p"]||it["s-p"]){ar(ie,ie.$ancestorComponent$=it);break}}ke.$members$&&Object.entries(ke.$members$).map(([it,[Ut]])=>{if(31&Ut&&Q.hasOwnProperty(it)){const Rt=Q[it];delete Q[it],Q[it]=Rt}}),Ue(Q,ie,ke)}ze()}})(this))}disconnectedCallback(){qt.jmp(()=>Hn(this))}componentOnReady(){return We(this).$onReadyPromise$}};2&ri.$flags$&&((Q,ie)=>{Yn(Q),vr(Q),Lr(Q),Oi(Q),bn(Q),$i(Q),Ti(Q),Rr(Q),Un(Q,ie),Ai(Q)})(bi.prototype,ri),ri.$lazyBundleId$=ni[0],!it.includes(wi)&&!Ut.get(wi)&&(pt.push(wi),Ut.define(wi,oe(bi,ri,1)))})}),pt.length>0&&(Zn&&(un.textContent+=Qe),un.textContent+=pt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",un.innerHTML.length)){un.setAttribute("data-styles","");const ni=null!=(ke=qt.$nonce$)?ke:Jt(Re);null!=ni&&un.setAttribute("nonce",ni),Rt.insertBefore(un,Yt?Yt.nextSibling:Rt.firstChild)}nr=!1,Tn.length?Tn.map(ni=>ni.connectedCallback()):qt.jmp(()=>On=setTimeout(Ro,30))},Yr=(Q,ie,ke,ze)=>{ke&&ke.map(([pt,it,Ut])=>{const Rt=Pi(Q,pt),Yt=wn(ie,Ut),un=ci(pt);qt.ael(Rt,it,Yt,un),(ie.$rmListeners$=ie.$rmListeners$||[]).push(()=>qt.rel(Rt,it,Yt,un))})},wn=(Q,ie)=>ke=>{var ze;try{256&Q.$flags$?null==(ze=Q.$lazyInstance$)||ze[ie](ke):(Q.$queuedListeners$=Q.$queuedListeners$||[]).push([ie,ke])}catch(pt){Ge(pt)}},Pi=(Q,ie)=>4&ie?Re:8&ie?Gt:16&ie?Re.body:Q,ci=Q=>qn?{passive:!!(1&Q),capture:!!(2&Q)}:!!(2&Q)},8607:(Nn,wt,k)=>{"use strict";k.r(wt),k.d(wt,{GESTURE_CONTROLLER:()=>h.G,createGesture:()=>Ke});var h=k(1970);const p=(je,Ze,gt,vt)=>{const ot=Ee(je)?{capture:!!vt.capture,passive:!!vt.passive}:!!vt.capture;let ft,Dt;return je.__zone_symbol__addEventListener?(ft="__zone_symbol__addEventListener",Dt="__zone_symbol__removeEventListener"):(ft="addEventListener",Dt="removeEventListener"),je[ft](Ze,gt,ot),()=>{je[Dt](Ze,gt,ot)}},Ee=je=>{if(void 0===le)try{const Ze=Object.defineProperty({},"passive",{get:()=>{le=!0}});je.addEventListener("optsTest",()=>{},Ze)}catch{le=!1}return!!le};let le;const Me=je=>je instanceof Document?je:je.ownerDocument,Ke=je=>{let Ze=!1,gt=!1,vt=!0,ot=!1;const ft=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},je),Dt=ft.canStart,yt=ft.onWillStart,Ae=ft.onStart,Te=ft.onEnd,Oe=ft.notCaptured,at=ft.onMove,Qe=ft.threshold,Mt=ft.passive,Gt=ft.blurOnStart,Re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},tn=((je,Ze,gt)=>{const vt=gt*(Math.PI/180),ot="x"===je,ft=Math.cos(vt),Dt=Ze*Ze;let yt=0,Ae=0,Te=!1,Oe=0;return{start(at,Qe){yt=at,Ae=Qe,Oe=0,Te=!0},detect(at,Qe){if(!Te)return!1;const Mt=at-yt,Gt=Qe-Ae,Re=Mt*Mt+Gt*Gt;if(Re<Dt)return!1;const tn=Math.sqrt(Re),qt=(ot?Mt:Gt)/tn;return Oe=qt>ft?1:qt<-ft?-1:0,Te=!1,!0},isGesture:()=>0!==Oe,getDirection:()=>Oe}})(ft.direction,ft.threshold,ft.maxAngle),qt=h.G.createGesture({name:je.gestureName,priority:je.gesturePriority,disableScroll:je.disableScroll}),qn=()=>{Ze&&(ot=!1,at&&at(Re))},At=()=>!!qt.capture()&&(Ze=!0,vt=!1,Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime,yt?yt(Re).then(Ce):Ce(),!0),Ce=()=>{Gt&&(()=>{if(typeof document<"u"){const He=document.activeElement;null!=He&&He.blur&&He.blur()}})(),Ae&&Ae(Re),vt=!0},Ie=()=>{Ze=!1,gt=!1,ot=!1,vt=!0,qt.release()},te=He=>{const $e=Ze,rt=vt;if(Ie(),rt){if(be(Re,He),$e)return void(Te&&Te(Re));Oe&&Oe(Re)}},_e=((je,Ze,gt,vt,ot)=>{let ft,Dt,yt,Ae,Te,Oe,at,Qe=0;const Mt=ye=>{Qe=Date.now()+2e3,Ze(ye)&&(!Dt&&gt&&(Dt=p(je,"touchmove",gt,ot)),yt||(yt=p(ye.target,"touchend",Re,ot)),Ae||(Ae=p(ye.target,"touchcancel",Re,ot)))},Gt=ye=>{Qe>Date.now()||Ze(ye)&&(!Oe&&gt&&(Oe=p(Me(je),"mousemove",gt,ot)),at||(at=p(Me(je),"mouseup",tn,ot)))},Re=ye=>{qt(),vt&&vt(ye)},tn=ye=>{Cn(),vt&&vt(ye)},qt=()=>{Dt&&Dt(),yt&&yt(),Ae&&Ae(),Dt=yt=Ae=void 0},Cn=()=>{Oe&&Oe(),at&&at(),Oe=at=void 0},jt=()=>{qt(),Cn()},qn=(ye=!0)=>{ye?(ft||(ft=p(je,"touchstart",Mt,ot)),Te||(Te=p(je,"mousedown",Gt,ot))):(ft&&ft(),Te&&Te(),ft=Te=void 0,jt())};return{enable:qn,stop:jt,destroy:()=>{qn(!1),vt=gt=Ze=void 0}}})(ft.el,He=>{const $e=Ge(He);return!(gt||!vt||(me(He,Re),Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime=$e,Re.velocityX=Re.velocityY=Re.deltaX=Re.deltaY=0,Re.event=He,Dt&&!1===Dt(Re))||(qt.release(),!qt.start()))&&(gt=!0,0===Qe?At():(tn.start(Re.startX,Re.startY),!0))},He=>{Ze?!ot&&vt&&(ot=!0,be(Re,He),requestAnimationFrame(qn)):(be(Re,He),tn.detect(Re.currentX,Re.currentY)&&(!tn.isGesture()||!At())&&Le())},te,{capture:!1,passive:Mt}),Le=()=>{Ie(),_e.stop(),Oe&&Oe(Re)};return{enable(He=!0){He||(Ze&&te(void 0),Ie()),_e.enable(He)},destroy(){qt.destroy(),_e.destroy()}}},be=(je,Ze)=>{if(!Ze)return;const gt=je.currentX,vt=je.currentY,ot=je.currentTime;me(Ze,je);const ft=je.currentX,Dt=je.currentY,Ae=(je.currentTime=Ge(Ze))-ot;if(Ae>0&&Ae<100){const Oe=(Dt-vt)/Ae;je.velocityX=(ft-gt)/Ae*.7+.3*je.velocityX,je.velocityY=.7*Oe+.3*je.velocityY}je.deltaX=ft-je.startX,je.deltaY=Dt-je.startY,je.event=Ze},me=(je,Ze)=>{let gt=0,vt=0;if(je){const ot=je.changedTouches;if(ot&&ot.length>0){const ft=ot[0];gt=ft.clientX,vt=ft.clientY}else void 0!==je.pageX&&(gt=je.pageX,vt=je.pageY)}Ze.currentX=gt,Ze.currentY=vt},Ge=je=>je.timeStamp||Date.now()},3604:(Nn,wt,k)=>{"use strict";k.d(wt,{b:()=>We,c:()=>Ke,d:()=>be,e:()=>jt,g:()=>ye,l:()=>qt,s:()=>qn,t:()=>ft,w:()=>Cn});var h=k(467),p=k(9483),Ee=k(4261),le=k(4929),Se=k(4920);const We="ionViewWillLeave",Ke="ionViewDidLeave",be="ionViewWillUnload",me=Ce=>{Ce.tabIndex=-1,Ce.focus()},Ge=Ce=>null!==Ce.offsetParent,Ze="ion-last-focus",ot_saveViewFocus=te=>{if(p.c.get("focusManagerPriority",!1)){const Le=document.activeElement;null!==Le&&null!=te&&te.contains(Le)&&Le.setAttribute(Ze,"true")}},ot_setViewFocus=te=>{const _e=p.c.get("focusManagerPriority",!1);if(Array.isArray(_e)&&!te.contains(document.activeElement)){const Le=te.querySelector(`[${Ze}]`);if(Le&&Ge(Le))return void me(Le);for(const He of _e)switch(He){case"content":const $e=te.querySelector('main, [role="main"]');if($e&&Ge($e))return void me($e);break;case"heading":const rt=te.querySelector('h1, [role="heading"][aria-level="1"]');if(rt&&Ge(rt))return void me(rt);break;case"banner":const an=te.querySelector('header, [role="banner"]');if(an&&Ge(an))return void me(an);break;default:(0,le.p)(`Unrecognized focus manager priority value ${He}`)}me(te)}},ft=Ce=>new Promise((Ie,te)=>{(0,Ee.w)(()=>{Dt(Ce),yt(Ce).then(_e=>{_e.animation&&_e.animation.destroy(),Ae(Ce),Ie(_e)},_e=>{Ae(Ce),te(_e)})})}),Dt=Ce=>{const Ie=Ce.enteringEl,te=Ce.leavingEl;ot_saveViewFocus(te),At(Ie,te,Ce.direction),Ce.showGoBack?Ie.classList.add("can-go-back"):Ie.classList.remove("can-go-back"),qn(Ie,!1),Ie.style.setProperty("pointer-events","none"),te&&(qn(te,!1),te.style.setProperty("pointer-events","none"))},yt=function(){var Ce=(0,h.A)(function*(Ie){const te=yield Te(Ie);return te&&Ee.B.isBrowser?Oe(te,Ie):at(Ie)});return function(te){return Ce.apply(this,arguments)}}(),Ae=Ce=>{const Ie=Ce.enteringEl,te=Ce.leavingEl;Ie.classList.remove("ion-page-invisible"),Ie.style.removeProperty("pointer-events"),void 0!==te&&(te.classList.remove("ion-page-invisible"),te.style.removeProperty("pointer-events")),ot_setViewFocus(Ie)},Te=function(){var Ce=(0,h.A)(function*(Ie){return Ie.leavingEl&&Ie.animated&&0!==Ie.duration?Ie.animationBuilder?Ie.animationBuilder:"ios"===Ie.mode?(yield Promise.resolve().then(k.bind(k,5022))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,3615))).mdTransitionAnimation:void 0});return function(te){return Ce.apply(this,arguments)}}(),Oe=function(){var Ce=(0,h.A)(function*(Ie,te){yield Qe(te,!0);const _e=Ie(te.baseEl,te);Re(te.enteringEl,te.leavingEl);const Le=yield Gt(_e,te);return te.progressCallback&&te.progressCallback(void 0),Le&&tn(te.enteringEl,te.leavingEl),{hasCompleted:Le,animation:_e}});return function(te,_e){return Ce.apply(this,arguments)}}(),at=function(){var Ce=(0,h.A)(function*(Ie){const te=Ie.enteringEl,_e=Ie.leavingEl,Le=p.c.get("focusManagerPriority",!1);return yield Qe(Ie,Le),Re(te,_e),tn(te,_e),{hasCompleted:!0}});return function(te){return Ce.apply(this,arguments)}}(),Qe=function(){var Ce=(0,h.A)(function*(Ie,te){(void 0!==Ie.deepWait?Ie.deepWait:te)&&(yield Promise.all([jt(Ie.enteringEl),jt(Ie.leavingEl)])),yield Mt(Ie.viewIsReady,Ie.enteringEl)});return function(te,_e){return Ce.apply(this,arguments)}}(),Mt=function(){var Ce=(0,h.A)(function*(Ie,te){Ie&&(yield Ie(te))});return function(te,_e){return Ce.apply(this,arguments)}}(),Gt=(Ce,Ie)=>{const te=Ie.progressCallback,_e=new Promise(Le=>{Ce.onFinish(He=>Le(1===He))});return te?(Ce.progressStart(!0),te(Ce)):Ce.play(),_e},Re=(Ce,Ie)=>{qt(Ie,We),qt(Ce,"ionViewWillEnter")},tn=(Ce,Ie)=>{qt(Ce,"ionViewDidEnter"),qt(Ie,Ke)},qt=(Ce,Ie)=>{if(Ce){const te=new CustomEvent(Ie,{bubbles:!1,cancelable:!1});Ce.dispatchEvent(te)}},Cn=()=>new Promise(Ce=>(0,Se.r)(()=>(0,Se.r)(()=>Ce()))),jt=function(){var Ce=(0,h.A)(function*(Ie){const te=Ie;if(te){if(null!=te.componentOnReady){if(null!=(yield te.componentOnReady()))return}else if(null!=te.__registerHost)return void(yield new Promise(Le=>(0,Se.r)(Le)));yield Promise.all(Array.from(te.children).map(jt))}});return function(te){return Ce.apply(this,arguments)}}(),qn=(Ce,Ie)=>{Ie?(Ce.setAttribute("aria-hidden","true"),Ce.classList.add("ion-page-hidden")):(Ce.hidden=!1,Ce.removeAttribute("aria-hidden"),Ce.classList.remove("ion-page-hidden"))},At=(Ce,Ie,te)=>{void 0!==Ce&&(Ce.style.zIndex="back"===te?"99":"101"),void 0!==Ie&&(Ie.style.zIndex="100")},ye=Ce=>Ce.classList.contains("ion-page")?Ce:Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ce},4929:(Nn,wt,k)=>{"use strict";k.d(wt,{a:()=>p,b:()=>Ee,p:()=>h});const h=(le,...Se)=>console.warn(`[Ionic Warning]: ${le}`,...Se),p=(le,...Se)=>console.error(`[Ionic Error]: ${le}`,...Se),Ee=(le,...Se)=>console.error(`<${le.tagName.toLowerCase()}> must be used inside ${Se.join(" or ")}.`)},8476:(Nn,wt,k)=>{"use strict";k.d(wt,{d:()=>p,w:()=>h});const h=typeof window<"u"?window:void 0,p=typeof document<"u"?document:void 0},9483:(Nn,wt,k)=>{"use strict";k.d(wt,{a:()=>me,b:()=>qn,c:()=>Ee,i:()=>At});var h=k(4261);class p{constructor(){this.m=new Map}reset(Ce){this.m=new Map(Object.entries(Ce))}get(Ce,Ie){const te=this.m.get(Ce);return void 0!==te?te:Ie}getBoolean(Ce,Ie=!1){const te=this.m.get(Ce);return void 0===te?Ie:"string"==typeof te?"true"===te:!!te}getNumber(Ce,Ie){const te=parseFloat(this.m.get(Ce));return isNaN(te)?void 0!==Ie?Ie:NaN:te}set(Ce,Ie){this.m.set(Ce,Ie)}}const Ee=new p,Ke="ionic-persist-config",me=(ye,Ce)=>("string"==typeof ye&&(Ce=ye,ye=void 0),(ye=>Ge(ye))(ye).includes(Ce)),Ge=(ye=window)=>{if(typeof ye>"u")return[];ye.Ionic=ye.Ionic||{};let Ce=ye.Ionic.platforms;return null==Ce&&(Ce=ye.Ionic.platforms=je(ye),Ce.forEach(Ie=>ye.document.documentElement.classList.add(`plt-${Ie}`))),Ce},je=ye=>{const Ce=Ee.get("platform");return Object.keys(Cn).filter(Ie=>{const te=null==Ce?void 0:Ce[Ie];return"function"==typeof te?te(ye):Cn[Ie](ye)})},gt=ye=>!!(tn(ye,/iPad/i)||tn(ye,/Macintosh/i)&&Te(ye)),ft=ye=>tn(ye,/android|sink/i),Te=ye=>qt(ye,"(any-pointer:coarse)"),at=ye=>Qe(ye)||Mt(ye),Qe=ye=>!!(ye.cordova||ye.phonegap||ye.PhoneGap),Mt=ye=>{const Ce=ye.Capacitor;return!(null==Ce||!Ce.isNative)},tn=(ye,Ce)=>Ce.test(ye.navigator.userAgent),qt=(ye,Ce)=>{var Ie;return null===(Ie=ye.matchMedia)||void 0===Ie?void 0:Ie.call(ye,Ce).matches},Cn={ipad:gt,iphone:ye=>tn(ye,/iPhone/i),ios:ye=>tn(ye,/iPhone|iPod/i)||gt(ye),android:ft,phablet:ye=>{const Ce=ye.innerWidth,Ie=ye.innerHeight,te=Math.min(Ce,Ie),_e=Math.max(Ce,Ie);return te>390&&te<520&&_e>620&&_e<800},tablet:ye=>{const Ce=ye.innerWidth,Ie=ye.innerHeight,te=Math.min(Ce,Ie),_e=Math.max(Ce,Ie);return gt(ye)||(ye=>ft(ye)&&!tn(ye,/mobile/i))(ye)||te>460&&te<820&&_e>780&&_e<1400},cordova:Qe,capacitor:Mt,electron:ye=>tn(ye,/electron/i),pwa:ye=>{var Ce;return!!(null!==(Ce=ye.matchMedia)&&void 0!==Ce&&Ce.call(ye,"(display-mode: standalone)").matches||ye.navigator.standalone)},mobile:Te,mobileweb:ye=>Te(ye)&&!at(ye),desktop:ye=>!Te(ye),hybrid:at};let jt;const qn=ye=>ye&&(0,h.g)(ye)||jt,At=(ye={})=>{if(typeof window>"u")return;const Ce=window.document,Ie=window,te=Ie.Ionic=Ie.Ionic||{},_e={};ye._ael&&(_e.ael=ye._ael),ye._rel&&(_e.rel=ye._rel),ye._ce&&(_e.ce=ye._ce),(0,h.a)(_e);const Le=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ye=>{try{const Ce=ye.sessionStorage.getItem(Ke);return null!==Ce?JSON.parse(Ce):{}}catch{return{}}})(Ie)),{persistConfig:!1}),te.config),(ye=>{const Ce={};return ye.location.search.slice(1).split("&").map(Ie=>Ie.split("=")).map(([Ie,te])=>{try{return[decodeURIComponent(Ie),decodeURIComponent(te)]}catch{return["",""]}}).filter(([Ie])=>((ye,Ce)=>ye.substr(0,Ce.length)===Ce)(Ie,"ionic:")).map(([Ie,te])=>[Ie.slice(6),te]).forEach(([Ie,te])=>{Ce[Ie]=te}),Ce})(Ie)),ye);Ee.reset(Le),Ee.getBoolean("persistConfig")&&((ye,Ce)=>{try{ye.sessionStorage.setItem(Ke,JSON.stringify(Ce))}catch{return}})(Ie,Le),Ge(Ie),te.config=Ee,te.mode=jt=Ee.get("mode",Ce.documentElement.getAttribute("mode")||(me(Ie,"ios")?"ios":"md")),Ee.set("mode",jt),Ce.documentElement.setAttribute("mode",jt),Ce.documentElement.classList.add(jt),Ee.getBoolean("_testing")&&Ee.set("animated",!1);const He=rt=>{var an;return null===(an=rt.tagName)||void 0===an?void 0:an.startsWith("ION-")},$e=rt=>["ios","md"].includes(rt);(0,h.c)(rt=>{for(;rt;){const an=rt.mode||rt.getAttribute("mode");if(an){if($e(an))return an;He(rt)&&console.warn('Invalid ionic mode: "'+an+'", expected: "ios" or "md"')}rt=rt.parentElement}return jt})}},5022:(Nn,wt,k)=>{"use strict";k.r(wt),k.d(wt,{iosTransitionAnimation:()=>Ze,shadow:()=>We});var h=k(9986),p=k(3604);k(8476),k(9483),k(4261);const Me=vt=>document.querySelector(`${vt}.ion-cloned-element`),We=vt=>vt.shadowRoot||vt,Ke=vt=>{const ot="ION-TABS"===vt.tagName?vt:vt.querySelector("ion-tabs"),ft="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ot){const Dt=ot.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Dt?Dt.querySelector(ft):null}return vt.querySelector(ft)},be=(vt,ot)=>{const ft="ION-TABS"===vt.tagName?vt:vt.querySelector("ion-tabs");let Dt=[];if(null!=ft){const yt=ft.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=yt&&(Dt=yt.querySelectorAll("ion-buttons"))}else Dt=vt.querySelectorAll("ion-buttons");for(const yt of Dt){const Ae=yt.closest("ion-header"),Te=Ae&&!Ae.classList.contains("header-collapse-condense-inactive"),Oe=yt.querySelector("ion-back-button"),at=yt.classList.contains("buttons-collapse");if(null!==Oe&&("start"===yt.slot||""===yt.slot)&&(at&&Te&&ot||!at))return Oe}return null},Ge=(vt,ot,ft,Dt,yt,Ae,Te,Oe,at)=>{var Qe,Mt;const Gt=ot?`calc(100% - ${yt.right+4}px)`:yt.left-4+"px",Re=ot?"right":"left",tn=ot?"left":"right",qt=ot?"right":"left";let Cn=1,jt=1,qn=`scale(${jt})`;const At="scale(1)";if(Ae&&Te){const Fe=(null===(Qe=Ae.textContent)||void 0===Qe?void 0:Qe.trim())===(null===(Mt=Oe.textContent)||void 0===Mt?void 0:Mt.trim());Cn=at.width/Te.width,jt=(at.height-gt)/Te.height,qn=Fe?`scale(${Cn}, ${jt})`:`scale(${jt})`}const Ce=We(Dt).querySelector("ion-icon").getBoundingClientRect(),Ie=ot?Ce.width/2-(Ce.right-yt.right)+"px":yt.left-Ce.width/2+"px",te=ot?`-${window.innerWidth-yt.right}px`:`${yt.left}px`,_e=`${at.top}px`,Le=`${yt.top}px`,rt=ft?[{offset:0,transform:`translate3d(${te}, ${Le}, 0)`},{offset:1,transform:`translate3d(${Ie}, ${_e}, 0)`}]:[{offset:0,transform:`translate3d(${Ie}, ${_e}, 0)`},{offset:1,transform:`translate3d(${te}, ${Le}, 0)`}],$n=ft?[{offset:0,opacity:1,transform:At},{offset:1,opacity:0,transform:qn}]:[{offset:0,opacity:0,transform:qn},{offset:1,opacity:1,transform:At}],Gn=ft?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ir=(0,h.c)(),Jt=(0,h.c)(),ln=(0,h.c)(),sr=Me("ion-back-button"),cn=We(sr).querySelector(".button-text"),Ne=We(sr).querySelector("ion-icon");sr.text=Dt.text,sr.mode=Dt.mode,sr.icon=Dt.icon,sr.color=Dt.color,sr.disabled=Dt.disabled,sr.style.setProperty("display","block"),sr.style.setProperty("position","fixed"),Jt.addElement(Ne),ir.addElement(cn),ln.addElement(sr),ln.beforeStyles({position:"absolute",top:"0px",[qt]:"0px"}).beforeAddWrite(()=>{Dt.style.setProperty("display","none"),sr.style.setProperty(Re,Gt)}).afterAddWrite(()=>{Dt.style.setProperty("display",""),sr.style.setProperty("display","none"),sr.style.removeProperty(Re)}).keyframes(rt),ir.beforeStyles({"transform-origin":`${Re} top`}).keyframes($n),Jt.beforeStyles({"transform-origin":`${tn} center`}).keyframes(Gn),vt.addAnimation([ir,Jt,ln])},je=(vt,ot,ft,Dt,yt,Ae,Te,Oe,at)=>{var Qe,Mt;const Gt=ot?"right":"left",Re=ot?`calc(100% - ${yt.right}px)`:`${yt.left}px`,qt=`${yt.top}px`;let jt=ot?`-${window.innerWidth-Te.right-8}px`:`${Te.x+8}px`,qn=.5;const At="scale(1)";let ye=`scale(${qn})`;if(Oe&&at){jt=ot?`-${window.innerWidth-at.right-8}px`:at.x-8+"px";const an=(null===(Qe=Oe.textContent)||void 0===Qe?void 0:Qe.trim())===(null===(Mt=Dt.textContent)||void 0===Mt?void 0:Mt.trim());qn=at.height/(Ae.height-gt),ye=an?`scale(${at.width/Ae.width}, ${qn})`:`scale(${qn})`}const te=Te.top+Te.height/2-yt.height*qn/2+"px",He=ft?[{offset:0,opacity:0,transform:`translate3d(${jt}, ${te}, 0) ${ye}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${qt}, 0) ${At}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${qt}, 0) ${At}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${jt}, ${te}, 0) ${ye}`}],$e=Me("ion-title"),rt=(0,h.c)();$e.innerText=Dt.innerText,$e.size=Dt.size,$e.color=Dt.color,rt.addElement($e),rt.beforeStyles({"transform-origin":`${Gt} top`,height:`${yt.height}px`,display:"",position:"relative",[Gt]:Re}).beforeAddWrite(()=>{Dt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Dt.style.setProperty("opacity",""),$e.style.setProperty("display","none")}).keyframes(He),vt.addAnimation(rt)},Ze=(vt,ot)=>{var ft;try{const Dt="cubic-bezier(0.32,0.72,0,1)",yt="opacity",Ae="transform",Te="0%",at="rtl"===vt.ownerDocument.dir,Qe=at?"-99.5%":"99.5%",Mt=at?"33%":"-33%",Gt=ot.enteringEl,Re=ot.leavingEl,tn="back"===ot.direction,qt=Gt.querySelector(":scope > ion-content"),Cn=Gt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),jt=Gt.querySelectorAll(":scope > ion-header > ion-toolbar"),qn=(0,h.c)(),At=(0,h.c)();if(qn.addElement(Gt).duration((null!==(ft=ot.duration)&&void 0!==ft?ft:0)||540).easing(ot.easing||Dt).fill("both").beforeRemoveClass("ion-page-invisible"),Re&&null!=vt){const te=(0,h.c)();te.addElement(vt),qn.addAnimation(te)}if(qt||0!==jt.length||0!==Cn.length?(At.addElement(qt),At.addElement(Cn)):At.addElement(Gt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qn.addAnimation(At),tn?At.beforeClearStyles([yt]).fromTo("transform",`translateX(${Mt})`,`translateX(${Te})`).fromTo(yt,.8,1):At.beforeClearStyles([yt]).fromTo("transform",`translateX(${Qe})`,`translateX(${Te})`),qt){const te=We(qt).querySelector(".transition-effect");if(te){const _e=te.querySelector(".transition-cover"),Le=te.querySelector(".transition-shadow"),He=(0,h.c)(),$e=(0,h.c)(),rt=(0,h.c)();He.addElement(te).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),$e.addElement(_e).beforeClearStyles([yt]).fromTo(yt,0,.1),rt.addElement(Le).beforeClearStyles([yt]).fromTo(yt,.03,.7),He.addAnimation([$e,rt]),At.addAnimation([He])}}const ye=Gt.querySelector("ion-header.header-collapse-condense"),{forward:Ce,backward:Ie}=((vt,ot,ft,Dt,yt)=>{const Ae=be(Dt,ft),Te=Ke(yt),Oe=Ke(Dt),at=be(yt,ft),Qe=null!==Ae&&null!==Te&&!ft,Mt=null!==Oe&&null!==at&&ft;if(Qe){const Gt=Te.getBoundingClientRect(),Re=Ae.getBoundingClientRect(),tn=We(Ae).querySelector(".button-text"),qt=null==tn?void 0:tn.getBoundingClientRect(),jt=We(Te).querySelector(".toolbar-title").getBoundingClientRect();je(vt,ot,ft,Te,Gt,jt,Re,tn,qt),Ge(vt,ot,ft,Ae,Re,tn,qt,Te,jt)}else if(Mt){const Gt=Oe.getBoundingClientRect(),Re=at.getBoundingClientRect(),tn=We(at).querySelector(".button-text"),qt=null==tn?void 0:tn.getBoundingClientRect(),jt=We(Oe).querySelector(".toolbar-title").getBoundingClientRect();je(vt,ot,ft,Oe,Gt,jt,Re,tn,qt),Ge(vt,ot,ft,at,Re,tn,qt,Oe,jt)}return{forward:Qe,backward:Mt}})(qn,at,tn,Gt,Re);if(jt.forEach(te=>{const _e=(0,h.c)();_e.addElement(te),qn.addAnimation(_e);const Le=(0,h.c)();Le.addElement(te.querySelector("ion-title"));const He=(0,h.c)(),$e=Array.from(te.querySelectorAll("ion-buttons,[menuToggle]")),rt=te.closest("ion-header"),an=null==rt?void 0:rt.classList.contains("header-collapse-condense-inactive");let Kt;Kt=$e.filter(tn?ir=>{const Jt=ir.classList.contains("buttons-collapse");return Jt&&!an||!Jt}:ir=>!ir.classList.contains("buttons-collapse")),He.addElement(Kt);const $n=(0,h.c)();$n.addElement(te.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ut=(0,h.c)();ut.addElement(We(te).querySelector(".toolbar-background"));const Ct=(0,h.c)(),Gn=te.querySelector("ion-back-button");if(Gn&&Ct.addElement(Gn),_e.addAnimation([Le,He,$n,ut,Ct]),He.fromTo(yt,.01,1),$n.fromTo(yt,.01,1),tn)an||Le.fromTo("transform",`translateX(${Mt})`,`translateX(${Te})`).fromTo(yt,.01,1),$n.fromTo("transform",`translateX(${Mt})`,`translateX(${Te})`),Ct.fromTo(yt,.01,1);else if(ye||Le.fromTo("transform",`translateX(${Qe})`,`translateX(${Te})`).fromTo(yt,.01,1),$n.fromTo("transform",`translateX(${Qe})`,`translateX(${Te})`),ut.beforeClearStyles([yt,"transform"]),(null==rt?void 0:rt.translucent)?ut.fromTo("transform",at?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ut.fromTo(yt,.01,"var(--opacity)"),Ce||Ct.fromTo(yt,.01,1),Gn&&!Ce){const Jt=(0,h.c)();Jt.addElement(We(Gn).querySelector(".button-text")).fromTo("transform",at?"translateX(-100px)":"translateX(100px)","translateX(0px)"),_e.addAnimation(Jt)}}),Re){const te=(0,h.c)(),_e=Re.querySelector(":scope > ion-content"),Le=Re.querySelectorAll(":scope > ion-header > ion-toolbar"),He=Re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(_e||0!==Le.length||0!==He.length?(te.addElement(_e),te.addElement(He)):te.addElement(Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qn.addAnimation(te),tn){te.beforeClearStyles([yt]).fromTo("transform",`translateX(${Te})`,at?"translateX(-100%)":"translateX(100%)");const $e=(0,p.g)(Re);qn.afterAddWrite(()=>{"normal"===qn.getDirection()&&$e.style.setProperty("display","none")})}else te.fromTo("transform",`translateX(${Te})`,`translateX(${Mt})`).fromTo(yt,1,.8);if(_e){const $e=We(_e).querySelector(".transition-effect");if($e){const rt=$e.querySelector(".transition-cover"),an=$e.querySelector(".transition-shadow"),Kt=(0,h.c)(),$n=(0,h.c)(),ut=(0,h.c)();Kt.addElement($e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),$n.addElement(rt).beforeClearStyles([yt]).fromTo(yt,.1,0),ut.addElement(an).beforeClearStyles([yt]).fromTo(yt,.7,.03),Kt.addAnimation([$n,ut]),te.addAnimation([Kt])}}Le.forEach($e=>{const rt=(0,h.c)();rt.addElement($e);const an=(0,h.c)();an.addElement($e.querySelector("ion-title"));const Kt=(0,h.c)(),$n=$e.querySelectorAll("ion-buttons,[menuToggle]"),ut=$e.closest("ion-header"),Ct=null==ut?void 0:ut.classList.contains("header-collapse-condense-inactive"),Gn=Array.from($n).filter(Ne=>{const Fe=Ne.classList.contains("buttons-collapse");return Fe&&!Ct||!Fe});Kt.addElement(Gn);const ir=(0,h.c)(),Jt=$e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Jt.length>0&&ir.addElement(Jt);const ln=(0,h.c)();ln.addElement(We($e).querySelector(".toolbar-background"));const sr=(0,h.c)(),cn=$e.querySelector("ion-back-button");if(cn&&sr.addElement(cn),rt.addAnimation([an,Kt,ir,sr,ln]),qn.addAnimation(rt),sr.fromTo(yt,.99,0),Kt.fromTo(yt,.99,0),ir.fromTo(yt,.99,0),tn){if(Ct||an.fromTo("transform",`translateX(${Te})`,at?"translateX(-100%)":"translateX(100%)").fromTo(yt,.99,0),ir.fromTo("transform",`translateX(${Te})`,at?"translateX(-100%)":"translateX(100%)"),ln.beforeClearStyles([yt,"transform"]),(null==ut?void 0:ut.translucent)?ln.fromTo("transform","translateX(0px)",at?"translateX(-100%)":"translateX(100%)"):ln.fromTo(yt,"var(--opacity)",0),cn&&!Ie){const Fe=(0,h.c)();Fe.addElement(We(cn).querySelector(".button-text")).fromTo("transform",`translateX(${Te})`,`translateX(${(at?-124:124)+"px"})`),rt.addAnimation(Fe)}}else Ct||an.fromTo("transform",`translateX(${Te})`,`translateX(${Mt})`).fromTo(yt,.99,0).afterClearStyles([Ae,yt]),ir.fromTo("transform",`translateX(${Te})`,`translateX(${Mt})`).afterClearStyles([Ae,yt]),sr.afterClearStyles([yt]),an.afterClearStyles([yt]),Kt.afterClearStyles([yt])})}return qn}catch(Dt){throw Dt}},gt=10},3615:(Nn,wt,k)=>{"use strict";k.r(wt),k.d(wt,{mdTransitionAnimation:()=>ce});var h=k(9986),p=k(3604);k(8476),k(9483),k(4261);const ce=(Me,We)=>{var Ke,be,me;const Ze="back"===We.direction,vt=We.leavingEl,ot=(0,p.g)(We.enteringEl),ft=ot.querySelector("ion-toolbar"),Dt=(0,h.c)();if(Dt.addElement(ot).fill("both").beforeRemoveClass("ion-page-invisible"),Ze?Dt.duration((null!==(Ke=We.duration)&&void 0!==Ke?Ke:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Dt.duration((null!==(be=We.duration)&&void 0!==be?be:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ft){const yt=(0,h.c)();yt.addElement(ft),Dt.addAnimation(yt)}if(vt&&Ze){Dt.duration((null!==(me=We.duration)&&void 0!==me?me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const yt=(0,h.c)();yt.addElement((0,p.g)(vt)).onFinish(Ae=>{1===Ae&&yt.elements.length>0&&yt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Dt.addAnimation(yt)}return Dt}},3617:(Nn,wt,k)=>{"use strict";k.d(wt,{B:()=>$n,F:()=>cn,G:()=>ut,O:()=>Ct,a:()=>ot,b:()=>ft,c:()=>Te,d:()=>Gn,e:()=>ir,f:()=>Ce,g:()=>te,h:()=>He,i:()=>rt,j:()=>at,k:()=>Qe,m:()=>yt,n:()=>be,o:()=>At,q:()=>me,s:()=>Kt});var h=k(467),p=k(8476),Ee=k(4920),le=k(7192),Se=k(9483),ce=k(8621),Me=k(1970),We=k(4929);const Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',be=(Ne,Fe)=>{const Bt=Ne.querySelector(Ke);Ge(Bt,null!=Fe?Fe:Ne)},me=(Ne,Fe)=>{const Bt=Array.from(Ne.querySelectorAll(Ke));Ge(Bt.length>0?Bt[Bt.length-1]:null,null!=Fe?Fe:Ne)},Ge=(Ne,Fe)=>{let Bt=Ne;const St=null==Ne?void 0:Ne.shadowRoot;if(St&&(Bt=St.querySelector(Ke)||Ne),Bt){const rr=Bt.closest("ion-radio-group");rr?rr.setFocus():(0,Ee.f)(Bt)}else Fe.focus()};let je=0,Ze=0;const gt=new WeakMap,vt=Ne=>({create:Fe=>Mt(Ne,Fe),dismiss:(Fe,Bt,St)=>Cn(document,Fe,Bt,Ne,St),getTop:()=>(0,h.A)(function*(){return At(document,Ne)})()}),ot=vt("ion-alert"),ft=vt("ion-action-sheet"),yt=vt("ion-modal"),Te=vt("ion-popover"),at=Ne=>{typeof document<"u"&&qt(document);const Fe=je++;Ne.overlayIndex=Fe},Qe=Ne=>(Ne.hasAttribute("id")||(Ne.id="ion-overlay-"+ ++Ze),Ne.id),Mt=(Ne,Fe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ne).then(()=>{const Bt=document.createElement(Ne);return Bt.classList.add("overlay-hidden"),Object.assign(Bt,Object.assign(Object.assign({},Fe),{hasController:!0})),_e(document).appendChild(Bt),new Promise(St=>(0,Ee.c)(Bt,St))}):Promise.resolve(),Re=(Ne,Fe)=>{let Bt=Ne;const St=null==Ne?void 0:Ne.shadowRoot;St&&(Bt=St.querySelector(Ke)||Ne),Bt?(0,Ee.f)(Bt):Fe.focus()},qt=Ne=>{0===je&&(je=1,Ne.addEventListener("focus",Fe=>{((Ne,Fe)=>{const Bt=At(Fe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),St=Ne.target;Bt&&St&&!Bt.classList.contains(cn)&&(Bt.shadowRoot?(()=>{if(Bt.contains(St))Bt.lastFocus=St;else if("ION-TOAST"===St.tagName)Re(Bt.lastFocus,Bt);else{const zn=Bt.lastFocus;be(Bt),zn===Fe.activeElement&&me(Bt),Bt.lastFocus=Fe.activeElement}})():(()=>{if(Bt===St)Bt.lastFocus=void 0;else if("ION-TOAST"===St.tagName)Re(Bt.lastFocus,Bt);else{const zn=(0,Ee.g)(Bt);if(!zn.contains(St))return;const Pn=zn.querySelector(".ion-overlay-wrapper");if(!Pn)return;if(Pn.contains(St)||St===zn.querySelector("ion-backdrop"))Bt.lastFocus=St;else{const Tr=Bt.lastFocus;be(Pn,Bt),Tr===Fe.activeElement&&me(Pn,Bt),Bt.lastFocus=Fe.activeElement}}})())})(Fe,Ne)},!0),Ne.addEventListener("ionBackButton",Fe=>{const Bt=At(Ne);null!=Bt&&Bt.backdropDismiss&&Fe.detail.register(le.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Bt.dismiss(void 0,$n)})}),(0,le.shouldUseCloseWatcher)()||Ne.addEventListener("keydown",Fe=>{if("Escape"===Fe.key){const Bt=At(Ne);null!=Bt&&Bt.backdropDismiss&&Bt.dismiss(void 0,$n)}}))},Cn=(Ne,Fe,Bt,St,rr)=>{const dr=At(Ne,St,rr);return dr?dr.dismiss(Fe,Bt):Promise.reject("overlay does not exist")},qn=(Ne,Fe)=>((Ne,Fe)=>(void 0===Fe&&(Fe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ne.querySelectorAll(Fe)).filter(Bt=>Bt.overlayIndex>0)))(Ne,Fe).filter(Bt=>!(Ne=>Ne.classList.contains("overlay-hidden"))(Bt)),At=(Ne,Fe,Bt)=>{const St=qn(Ne,Fe);return void 0===Bt?St[St.length-1]:St.find(rr=>rr.id===Bt)},ye=(Ne=!1)=>{const Bt=_e(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Bt&&(Ne?Bt.setAttribute("aria-hidden","true"):Bt.removeAttribute("aria-hidden"))},Ce=function(){var Ne=(0,h.A)(function*(Fe,Bt,St,rr,dr){var zn,Pn;if(Fe.presented)return;"ION-TOAST"!==Fe.el.tagName&&ye(!0),document.body.classList.add(Me.B),ln(Fe.el),Jt(Fe.el),Fe.presented=!0,Fe.willPresent.emit(),null===(zn=Fe.willPresentShorthand)||void 0===zn||zn.emit();const Tr=(0,Se.b)(Fe),Ir=Fe.enterAnimation?Fe.enterAnimation:Se.c.get(Bt,"ios"===Tr?St:rr);(yield Le(Fe,Ir,Fe.el,dr))&&(Fe.didPresent.emit(),null===(Pn=Fe.didPresentShorthand)||void 0===Pn||Pn.emit()),"ION-TOAST"!==Fe.el.tagName&&Ie(Fe.el),Fe.keyboardClose&&(null===document.activeElement||!Fe.el.contains(document.activeElement))&&Fe.el.focus(),Fe.el.removeAttribute("aria-hidden")});return function(Bt,St,rr,dr,zn){return Ne.apply(this,arguments)}}(),Ie=function(){var Ne=(0,h.A)(function*(Fe){let Bt=document.activeElement;if(!Bt)return;const St=null==Bt?void 0:Bt.shadowRoot;St&&(Bt=St.querySelector(Ke)||Bt),yield Fe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Bt.focus()});return function(Bt){return Ne.apply(this,arguments)}}(),te=function(){var Ne=(0,h.A)(function*(Fe,Bt,St,rr,dr,zn,Pn){var Tr,Ir;if(!Fe.presented)return!1;const Cr=void 0!==p.d?qn(p.d).filter(Wr=>"ION-TOAST"!==Wr.tagName):[];1===Cr.length&&Cr[0].id===Fe.el.id&&(ye(!1),document.body.classList.remove(Me.B)),Fe.presented=!1;try{Jt(Fe.el),Fe.el.style.setProperty("pointer-events","none"),Fe.willDismiss.emit({data:Bt,role:St}),null===(Tr=Fe.willDismissShorthand)||void 0===Tr||Tr.emit({data:Bt,role:St});const Wr=(0,Se.b)(Fe),Ei=Fe.leaveAnimation?Fe.leaveAnimation:Se.c.get(rr,"ios"===Wr?dr:zn);St!==ut&&(yield Le(Fe,Ei,Fe.el,Pn)),Fe.didDismiss.emit({data:Bt,role:St}),null===(Ir=Fe.didDismissShorthand)||void 0===Ir||Ir.emit({data:Bt,role:St}),(gt.get(Fe)||[]).forEach(vi=>vi.destroy()),gt.delete(Fe),Fe.el.classList.add("overlay-hidden"),Fe.el.style.removeProperty("pointer-events"),void 0!==Fe.el.lastFocus&&(Fe.el.lastFocus=void 0)}catch(Wr){console.error(Wr)}return Fe.el.remove(),sr(),!0});return function(Bt,St,rr,dr,zn,Pn,Tr){return Ne.apply(this,arguments)}}(),_e=Ne=>Ne.querySelector("ion-app")||Ne.body,Le=function(){var Ne=(0,h.A)(function*(Fe,Bt,St,rr){St.classList.remove("overlay-hidden");const zn=Bt(Fe.el,rr);(!Fe.animated||!Se.c.getBoolean("animated",!0))&&zn.duration(0),Fe.keyboardClose&&zn.beforeAddWrite(()=>{const Tr=St.ownerDocument.activeElement;null!=Tr&&Tr.matches("input,ion-input, ion-textarea")&&Tr.blur()});const Pn=gt.get(Fe)||[];return gt.set(Fe,[...Pn,zn]),yield zn.play(),!0});return function(Bt,St,rr,dr){return Ne.apply(this,arguments)}}(),He=(Ne,Fe)=>{let Bt;const St=new Promise(rr=>Bt=rr);return $e(Ne,Fe,rr=>{Bt(rr.detail)}),St},$e=(Ne,Fe,Bt)=>{const St=rr=>{(0,Ee.b)(Ne,Fe,St),Bt(rr)};(0,Ee.a)(Ne,Fe,St)},rt=Ne=>"cancel"===Ne||Ne===$n,an=Ne=>Ne(),Kt=(Ne,Fe)=>{if("function"==typeof Ne)return Se.c.get("_zoneGate",an)(()=>{try{return Ne(Fe)}catch(St){throw St}})},$n="backdrop",ut="gesture",Ct=39,Gn=Ne=>{let Bt,Fe=!1;const St=(0,ce.C)(),rr=(Pn=!1)=>{if(Bt&&!Pn)return{delegate:Bt,inline:Fe};const{el:Tr,hasController:Ir,delegate:Cr}=Ne;return Fe=null!==Tr.parentNode&&!Ir,Bt=Fe?Cr||St:Cr,{inline:Fe,delegate:Bt}};return{attachViewToDom:function(){var Pn=(0,h.A)(function*(Tr){const{delegate:Ir}=rr(!0);if(Ir)return yield Ir.attachViewToDom(Ne.el,Tr);const{hasController:Cr}=Ne;if(Cr&&void 0!==Tr)throw new Error("framework delegate is missing");return null});return function(Ir){return Pn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Pn}=rr();Pn&&void 0!==Ne.el&&Pn.removeViewFromDom(Ne.el.parentElement,Ne.el)}}},ir=()=>{let Ne;const Fe=()=>{Ne&&(Ne(),Ne=void 0)};return{addClickListener:(St,rr)=>{Fe();const dr=void 0!==rr?document.getElementById(rr):null;dr?Ne=((Pn,Tr)=>{const Ir=()=>{Tr.present()};return Pn.addEventListener("click",Ir),()=>{Pn.removeEventListener("click",Ir)}})(dr,St):(0,We.p)(`A trigger element with the ID "${rr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,St)},removeClickListener:Fe}},Jt=Ne=>{void 0!==p.d&&(0,Se.a)("android")&&Ne.setAttribute("aria-hidden","true")},ln=Ne=>{var Fe;if(void 0===p.d)return;const Bt=qn(p.d);for(let St=Bt.length-1;St>=0;St--){const rr=Bt[St],dr=null!==(Fe=Bt[St+1])&&void 0!==Fe?Fe:Ne;(dr.hasAttribute("aria-hidden")||"ION-TOAST"!==dr.tagName)&&rr.setAttribute("aria-hidden","true")}},sr=()=>{if(void 0===p.d)return;const Ne=qn(p.d);for(let Fe=Ne.length-1;Fe>=0;Fe--){const Bt=Ne[Fe];if(Bt.removeAttribute("aria-hidden"),"ION-TOAST"!==Bt.tagName)break}},cn="ion-disable-focus-trap"},487:(Nn,wt,k)=>{"use strict";k.d(wt,{F:()=>p});var h=k(4438);let p=(()=>{var Ee;class le{constructor(){this.currentTheme="midnight"}setTheme(ce){this.currentTheme=ce,document.documentElement.setAttribute("data-theme",ce)}setColor(ce){document.body.style.setProperty("--ion-color-primary",ce),document.body.style.setProperty("--ion-color-primary-shade",this.shadeColor(ce,-.1)),document.body.style.setProperty("--ion-color-primary-tint",this.shadeColor(ce,.1))}getTheme(){return this.currentTheme}shadeColor(ce,Me){const We=parseInt(ce.slice(1),16),Ke=Me<0?0:255,be=Me<0?-1*Me:Me,me=We>>16,Ge=We>>8&255,je=255&We;return"#"+(16777216+65536*(Math.round((Ke-me)*be)+me)+256*(Math.round((Ke-Ge)*be)+Ge)+(Math.round((Ke-je)*be)+je)).toString(16).slice(1)}}return(Ee=le).\u0275fac=function(ce){return new(ce||Ee)},Ee.\u0275prov=h.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),le})()},8:(Nn,wt,k)=>{"use strict";var h=k(345),p=k(4438),Ee=k(3667),le=k(9384);const Se=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>k.e(2069).then(k.bind(k,2069)).then(oe=>oe.HomePageModule)},{path:"login",loadChildren:()=>Promise.all([k.e(2076),k.e(6688)]).then(k.bind(k,6688)).then(oe=>oe.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([k.e(2076),k.e(3825)]).then(k.bind(k,3825)).then(oe=>oe.RegisterPageModule)},{path:"profile",loadChildren:()=>Promise.all([k.e(2076),k.e(2373)]).then(k.bind(k,2373)).then(oe=>oe.ProfilePageModule)},{path:"evaluations",loadChildren:()=>Promise.all([k.e(2076),k.e(8756)]).then(k.bind(k,8756)).then(oe=>oe.EvaluationsPageModule)},{path:"map",loadChildren:()=>k.e(4593).then(k.bind(k,4593)).then(oe=>oe.MapPageModule)},{path:"qr",loadChildren:()=>k.e(8887).then(k.bind(k,8887)).then(oe=>oe.QrPageModule)},{path:"add-place",loadChildren:()=>Promise.all([k.e(2076),k.e(8474)]).then(k.bind(k,8474)).then(oe=>oe.AddPlacePageModule)},{path:"settings",loadChildren:()=>k.e(5371).then(k.bind(k,5371)).then(oe=>oe.SettingsPageModule)},{path:"**",redirectTo:"home",pathMatch:"full"}];let ce=(()=>{var oe;class Ue{}return(oe=Ue).\u0275fac=function(It){return new(It||oe)},oe.\u0275mod=p.$C({type:oe}),oe.\u0275inj=p.G2t({imports:[le.iI.forRoot(Se,{preloadingStrategy:le.Kp}),le.iI]}),Ue})();var Me=k(467),We=k(1182),Ke=k(487);let be=(()=>{var oe;class Ue{constructor(It,nn){this.afAuth=It,this.themeService=nn,this.initializeApp()}initializeApp(){this.setDefaultTheme(),this.testFirebase()}setDefaultTheme(){this.themeService.setTheme("midnight")}testFirebase(){var It=this;return(0,Me.A)(function*(){try{const nn=yield It.afAuth.signInAnonymously();console.log("Firebase connected, user:",nn)}catch(nn){console.error("Firebase connection error:",nn.message||nn)}})()}}return(oe=Ue).\u0275fac=function(It){return new(It||oe)(p.rXU(We.DS),p.rXU(Ke.F))},oe.\u0275cmp=p.VBU({type:oe,selectors:[["app-root"]],decls:17,vars:0,consts:[["side","start","menuId","main-menu","contentId","main-content"],["routerLink","/home"],["routerLink","/login"],["routerLink","/register"],["routerLink","/profile"],["id","main-content"]],template:function(It,nn){1&It&&(p.j41(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),p.EFF(5,"Men\xfa"),p.k0s()()(),p.j41(6,"ion-content")(7,"ion-list")(8,"ion-item",1),p.EFF(9,"Home"),p.k0s(),p.j41(10,"ion-item",2),p.EFF(11,"Login"),p.k0s(),p.j41(12,"ion-item",3),p.EFF(13,"Registro"),p.k0s(),p.j41(14,"ion-item",4),p.EFF(15,"Perfil"),p.k0s()()()(),p.nrm(16,"ion-router-outlet",5),p.k0s())},dependencies:[Ee.U1,Ee.W9,Ee.eU,Ee.uz,Ee.nf,Ee.oS,Ee.BC,Ee.ai,Ee.Rg,Ee.N7,le.Wk]}),Ue})();var me=k(7673),Ge=k(1985),je=k(8455),Ze=k(274),gt=k(5964),vt=k(6354),ot=k(980),ft=k(5558),Dt=k(177);class yt{}class Ae{}class Te{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?"string"==typeof Ue?this.lazyInit=()=>{this.headers=new Map,Ue.split("\n").forEach(xt=>{const It=xt.indexOf(":");if(It>0){const nn=xt.slice(0,It),_n=nn.toLowerCase(),Hn=xt.slice(It+1).trim();this.maybeSetNormalizedName(nn,_n),this.headers.has(_n)?this.headers.get(_n).push(Hn):this.headers.set(_n,[Hn])}})}:typeof Headers<"u"&&Ue instanceof Headers?(this.headers=new Map,Ue.forEach((xt,It)=>{this.setHeaderEntries(It,xt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ue).forEach(([xt,It])=>{this.setHeaderEntries(xt,It)})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const xt=this.headers.get(Ue.toLowerCase());return xt&&xt.length>0?xt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,xt){return this.clone({name:Ue,value:xt,op:"a"})}set(Ue,xt){return this.clone({name:Ue,value:xt,op:"s"})}delete(Ue,xt){return this.clone({name:Ue,value:xt,op:"d"})}maybeSetNormalizedName(Ue,xt){this.normalizedNames.has(xt)||this.normalizedNames.set(xt,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof Te?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(xt=>{this.headers.set(xt,Ue.headers.get(xt)),this.normalizedNames.set(xt,Ue.normalizedNames.get(xt))})}clone(Ue){const xt=new Te;return xt.lazyInit=this.lazyInit&&this.lazyInit instanceof Te?this.lazyInit:this,xt.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),xt}applyUpdate(Ue){const xt=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let It=Ue.value;if("string"==typeof It&&(It=[It]),0===It.length)return;this.maybeSetNormalizedName(Ue.name,xt);const nn=("a"===Ue.op?this.headers.get(xt):void 0)||[];nn.push(...It),this.headers.set(xt,nn);break;case"d":const _n=Ue.value;if(_n){let Hn=this.headers.get(xt);if(!Hn)return;Hn=Hn.filter(st=>-1===_n.indexOf(st)),0===Hn.length?(this.headers.delete(xt),this.normalizedNames.delete(xt)):this.headers.set(xt,Hn)}else this.headers.delete(xt),this.normalizedNames.delete(xt)}}setHeaderEntries(Ue,xt){const It=(Array.isArray(xt)?xt:[xt]).map(_n=>_n.toString()),nn=Ue.toLowerCase();this.headers.set(nn,It),this.maybeSetNormalizedName(Ue,nn)}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(xt=>Ue(this.normalizedNames.get(xt),this.headers.get(xt)))}}class at{encodeKey(Ue){return Re(Ue)}encodeValue(Ue){return Re(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const Mt=/%(\d[a-f0-9])/gi,Gt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Re(oe){return encodeURIComponent(oe).replace(Mt,(Ue,xt)=>{var It;return null!==(It=Gt[xt])&&void 0!==It?It:Ue})}function tn(oe){return`${oe}`}class qt{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new at,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qe(oe,Ue){const xt=new Map;return oe.length>0&&oe.replace(/^\?/,"").split("&").forEach(nn=>{const _n=nn.indexOf("="),[Hn,st]=-1==_n?[Ue.decodeKey(nn),""]:[Ue.decodeKey(nn.slice(0,_n)),Ue.decodeValue(nn.slice(_n+1))],Yn=xt.get(Hn)||[];Yn.push(st),xt.set(Hn,Yn)}),xt}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(xt=>{const It=Ue.fromObject[xt],nn=Array.isArray(It)?It.map(tn):[tn(It)];this.map.set(xt,nn)})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const xt=this.map.get(Ue);return xt?xt[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,xt){return this.clone({param:Ue,value:xt,op:"a"})}appendAll(Ue){const xt=[];return Object.keys(Ue).forEach(It=>{const nn=Ue[It];Array.isArray(nn)?nn.forEach(_n=>{xt.push({param:It,value:_n,op:"a"})}):xt.push({param:It,value:nn,op:"a"})}),this.clone(xt)}set(Ue,xt){return this.clone({param:Ue,value:xt,op:"s"})}delete(Ue,xt){return this.clone({param:Ue,value:xt,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const xt=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(It=>xt+"="+this.encoder.encodeValue(It)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const xt=new qt({encoder:this.encoder});return xt.cloneFrom=this.cloneFrom||this,xt.updates=(this.updates||[]).concat(Ue),xt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const xt=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];xt.push(tn(Ue.value)),this.map.set(Ue.param,xt);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let It=this.map.get(Ue.param)||[];const nn=It.indexOf(tn(Ue.value));-1!==nn&&It.splice(nn,1),It.length>0?this.map.set(Ue.param,It):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class jt{constructor(){this.map=new Map}set(Ue,xt){return this.map.set(Ue,xt),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}has(Ue){return this.map.has(Ue)}keys(){return this.map.keys()}}function At(oe){return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer}function ye(oe){return typeof Blob<"u"&&oe instanceof Blob}function Ce(oe){return typeof FormData<"u"&&oe instanceof FormData}class te{constructor(Ue,xt,It,nn){var _n,Hn;let st;if(this.url=xt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function qn(oe){switch(oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||nn?(this.body=void 0!==It?It:null,st=nn):st=It,st&&(this.reportProgress=!!st.reportProgress,this.withCredentials=!!st.withCredentials,st.responseType&&(this.responseType=st.responseType),st.headers&&(this.headers=st.headers),st.context&&(this.context=st.context),st.params&&(this.params=st.params),this.transferCache=st.transferCache),null!==(_n=this.headers)&&void 0!==_n||(this.headers=new Te),null!==(Hn=this.context)&&void 0!==Hn||(this.context=new jt),this.params){const Yn=this.params.toString();if(0===Yn.length)this.urlWithParams=xt;else{const vr=xt.indexOf("?");this.urlWithParams=xt+(-1===vr?"?":vr<xt.length-1?"&":"")+Yn}}else this.params=new qt,this.urlWithParams=xt}serializeBody(){return null===this.body?null:"string"==typeof this.body||At(this.body)||ye(this.body)||Ce(this.body)||function Ie(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof qt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ce(this.body)?null:ye(this.body)?this.body.type||null:At(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){var xt,It,nn,_n;const Hn=Ue.method||this.method,st=Ue.url||this.url,Yn=Ue.responseType||this.responseType,vr=null!==(xt=Ue.transferCache)&&void 0!==xt?xt:this.transferCache,Ai=void 0!==Ue.body?Ue.body:this.body,Oi=null!==(It=Ue.withCredentials)&&void 0!==It?It:this.withCredentials,Lr=null!==(nn=Ue.reportProgress)&&void 0!==nn?nn:this.reportProgress;let $i=Ue.headers||this.headers,Ti=Ue.params||this.params;const bn=null!==(_n=Ue.context)&&void 0!==_n?_n:this.context;return void 0!==Ue.setHeaders&&($i=Object.keys(Ue.setHeaders).reduce((Rr,Un)=>Rr.set(Un,Ue.setHeaders[Un]),$i)),Ue.setParams&&(Ti=Object.keys(Ue.setParams).reduce((Rr,Un)=>Rr.set(Un,Ue.setParams[Un]),Ti)),new te(Hn,st,Ai,{params:Ti,headers:$i,context:bn,reportProgress:Lr,responseType:Yn,withCredentials:Oi,transferCache:vr})}}var _e=function(oe){return oe[oe.Sent=0]="Sent",oe[oe.UploadProgress=1]="UploadProgress",oe[oe.ResponseHeader=2]="ResponseHeader",oe[oe.DownloadProgress=3]="DownloadProgress",oe[oe.Response=4]="Response",oe[oe.User=5]="User",oe}(_e||{});class Le{constructor(Ue,xt=200,It="OK"){this.headers=Ue.headers||new Te,this.status=void 0!==Ue.status?Ue.status:xt,this.statusText=Ue.statusText||It,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class He extends Le{constructor(Ue={}){super(Ue),this.type=_e.ResponseHeader}clone(Ue={}){return new He({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class $e extends Le{constructor(Ue={}){super(Ue),this.type=_e.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new $e({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class rt extends Le{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function ut(oe,Ue){return{body:Ue,headers:oe.headers,context:oe.context,observe:oe.observe,params:oe.params,reportProgress:oe.reportProgress,responseType:oe.responseType,withCredentials:oe.withCredentials,transferCache:oe.transferCache}}let Ct=(()=>{var oe;class Ue{constructor(It){this.handler=It}request(It,nn,_n={}){let Hn;if(It instanceof te)Hn=It;else{let vr,Ai;vr=_n.headers instanceof Te?_n.headers:new Te(_n.headers),_n.params&&(Ai=_n.params instanceof qt?_n.params:new qt({fromObject:_n.params})),Hn=new te(It,nn,void 0!==_n.body?_n.body:null,{headers:vr,context:_n.context,params:Ai,reportProgress:_n.reportProgress,responseType:_n.responseType||"json",withCredentials:_n.withCredentials,transferCache:_n.transferCache})}const st=(0,me.of)(Hn).pipe((0,Ze.H)(vr=>this.handler.handle(vr)));if(It instanceof te||"events"===_n.observe)return st;const Yn=st.pipe((0,gt.p)(vr=>vr instanceof $e));switch(_n.observe||"body"){case"body":switch(Hn.responseType){case"arraybuffer":return Yn.pipe((0,vt.T)(vr=>{if(null!==vr.body&&!(vr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return vr.body}));case"blob":return Yn.pipe((0,vt.T)(vr=>{if(null!==vr.body&&!(vr.body instanceof Blob))throw new Error("Response is not a Blob.");return vr.body}));case"text":return Yn.pipe((0,vt.T)(vr=>{if(null!==vr.body&&"string"!=typeof vr.body)throw new Error("Response is not a string.");return vr.body}));default:return Yn.pipe((0,vt.T)(vr=>vr.body))}case"response":return Yn;default:throw new Error(`Unreachable: unhandled observe type ${_n.observe}}`)}}delete(It,nn={}){return this.request("DELETE",It,nn)}get(It,nn={}){return this.request("GET",It,nn)}head(It,nn={}){return this.request("HEAD",It,nn)}jsonp(It,nn){return this.request("JSONP",It,{params:(new qt).append(nn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(It,nn={}){return this.request("OPTIONS",It,nn)}patch(It,nn,_n={}){return this.request("PATCH",It,ut(_n,nn))}post(It,nn,_n={}){return this.request("POST",It,ut(_n,nn))}put(It,nn,_n={}){return this.request("PUT",It,ut(_n,nn))}}return(oe=Ue).\u0275fac=function(It){return new(It||oe)(p.KVO(yt))},oe.\u0275prov=p.jDH({token:oe,factory:oe.\u0275fac}),Ue})();const Gn=/^\)\]\}',?\n/;function Jt(oe){if(oe.url)return oe.url;const Ue="X-Request-URL".toLocaleLowerCase();return oe.headers.get(Ue)}let ln=(()=>{var oe;class Ue{constructor(){var It,nn;this.fetchImpl=null!==(It=null===(nn=(0,p.WQX)(sr,{optional:!0}))||void 0===nn?void 0:nn.fetch)&&void 0!==It?It:(..._n)=>globalThis.fetch(..._n),this.ngZone=(0,p.WQX)(p.SKi)}handle(It){return new Ge.c(nn=>{const _n=new AbortController;return this.doRequest(It,_n.signal,nn).then(cn,Hn=>nn.error(new rt({error:Hn}))),()=>_n.abort()})}doRequest(It,nn,_n){var Hn=this;return(0,Me.A)(function*(){var st;const Yn=Hn.createRequestInit(It);let vr;try{const Kr=Hn.ngZone.runOutsideAngular(()=>Hn.fetchImpl(It.urlWithParams,{signal:nn,...Yn}));(function Ne(oe){oe.then(cn,cn)})(Kr),_n.next({type:_e.Sent}),vr=yield Kr}catch(Kr){var Ai;return void _n.error(new rt({error:Kr,status:null!==(Ai=Kr.status)&&void 0!==Ai?Ai:0,statusText:Kr.statusText,url:It.urlWithParams,headers:Kr.headers}))}const Oi=new Te(vr.headers),Lr=vr.statusText,$i=null!==(st=Jt(vr))&&void 0!==st?st:It.urlWithParams;let Ti=vr.status,bn=null;if(It.reportProgress&&_n.next(new He({headers:Oi,status:Ti,statusText:Lr,url:$i})),vr.body){const Kr=vr.headers.get("content-length"),yr=[],to=vr.body.getReader();let Yr,wn,hr=0;const Pi=typeof Zone<"u"&&Zone.current;yield Hn.ngZone.runOutsideAngular((0,Me.A)(function*(){for(;;){const{done:ie,value:ke}=yield to.read();if(ie)break;if(yr.push(ke),hr+=ke.length,It.reportProgress){var ro,Q;wn="text"===It.responseType?(null!==(ro=wn)&&void 0!==ro?ro:"")+(null!==(Q=Yr)&&void 0!==Q?Q:Yr=new TextDecoder).decode(ke,{stream:!0}):void 0;const ze=()=>_n.next({type:_e.DownloadProgress,total:Kr?+Kr:void 0,loaded:hr,partialText:wn});Pi?Pi.run(ze):ze()}}}));const ci=Hn.concatChunks(yr,hr);try{var Rr;const ro=null!==(Rr=vr.headers.get("Content-Type"))&&void 0!==Rr?Rr:"";bn=Hn.parseBody(It,ci,ro)}catch(ro){var Un;return void _n.error(new rt({error:ro,headers:new Te(vr.headers),status:vr.status,statusText:vr.statusText,url:null!==(Un=Jt(vr))&&void 0!==Un?Un:It.urlWithParams}))}}0===Ti&&(Ti=bn?200:0),Ti>=200&&Ti<300?(_n.next(new $e({body:bn,headers:Oi,status:Ti,statusText:Lr,url:$i})),_n.complete()):_n.error(new rt({error:bn,headers:Oi,status:Ti,statusText:Lr,url:$i}))})()}parseBody(It,nn,_n){switch(It.responseType){case"json":const Hn=(new TextDecoder).decode(nn).replace(Gn,"");return""===Hn?null:JSON.parse(Hn);case"text":return(new TextDecoder).decode(nn);case"blob":return new Blob([nn],{type:_n});case"arraybuffer":return nn.buffer}}createRequestInit(It){const nn={},_n=It.withCredentials?"include":void 0;if(It.headers.forEach((Hn,st)=>nn[Hn]=st.join(",")),It.headers.has("Accept")||(nn.Accept="application/json, text/plain, */*"),!It.headers.has("Content-Type")){const Hn=It.detectContentTypeHeader();null!==Hn&&(nn["Content-Type"]=Hn)}return{body:It.serializeBody(),method:It.method,headers:nn,credentials:_n}}concatChunks(It,nn){const _n=new Uint8Array(nn);let Hn=0;for(const st of It)_n.set(st,Hn),Hn+=st.length;return _n}}return(oe=Ue).\u0275fac=function(It){return new(It||oe)},oe.\u0275prov=p.jDH({token:oe,factory:oe.\u0275fac}),Ue})();class sr{}function cn(){}function Fe(oe,Ue){return Ue(oe)}function Bt(oe,Ue){return(xt,It)=>Ue.intercept(xt,{handle:nn=>oe(nn,It)})}const rr=new p.nKC(""),dr=new p.nKC(""),zn=new p.nKC(""),Pn=new p.nKC("",{providedIn:"root",factory:()=>!0});function Tr(){let oe=null;return(Ue,xt)=>{var It;null===oe&&(oe=(null!==(It=(0,p.WQX)(rr,{optional:!0}))&&void 0!==It?It:[]).reduceRight(Bt,Fe));const nn=(0,p.WQX)(p.TgB);if((0,p.WQX)(Pn)){const Hn=nn.add();return oe(Ue,xt).pipe((0,ot.j)(()=>nn.remove(Hn)))}return oe(Ue,xt)}}let br=(()=>{var oe;class Ue extends yt{constructor(It,nn){super(),this.backend=It,this.injector=nn,this.chain=null,this.pendingTasks=(0,p.WQX)(p.TgB),this.contributeToStability=(0,p.WQX)(Pn)}handle(It){if(null===this.chain){const nn=Array.from(new Set([...this.injector.get(dr),...this.injector.get(zn,[])]));this.chain=nn.reduceRight((_n,Hn)=>function St(oe,Ue,xt){return(It,nn)=>(0,p.N4e)(xt,()=>Ue(It,_n=>oe(_n,nn)))}(_n,Hn,this.injector),Fe)}if(this.contributeToStability){const nn=this.pendingTasks.add();return this.chain(It,_n=>this.backend.handle(_n)).pipe((0,ot.j)(()=>this.pendingTasks.remove(nn)))}return this.chain(It,nn=>this.backend.handle(nn))}}return(oe=Ue).\u0275fac=function(It){return new(It||oe)(p.KVO(Ae),p.KVO(p.uvJ))},oe.\u0275prov=p.jDH({token:oe,factory:oe.\u0275fac}),Ue})();const In=/^\)\]\}',?\n/;let _t=(()=>{var oe;class Ue{constructor(It){this.xhrFactory=It}handle(It){if("JSONP"===It.method)throw new p.wOt(-2800,!1);const nn=this.xhrFactory;return(nn.\u0275loadImpl?(0,je.H)(nn.\u0275loadImpl()):(0,me.of)(null)).pipe((0,ft.n)(()=>new Ge.c(Hn=>{const st=nn.build();if(st.open(It.method,It.urlWithParams),It.withCredentials&&(st.withCredentials=!0),It.headers.forEach((Rr,Un)=>st.setRequestHeader(Rr,Un.join(","))),It.headers.has("Accept")||st.setRequestHeader("Accept","application/json, text/plain, */*"),!It.headers.has("Content-Type")){const Rr=It.detectContentTypeHeader();null!==Rr&&st.setRequestHeader("Content-Type",Rr)}if(It.responseType){const Rr=It.responseType.toLowerCase();st.responseType="json"!==Rr?Rr:"text"}const Yn=It.serializeBody();let vr=null;const Ai=()=>{if(null!==vr)return vr;const Rr=st.statusText||"OK",Un=new Te(st.getAllResponseHeaders()),ui=function Wt(oe){return"responseURL"in oe&&oe.responseURL?oe.responseURL:/^X-Request-URL:/m.test(oe.getAllResponseHeaders())?oe.getResponseHeader("X-Request-URL"):null}(st)||It.url;return vr=new He({headers:Un,status:st.status,statusText:Rr,url:ui}),vr},Oi=()=>{let{headers:Rr,status:Un,statusText:ui,url:Kr}=Ai(),yr=null;204!==Un&&(yr=typeof st.response>"u"?st.responseText:st.response),0===Un&&(Un=yr?200:0);let to=Un>=200&&Un<300;if("json"===It.responseType&&"string"==typeof yr){const hr=yr;yr=yr.replace(In,"");try{yr=""!==yr?JSON.parse(yr):null}catch(Yr){yr=hr,to&&(to=!1,yr={error:Yr,text:yr})}}to?(Hn.next(new $e({body:yr,headers:Rr,status:Un,statusText:ui,url:Kr||void 0})),Hn.complete()):Hn.error(new rt({error:yr,headers:Rr,status:Un,statusText:ui,url:Kr||void 0}))},Lr=Rr=>{const{url:Un}=Ai(),ui=new rt({error:Rr,status:st.status||0,statusText:st.statusText||"Unknown Error",url:Un||void 0});Hn.error(ui)};let $i=!1;const Ti=Rr=>{$i||(Hn.next(Ai()),$i=!0);let Un={type:_e.DownloadProgress,loaded:Rr.loaded};Rr.lengthComputable&&(Un.total=Rr.total),"text"===It.responseType&&st.responseText&&(Un.partialText=st.responseText),Hn.next(Un)},bn=Rr=>{let Un={type:_e.UploadProgress,loaded:Rr.loaded};Rr.lengthComputable&&(Un.total=Rr.total),Hn.next(Un)};return st.addEventListener("load",Oi),st.addEventListener("error",Lr),st.addEventListener("timeout",Lr),st.addEventListener("abort",Lr),It.reportProgress&&(st.addEventListener("progress",Ti),null!==Yn&&st.upload&&st.upload.addEventListener("progress",bn)),st.send(Yn),Hn.next({type:_e.Sent}),()=>{st.removeEventListener("error",Lr),st.removeEventListener("abort",Lr),st.removeEventListener("load",Oi),st.removeEventListener("timeout",Lr),It.reportProgress&&(st.removeEventListener("progress",Ti),null!==Yn&&st.upload&&st.upload.removeEventListener("progress",bn)),st.readyState!==st.DONE&&st.abort()}})))}}return(oe=Ue).\u0275fac=function(It){return new(It||oe)(p.KVO(Dt.N0))},oe.\u0275prov=p.jDH({token:oe,factory:oe.\u0275fac}),Ue})();const Xt=new p.nKC(""),dt=new p.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),De=new p.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class xe{}let tt=(()=>{var oe;class Ue{constructor(It,nn,_n){this.doc=It,this.platform=nn,this.cookieName=_n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const It=this.doc.cookie||"";return It!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Dt._b)(It,this.cookieName),this.lastCookieString=It),this.lastToken}}return(oe=Ue).\u0275fac=function(It){return new(It||oe)(p.KVO(Dt.qQ),p.KVO(p.Agw),p.KVO(dt))},oe.\u0275prov=p.jDH({token:oe,factory:oe.\u0275fac}),Ue})();function kt(oe,Ue){const xt=oe.url.toLowerCase();if(!(0,p.WQX)(Xt)||"GET"===oe.method||"HEAD"===oe.method||xt.startsWith("http://")||xt.startsWith("https://"))return Ue(oe);const It=(0,p.WQX)(xe).getToken(),nn=(0,p.WQX)(De);return null!=It&&!oe.headers.has(nn)&&(oe=oe.clone({headers:oe.headers.set(nn,It)})),Ue(oe)}var Dn=function(oe){return oe[oe.Interceptors=0]="Interceptors",oe[oe.LegacyInterceptors=1]="LegacyInterceptors",oe[oe.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",oe[oe.NoXsrfProtection=3]="NoXsrfProtection",oe[oe.JsonpSupport=4]="JsonpSupport",oe[oe.RequestsMadeViaParent=5]="RequestsMadeViaParent",oe[oe.Fetch=6]="Fetch",oe}(Dn||{});function Bn(oe,Ue){return{\u0275kind:oe,\u0275providers:Ue}}function Br(...oe){const Ue=[Ct,_t,br,{provide:yt,useExisting:br},{provide:Ae,useFactory:()=>{var xt;return null!==(xt=(0,p.WQX)(ln,{optional:!0}))&&void 0!==xt?xt:(0,p.WQX)(_t)}},{provide:dr,useValue:kt,multi:!0},{provide:Xt,useValue:!0},{provide:xe,useClass:tt}];for(const xt of oe)Ue.push(...xt.\u0275providers);return(0,p.EmA)(Ue)}const lt=new p.nKC("");let Bi=(()=>{var oe;class Ue{}return(oe=Ue).\u0275fac=function(It){return new(It||oe)},oe.\u0275mod=p.$C({type:oe}),oe.\u0275inj=p.G2t({providers:[Br(Bn(Dn.LegacyInterceptors,[{provide:lt,useFactory:Tr},{provide:dr,useExisting:lt,multi:!0}]))]}),Ue})();var Ni=k(9253),Ro=k(8334);const Di_firebaseConfig={apiKey:"AIzaSyAr7w0IbamuP6pBf1lmfDhGhgB1mudyBiI",authDomain:"myapp-40eea.firebaseapp.com",projectId:"myapp-40eea",storageBucket:"myapp-40eea.firebaseapp.com",messagingSenderId:"932730174414",appId:"1:932730174414:web:b7d110adaab230d74d499f",measurementId:"G-D21D0KVFHN"};let Ho=(()=>{var oe;class Ue{}return(oe=Ue).\u0275fac=function(It){return new(It||oe)},oe.\u0275mod=p.$C({type:oe,bootstrap:[be]}),oe.\u0275inj=p.G2t({imports:[h.Bb,Ee.bv.forRoot(),ce,Ni.bf.initializeApp(Di_firebaseConfig),Ro.cM,Bi]}),Ue})();var Go=k(8244);const Io=Go.icon({iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"});Go.Marker.prototype.options.icon=Io,(0,p.SmG)(),h.sG().bootstrapModule(Ho).catch(oe=>console.error(oe))},8244:function(Nn,wt){!function(k){"use strict";function p(s){var d,y,N,K;for(y=1,N=arguments.length;y<N;y++)for(d in K=arguments[y])s[d]=K[d];return s}var Ee=Object.create||function(){function s(){}return function(d){return s.prototype=d,new s}}();function le(s,d){var y=Array.prototype.slice;if(s.bind)return s.bind.apply(s,y.call(arguments,1));var N=y.call(arguments,2);return function(){return s.apply(d,N.length?N.concat(y.call(arguments)):arguments)}}var Se=0;function ce(s){return"_leaflet_id"in s||(s._leaflet_id=++Se),s._leaflet_id}function Me(s,d,y){var N,K,se,Be;return Be=function(){N=!1,K&&(se.apply(y,K),K=!1)},se=function(){N?K=arguments:(s.apply(y,arguments),setTimeout(Be,d),N=!0)},se}function We(s,d,y){var N=d[1],K=d[0],se=N-K;return s===N&&y?s:((s-K)%se+se)%se+K}function Ke(){return!1}function be(s,d){if(!1===d)return s;var y=Math.pow(10,void 0===d?6:d);return Math.round(s*y)/y}function me(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Ge(s){return me(s).split(/\s+/)}function je(s,d){for(var y in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?Ee(s.options):{}),d)s.options[y]=d[y];return s.options}function Ze(s,d,y){var N=[];for(var K in s)N.push(encodeURIComponent(y?K.toUpperCase():K)+"="+encodeURIComponent(s[K]));return(d&&-1!==d.indexOf("?")?"&":"?")+N.join("&")}var gt=/\{ *([\w_ -]+) *\}/g;function vt(s,d){return s.replace(gt,function(y,N){var K=d[N];if(void 0===K)throw new Error("No value provided for variable "+y);return"function"==typeof K&&(K=K(d)),K})}var ot=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function ft(s,d){for(var y=0;y<s.length;y++)if(s[y]===d)return y;return-1}var Dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function yt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Ae=0;function Te(s){var d=+new Date,y=Math.max(0,16-(d-Ae));return Ae=d+y,window.setTimeout(s,y)}var Oe=window.requestAnimationFrame||yt("RequestAnimationFrame")||Te,at=window.cancelAnimationFrame||yt("CancelAnimationFrame")||yt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Qe(s,d,y){if(!y||Oe!==Te)return Oe.call(window,le(s,d));s.call(d)}function Mt(s){s&&at.call(window,s)}var Gt={__proto__:null,extend:p,create:Ee,bind:le,get lastId(){return Se},stamp:ce,throttle:Me,wrapNum:We,falseFn:Ke,formatNum:be,trim:me,splitWords:Ge,setOptions:je,getParamString:Ze,template:vt,isArray:ot,indexOf:ft,emptyImageUrl:Dt,requestFn:Oe,cancelFn:at,requestAnimFrame:Qe,cancelAnimFrame:Mt};function Re(){}Re.extend=function(s){var d=function(){je(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=d.__super__=this.prototype,N=Ee(y);for(var K in N.constructor=d,d.prototype=N,this)Object.prototype.hasOwnProperty.call(this,K)&&"prototype"!==K&&"__super__"!==K&&(d[K]=this[K]);return s.statics&&p(d,s.statics),s.includes&&(function tn(s){if(!(typeof L>"u")&&L&&L.Mixin){s=ot(s)?s:[s];for(var d=0;d<s.length;d++)s[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),p.apply(null,[N].concat(s.includes))),p(N,s),delete N.statics,delete N.includes,N.options&&(N.options=y.options?Ee(y.options):{},p(N.options,s.options)),N._initHooks=[],N.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var se=0,Be=N._initHooks.length;se<Be;se++)N._initHooks[se].call(this)}},d},Re.include=function(s){var d=this.prototype.options;return p(this.prototype,s),s.options&&(this.prototype.options=d,this.mergeOptions(s.options)),this},Re.mergeOptions=function(s){return p(this.prototype.options,s),this},Re.addInitHook=function(s){var d=Array.prototype.slice.call(arguments,1),y="function"==typeof s?s:function(){this[s].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};var qt={on:function(s,d,y){if("object"==typeof s)for(var N in s)this._on(N,s[N],d);else for(var K=0,se=(s=Ge(s)).length;K<se;K++)this._on(s[K],d,y);return this},off:function(s,d,y){if(arguments.length)if("object"==typeof s)for(var N in s)this._off(N,s[N],d);else{s=Ge(s);for(var K=1===arguments.length,se=0,Be=s.length;se<Be;se++)K?this._off(s[se]):this._off(s[se],d,y)}else delete this._events;return this},_on:function(s,d,y,N){if("function"==typeof d){if(!1===this._listens(s,d,y)){y===this&&(y=void 0);var K={fn:d,ctx:y};N&&(K.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(K)}}else console.warn("wrong listener type: "+typeof d)},_off:function(s,d,y){var N,K,se;if(this._events&&(N=this._events[s])){if(1===arguments.length){if(this._firingCount)for(K=0,se=N.length;K<se;K++)N[K].fn=Ke;return void delete this._events[s]}if("function"!=typeof d)return void console.warn("wrong listener type: "+typeof d);var Be=this._listens(s,d,y);!1!==Be&&(this._firingCount&&(N[Be].fn=Ke,this._events[s]=N=N.slice()),N.splice(Be,1))}},fire:function(s,d,y){if(!this.listens(s,y))return this;var N=p({},d,{type:s,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var K=this._events[s];if(K){this._firingCount=this._firingCount+1||1;for(var se=0,Be=K.length;se<Be;se++){var Tt=K[se],Pt=Tt.fn;Tt.once&&this.off(s,Pt,Tt.ctx),Pt.call(Tt.ctx||this,N)}this._firingCount--}}return y&&this._propagateEvent(N),this},listens:function(s,d,y,N){"string"!=typeof s&&console.warn('"string" type argument expected');var K=d;"function"!=typeof d&&(N=!!d,K=void 0,y=void 0);var se=this._events&&this._events[s];if(se&&se.length&&!1!==this._listens(s,K,y))return!0;if(N)for(var Be in this._eventParents)if(this._eventParents[Be].listens(s,d,y,N))return!0;return!1},_listens:function(s,d,y){if(!this._events)return!1;var N=this._events[s]||[];if(!d)return!!N.length;y===this&&(y=void 0);for(var K=0,se=N.length;K<se;K++)if(N[K].fn===d&&N[K].ctx===y)return K;return!1},once:function(s,d,y){if("object"==typeof s)for(var N in s)this._on(N,s[N],d,!0);else for(var K=0,se=(s=Ge(s)).length;K<se;K++)this._on(s[K],d,y,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[ce(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[ce(s)],this},_propagateEvent:function(s){for(var d in this._eventParents)this._eventParents[d].fire(s.type,p({layer:s.target,propagatedFrom:s.target},s),!0)}};qt.addEventListener=qt.on,qt.removeEventListener=qt.clearAllEventListeners=qt.off,qt.addOneTimeEventListener=qt.once,qt.fireEvent=qt.fire,qt.hasEventListeners=qt.listens;var Cn=Re.extend(qt);function jt(s,d,y){this.x=y?Math.round(s):s,this.y=y?Math.round(d):d}var qn=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function At(s,d,y){return s instanceof jt?s:ot(s)?new jt(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new jt(s.x,s.y):new jt(s,d,y)}function ye(s,d){if(s)for(var y=d?[s,d]:s,N=0,K=y.length;N<K;N++)this.extend(y[N])}function Ce(s,d){return!s||s instanceof ye?s:new ye(s,d)}function Ie(s,d){if(s)for(var y=d?[s,d]:s,N=0,K=y.length;N<K;N++)this.extend(y[N])}function te(s,d){return s instanceof Ie?s:new Ie(s,d)}function _e(s,d,y){if(isNaN(s)||isNaN(d))throw new Error("Invalid LatLng object: ("+s+", "+d+")");this.lat=+s,this.lng=+d,void 0!==y&&(this.alt=+y)}function Le(s,d,y){return s instanceof _e?s:ot(s)&&"object"!=typeof s[0]?3===s.length?new _e(s[0],s[1],s[2]):2===s.length?new _e(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new _e(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===d?null:new _e(s,d,y)}jt.prototype={clone:function(){return new jt(this.x,this.y)},add:function(s){return this.clone()._add(At(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(At(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new jt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new jt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=qn(this.x),this.y=qn(this.y),this},distanceTo:function(s){var d=(s=At(s)).x-this.x,y=s.y-this.y;return Math.sqrt(d*d+y*y)},equals:function(s){return(s=At(s)).x===this.x&&s.y===this.y},contains:function(s){return s=At(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+be(this.x)+", "+be(this.y)+")"}},ye.prototype={extend:function(s){var d,y;if(!s)return this;if(s instanceof jt||"number"==typeof s[0]||"x"in s)d=y=At(s);else if(y=(s=Ce(s)).max,!(d=s.min)||!y)return this;return this.min||this.max?(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)):(this.min=d.clone(),this.max=y.clone()),this},getCenter:function(s){return At((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return At(this.min.x,this.max.y)},getTopRight:function(){return At(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var d,y;return(s="number"==typeof s[0]||s instanceof jt?At(s):Ce(s))instanceof ye?(d=s.min,y=s.max):d=y=s,d.x>=this.min.x&&y.x<=this.max.x&&d.y>=this.min.y&&y.y<=this.max.y},intersects:function(s){s=Ce(s);var d=this.min,y=this.max,N=s.min,K=s.max;return K.x>=d.x&&N.x<=y.x&&K.y>=d.y&&N.y<=y.y},overlaps:function(s){s=Ce(s);var d=this.min,y=this.max,N=s.min,K=s.max;return K.x>d.x&&N.x<y.x&&K.y>d.y&&N.y<y.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var d=this.min,y=this.max,N=Math.abs(d.x-y.x)*s,K=Math.abs(d.y-y.y)*s;return Ce(At(d.x-N,d.y-K),At(y.x+N,y.y+K))},equals:function(s){return!!s&&(s=Ce(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},Ie.prototype={extend:function(s){var N,K,d=this._southWest,y=this._northEast;if(s instanceof _e)N=s,K=s;else{if(!(s instanceof Ie))return s?this.extend(Le(s)||te(s)):this;if(K=s._northEast,!(N=s._southWest)||!K)return this}return d||y?(d.lat=Math.min(N.lat,d.lat),d.lng=Math.min(N.lng,d.lng),y.lat=Math.max(K.lat,y.lat),y.lng=Math.max(K.lng,y.lng)):(this._southWest=new _e(N.lat,N.lng),this._northEast=new _e(K.lat,K.lng)),this},pad:function(s){var d=this._southWest,y=this._northEast,N=Math.abs(d.lat-y.lat)*s,K=Math.abs(d.lng-y.lng)*s;return new Ie(new _e(d.lat-N,d.lng-K),new _e(y.lat+N,y.lng+K))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof _e||"lat"in s?Le(s):te(s);var N,K,d=this._southWest,y=this._northEast;return s instanceof Ie?(N=s.getSouthWest(),K=s.getNorthEast()):N=K=s,N.lat>=d.lat&&K.lat<=y.lat&&N.lng>=d.lng&&K.lng<=y.lng},intersects:function(s){s=te(s);var d=this._southWest,y=this._northEast,N=s.getSouthWest(),K=s.getNorthEast();return K.lat>=d.lat&&N.lat<=y.lat&&K.lng>=d.lng&&N.lng<=y.lng},overlaps:function(s){s=te(s);var d=this._southWest,y=this._northEast,N=s.getSouthWest(),K=s.getNorthEast();return K.lat>d.lat&&N.lat<y.lat&&K.lng>d.lng&&N.lng<y.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,d){return!!s&&(s=te(s),this._southWest.equals(s.getSouthWest(),d)&&this._northEast.equals(s.getNorthEast(),d))},isValid:function(){return!(!this._southWest||!this._northEast)}},_e.prototype={equals:function(s,d){return!!s&&(s=Le(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===d?1e-9:d))},toString:function(s){return"LatLng("+be(this.lat,s)+", "+be(this.lng,s)+")"},distanceTo:function(s){return $e.distance(this,Le(s))},wrap:function(){return $e.wrapLatLng(this)},toBounds:function(s){var d=180*s/40075017,y=d/Math.cos(Math.PI/180*this.lat);return te([this.lat-d,this.lng-y],[this.lat+d,this.lng+y])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};var s,He={latLngToPoint:function(s,d){var y=this.projection.project(s),N=this.scale(d);return this.transformation._transform(y,N)},pointToLatLng:function(s,d){var y=this.scale(d),N=this.transformation.untransform(s,y);return this.projection.unproject(N)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var d=this.projection.bounds,y=this.scale(s);return new ye(this.transformation.transform(d.min,y),this.transformation.transform(d.max,y))},infinite:!1,wrapLatLng:function(s){var d=this.wrapLng?We(s.lng,this.wrapLng,!0):s.lng;return new _e(this.wrapLat?We(s.lat,this.wrapLat,!0):s.lat,d,s.alt)},wrapLatLngBounds:function(s){var d=s.getCenter(),y=this.wrapLatLng(d),N=d.lat-y.lat,K=d.lng-y.lng;if(0===N&&0===K)return s;var se=s.getSouthWest(),Be=s.getNorthEast();return new Ie(new _e(se.lat-N,se.lng-K),new _e(Be.lat-N,Be.lng-K))}},$e=p({},He,{wrapLng:[-180,180],R:6371e3,distance:function(s,d){var y=Math.PI/180,N=s.lat*y,K=d.lat*y,se=Math.sin((d.lat-s.lat)*y/2),Be=Math.sin((d.lng-s.lng)*y/2),Tt=se*se+Math.cos(N)*Math.cos(K)*Be*Be,Pt=2*Math.atan2(Math.sqrt(Tt),Math.sqrt(1-Tt));return this.R*Pt}}),an={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var d=Math.PI/180,y=this.MAX_LATITUDE,N=Math.max(Math.min(y,s.lat),-y),K=Math.sin(N*d);return new jt(this.R*s.lng*d,this.R*Math.log((1+K)/(1-K))/2)},unproject:function(s){var d=180/Math.PI;return new _e((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*d,s.x*d/this.R)},bounds:(s=6378137*Math.PI,new ye([-s,-s],[s,s]))};function Kt(s,d,y,N){if(ot(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=d,this._c=y,this._d=N}function $n(s,d,y,N){return new Kt(s,d,y,N)}Kt.prototype={transform:function(s,d){return this._transform(s.clone(),d)},_transform:function(s,d){return s.x=(d=d||1)*(this._a*s.x+this._b),s.y=d*(this._c*s.y+this._d),s},untransform:function(s,d){return new jt((s.x/(d=d||1)-this._b)/this._a,(s.y/d-this._d)/this._c)}};var ut=p({},$e,{code:"EPSG:3857",projection:an,transformation:function(){var s=.5/(Math.PI*an.R);return $n(s,.5,-s,.5)}()}),Ct=p({},ut,{code:"EPSG:900913"});function Gn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ir(s,d){var N,K,se,Be,Tt,Pt,y="";for(N=0,se=s.length;N<se;N++){for(K=0,Be=(Tt=s[N]).length;K<Be;K++)y+=(K?"L":"M")+(Pt=Tt[K]).x+" "+Pt.y;y+=d?qe.svg?"z":"x":""}return y||"M0 0"}var Jt=document.documentElement.style,ln="ActiveXObject"in window,sr=ln&&!document.addEventListener,cn="msLaunchUri"in navigator&&!("documentMode"in document),Ne=kt("webkit"),Fe=kt("android"),Bt=kt("android 2")||kt("android 3"),St=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rr=Fe&&kt("Google")&&St<537&&!("AudioNode"in window),dr=!!window.opera,zn=!cn&&kt("chrome"),Pn=kt("gecko")&&!Ne&&!dr&&!ln,Tr=!zn&&kt("safari"),Ir=kt("phantom"),Cr="OTransition"in Jt,br=0===navigator.platform.indexOf("Win"),Wr=ln&&"transition"in Jt,Ei="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bt,Ln="MozPerspective"in Jt,vi=!window.L_DISABLE_3D&&(Wr||Ei||Ln)&&!Cr&&!Ir,pr=typeof orientation<"u"||kt("mobile"),kr=pr&&Ne,Mn=pr&&Ei,Fi=!window.PointerEvent&&window.MSPointerEvent,or=!(!window.PointerEvent&&!Fi),xr="ontouchstart"in window||!!window.TouchEvent,Nr=!window.L_NO_TOUCH&&(xr||or),In=pr&&dr,Wt=pr&&Pn,_t=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xt=function(){var s=!1;try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",Ke,d),window.removeEventListener("testPassiveEventSupport",Ke,d)}catch{}return s}(),ct=!!document.createElement("canvas").getContext,dt=!(!document.createElementNS||!Gn("svg").createSVGRect),vn=!!dt&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),De=!dt&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var d=s.firstChild;return d.style.behavior="url(#default#VML)",d&&"object"==typeof d.adj}catch{return!1}}();function kt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var qe={ie:ln,ielt9:sr,edge:cn,webkit:Ne,android:Fe,android23:Bt,androidStock:rr,opera:dr,chrome:zn,gecko:Pn,safari:Tr,phantom:Ir,opera12:Cr,win:br,ie3d:Wr,webkit3d:Ei,gecko3d:Ln,any3d:vi,mobile:pr,mobileWebkit:kr,mobileWebkit3d:Mn,msPointer:Fi,pointer:or,touch:Nr,touchNative:xr,mobileOpera:In,mobileGecko:Wt,retina:_t,passiveEvents:Xt,canvas:ct,svg:dt,vml:De,inlineSvg:vn,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Dn=qe.msPointer?"MSPointerDown":"pointerdown",Bn=qe.msPointer?"MSPointerMove":"pointermove",Br=qe.msPointer?"MSPointerUp":"pointerup",fi=qe.msPointer?"MSPointerCancel":"pointercancel",lt={touchstart:Dn,touchmove:Bn,touchend:Br,touchcancel:fi},zr={touchstart:function Vr(s,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Pi(d),Ki(s,d)},touchmove:Ki,touchend:Ki,touchcancel:Ki},Jn={},pi=!1;function Ii(s,d,y){return"touchstart"===d&&function Fo(){pi||(document.addEventListener(Dn,Wi,!0),document.addEventListener(Bn,ho,!0),document.addEventListener(Br,Bi,!0),document.addEventListener(fi,Bi,!0),pi=!0)}(),zr[d]?(y=zr[d].bind(this,y),s.addEventListener(lt[d],y,!1),y):(console.warn("wrong event specified:",d),Ke)}function Wi(s){Jn[s.pointerId]=s}function ho(s){Jn[s.pointerId]&&(Jn[s.pointerId]=s)}function Bi(s){delete Jn[s.pointerId]}function Ki(s,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){for(var y in d.touches=[],Jn)d.touches.push(Jn[y]);d.changedTouches=[d],s(d)}}var ht=200;var xt,It,nn,Yn,vr,bt=Go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zt=Go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sn="webkitTransition"===Zt||"OTransition"===Zt?Zt+"End":"transitionend";function ur(s){return"string"==typeof s?document.getElementById(s):s}function cr(s,d){var y=s.style[d]||s.currentStyle&&s.currentStyle[d];if((!y||"auto"===y)&&document.defaultView){var N=document.defaultView.getComputedStyle(s,null);y=N?N[d]:null}return"auto"===y?null:y}function ar(s,d,y){var N=document.createElement(s);return N.className=d||"",y&&y.appendChild(N),N}function Qn(s){var d=s.parentNode;d&&d.removeChild(s)}function Er(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Vi(s){var d=s.parentNode;d&&d.lastChild!==s&&d.appendChild(s)}function Ur(s){var d=s.parentNode;d&&d.firstChild!==s&&d.insertBefore(s,d.firstChild)}function eo(s,d){if(void 0!==s.classList)return s.classList.contains(d);var y=Ro(s);return y.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(y)}function Pr(s,d){if(void 0!==s.classList)for(var y=Ge(d),N=0,K=y.length;N<K;N++)s.classList.add(y[N]);else if(!eo(s,d)){var se=Ro(s);Ni(s,(se?se+" ":"")+d)}}function gi(s,d){void 0!==s.classList?s.classList.remove(d):Ni(s,me((" "+Ro(s)+" ").replace(" "+d+" "," ")))}function Ni(s,d){void 0===s.className.baseVal?s.className=d:s.className.baseVal=d}function Ro(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function Di(s,d){"opacity"in s.style?s.style.opacity=d:"filter"in s.style&&function Ho(s,d){var y=!1,N="DXImageTransform.Microsoft.Alpha";try{y=s.filters.item(N)}catch{if(1===d)return}d=Math.round(100*d),y?(y.Enabled=100!==d,y.Opacity=d):s.style.filter+=" progid:"+N+"(opacity="+d+")"}(s,d)}function Go(s){for(var d=document.documentElement.style,y=0;y<s.length;y++)if(s[y]in d)return s[y];return!1}function Io(s,d,y){var N=d||new jt(0,0);s.style[bt]=(qe.ie3d?"translate("+N.x+"px,"+N.y+"px)":"translate3d("+N.x+"px,"+N.y+"px,0)")+(y?" scale("+y+")":"")}function oe(s,d){s._leaflet_pos=d,qe.any3d?Io(s,d):(s.style.left=d.x+"px",s.style.top=d.y+"px")}function Ue(s){return s._leaflet_pos||new jt(0,0)}if("onselectstart"in document)xt=function(){bn(window,"selectstart",Pi)},It=function(){Un(window,"selectstart",Pi)};else{var _n=Go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xt=function(){if(_n){var s=document.documentElement.style;nn=s[_n],s[_n]="none"}},It=function(){_n&&(document.documentElement.style[_n]=nn,nn=void 0)}}function Hn(){bn(window,"dragstart",Pi)}function st(){Un(window,"dragstart",Pi)}function Ai(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(Oi(),Yn=s,vr=s.style.outlineStyle,s.style.outlineStyle="none",bn(window,"keydown",Oi))}function Oi(){Yn&&(Yn.style.outlineStyle=vr,Yn=void 0,vr=void 0,Un(window,"keydown",Oi))}function Lr(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function $i(s){var d=s.getBoundingClientRect();return{x:d.width/s.offsetWidth||1,y:d.height/s.offsetHeight||1,boundingClientRect:d}}var Ti={__proto__:null,TRANSFORM:bt,TRANSITION:Zt,TRANSITION_END:Sn,get:ur,getStyle:cr,create:ar,remove:Qn,empty:Er,toFront:Vi,toBack:Ur,hasClass:eo,addClass:Pr,removeClass:gi,setClass:Ni,getClass:Ro,setOpacity:Di,testProp:Go,setTransform:Io,setPosition:oe,getPosition:Ue,get disableTextSelection(){return xt},get enableTextSelection(){return It},disableImageDrag:Hn,enableImageDrag:st,preventOutline:Ai,restoreOutline:Oi,getSizedParentNode:Lr,getScale:$i};function bn(s,d,y,N){if(d&&"object"==typeof d)for(var K in d)yr(s,K,d[K],y);else for(var se=0,Be=(d=Ge(d)).length;se<Be;se++)yr(s,d[se],y,N);return this}var Rr="_leaflet_events";function Un(s,d,y,N){if(1===arguments.length)ui(s),delete s[Rr];else if(d&&"object"==typeof d)for(var K in d)to(s,K,d[K],y);else if(d=Ge(d),2===arguments.length)ui(s,function(Tt){return-1!==ft(d,Tt)});else for(var se=0,Be=d.length;se<Be;se++)to(s,d[se],y,N);return this}function ui(s,d){for(var y in s[Rr]){var N=y.split(/\d/)[0];(!d||d(N))&&to(s,N,null,null,y)}}var Kr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yr(s,d,y,N){var K=d+ce(y)+(N?"_"+ce(N):"");if(s[Rr]&&s[Rr][K])return this;var se=function(Tt){return y.call(N||s,Tt||window.event)},Be=se;!qe.touchNative&&qe.pointer&&0===d.indexOf("touch")?se=Ii(s,d,se):qe.touch&&"dblclick"===d?se=function on(s,d){s.addEventListener("dblclick",d);var N,y=0;function K(se){if(1===se.detail){if("mouse"!==se.pointerType&&(!se.sourceCapabilities||se.sourceCapabilities.firesTouchEvents)){var Be=ro(se);if(!Be.some(function(Pt){return Pt instanceof HTMLLabelElement&&Pt.attributes.for})||Be.some(function(Pt){return Pt instanceof HTMLInputElement||Pt instanceof HTMLSelectElement})){var Tt=Date.now();Tt-y<=ht?2==++N&&d(function zt(s){var y,N,d={};for(N in s)d[N]=(y=s[N])&&y.bind?y.bind(s):y;return s=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}(se)):N=1,y=Tt}}}else N=se.detail}return s.addEventListener("click",K),{dblclick:d,simDblclick:K}}(s,se):"addEventListener"in s?"touchstart"===d||"touchmove"===d||"wheel"===d||"mousewheel"===d?s.addEventListener(Kr[d]||d,se,!!qe.passiveEvents&&{passive:!1}):"mouseenter"===d||"mouseleave"===d?s.addEventListener(Kr[d],se=function(Tt){Tt=Tt||window.event,ze(s,Tt)&&Be(Tt)},!1):s.addEventListener(d,Be,!1):s.attachEvent("on"+d,se),s[Rr]=s[Rr]||{},s[Rr][K]=se}function to(s,d,y,N,K){K=K||d+ce(y)+(N?"_"+ce(N):"");var se=s[Rr]&&s[Rr][K];if(!se)return this;!qe.touchNative&&qe.pointer&&0===d.indexOf("touch")?function tr(s,d,y){lt[d]?s.removeEventListener(lt[d],y,!1):console.warn("wrong event specified:",d)}(s,d,se):qe.touch&&"dblclick"===d?function xn(s,d){s.removeEventListener("dblclick",d.dblclick),s.removeEventListener("click",d.simDblclick)}(s,se):"removeEventListener"in s?s.removeEventListener(Kr[d]||d,se,!1):s.detachEvent("on"+d,se),s[Rr][K]=null}function hr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Yr(s){return yr(s,"wheel",hr),this}function wn(s){return bn(s,"mousedown touchstart dblclick contextmenu",hr),s._leaflet_disable_click=!0,this}function Pi(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ci(s){return Pi(s),hr(s),this}function ro(s){if(s.composedPath)return s.composedPath();for(var d=[],y=s.target;y;)d.push(y),y=y.parentNode;return d}function Q(s,d){if(!d)return new jt(s.clientX,s.clientY);var y=$i(d),N=y.boundingClientRect;return new jt((s.clientX-N.left)/y.x-d.clientLeft,(s.clientY-N.top)/y.y-d.clientTop)}var ie=qe.linux&&qe.chrome?window.devicePixelRatio:qe.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ke(s){return qe.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/ie:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function ze(s,d){var y=d.relatedTarget;if(!y)return!0;try{for(;y&&y!==s;)y=y.parentNode}catch{return!1}return y!==s}var pt={__proto__:null,on:bn,off:Un,stopPropagation:hr,disableScrollPropagation:Yr,disableClickPropagation:wn,preventDefault:Pi,stop:ci,getPropagationPath:ro,getMousePosition:Q,getWheelDelta:ke,isExternalTarget:ze,addListener:bn,removeListener:Un},it=Cn.extend({run:function(s,d,y,N){this.stop(),this._el=s,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(N||.5,.2),this._startPos=Ue(s),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Qe(this._animate,this),this._step()},_step:function(s){var d=+new Date-this._startTime,y=1e3*this._duration;d<y?this._runFrame(this._easeOut(d/y),s):(this._runFrame(1),this._complete())},_runFrame:function(s,d){var y=this._startPos.add(this._offset.multiplyBy(s));d&&y._round(),oe(this._el,y),this.fire("step")},_complete:function(){Mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ut=Cn.extend({options:{crs:ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,d){d=je(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=le(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),void 0!==d.zoom&&(this._zoom=this._limitZoom(d.zoom)),d.center&&void 0!==d.zoom&&this.setView(Le(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zt&&qe.any3d&&!qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bn(this._proxy,Sn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,d,y){return d=void 0===d?this._zoom:this._limitZoom(d),s=this._limitCenter(Le(s),d,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&!0!==y&&(void 0!==y.animate&&(y.zoom=p({animate:y.animate},y.zoom),y.pan=p({animate:y.animate,duration:y.duration},y.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,d,y.zoom):this._tryAnimatedPan(s,y.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,d,y.pan&&y.pan.noMoveStart),this)},setZoom:function(s,d){return this._loaded?this.setView(this.getCenter(),s,{zoom:d}):(this._zoom=s,this)},zoomIn:function(s,d){return this.setZoom(this._zoom+(s=s||(qe.any3d?this.options.zoomDelta:1)),d)},zoomOut:function(s,d){return this.setZoom(this._zoom-(s=s||(qe.any3d?this.options.zoomDelta:1)),d)},setZoomAround:function(s,d,y){var N=this.getZoomScale(d),K=this.getSize().divideBy(2),Be=(s instanceof jt?s:this.latLngToContainerPoint(s)).subtract(K).multiplyBy(1-1/N),Tt=this.containerPointToLatLng(K.add(Be));return this.setView(Tt,d,{zoom:y})},_getBoundsCenterZoom:function(s,d){d=d||{},s=s.getBounds?s.getBounds():te(s);var y=At(d.paddingTopLeft||d.padding||[0,0]),N=At(d.paddingBottomRight||d.padding||[0,0]),K=this.getBoundsZoom(s,!1,y.add(N));if((K="number"==typeof d.maxZoom?Math.min(d.maxZoom,K):K)===1/0)return{center:s.getCenter(),zoom:K};var se=N.subtract(y).divideBy(2),Be=this.project(s.getSouthWest(),K),Tt=this.project(s.getNorthEast(),K);return{center:this.unproject(Be.add(Tt).divideBy(2).add(se),K),zoom:K}},fitBounds:function(s,d){if(!(s=te(s)).isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(s,d);return this.setView(y.center,y.zoom,d)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,d){return this.setView(s,this._zoom,{pan:d})},panBy:function(s,d){if(d=d||{},!(s=At(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==d.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new it,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),!1!==d.animate){Pr(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,y,d.duration||.25,d.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,d,y){if(!1===(y=y||{}).animate||!qe.any3d)return this.setView(s,d,y);this._stop();var N=this.project(this.getCenter()),K=this.project(s),se=this.getSize(),Be=this._zoom;s=Le(s),d=void 0===d?Be:d;var Tt=Math.max(se.x,se.y),Pt=Tt*this.getZoomScale(Be,d),pn=K.distanceTo(N)||1,Fn=1.42,jn=Fn*Fn;function rn(xi){var no=(Pt*Pt-Tt*Tt+(xi?-1:1)*jn*jn*pn*pn)/(2*(xi?Pt:Tt)*jn*pn),Os=Math.sqrt(no*no+1)-no;return Os<1e-9?-18:Math.log(Os)}function Kn(xi){return(Math.exp(xi)-Math.exp(-xi))/2}function Jr(xi){return(Math.exp(xi)+Math.exp(-xi))/2}var di=rn(0);function oa(xi){return Tt*(Jr(di)*function Si(xi){return Kn(xi)/Jr(xi)}(di+Fn*xi)-Kn(di))/jn}var Sr=Date.now(),ys=(rn(1)-di)/Fn,Fr=y.duration?1e3*y.duration:1e3*ys*.8;return this._moveStart(!0,y.noMoveStart),function qs(){var xi=(Date.now()-Sr)/Fr,Ia=function qr(xi){return 1-Math.pow(1-xi,1.5)}(xi)*ys;xi<=1?(this._flyToFrame=Qe(qs,this),this._move(this.unproject(N.add(K.subtract(N).multiplyBy(oa(Ia)/pn)),Be),this.getScaleZoom(Tt/function Ji(xi){return Tt*(Jr(di)/Jr(di+Fn*xi))}(Ia),Be),{flyTo:!0})):this._move(s,d)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,d){var y=this._getBoundsCenterZoom(s,d);return this.flyTo(y.center,y.zoom,d)},setMaxBounds:function(s){return s=te(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var d=this.options.minZoom;return this.options.minZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var d=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&d!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,d){this._enforcingBounds=!0;var y=this.getCenter(),N=this._limitCenter(y,this._zoom,te(s));return y.equals(N)||this.panTo(N,d),this._enforcingBounds=!1,this},panInside:function(s,d){var y=At((d=d||{}).paddingTopLeft||d.padding||[0,0]),N=At(d.paddingBottomRight||d.padding||[0,0]),K=this.project(this.getCenter()),se=this.project(s),Be=this.getPixelBounds(),Tt=Ce([Be.min.add(y),Be.max.subtract(N)]),Pt=Tt.getSize();if(!Tt.contains(se)){this._enforcingBounds=!0;var pn=se.subtract(Tt.getCenter()),Fn=Tt.extend(se).getSize().subtract(Pt);K.x+=pn.x<0?-Fn.x:Fn.x,K.y+=pn.y<0?-Fn.y:Fn.y,this.panTo(this.unproject(K),d),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=p({animate:!1,pan:!0},!0===s?{animate:!0}:s);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),N=d.divideBy(2).round(),K=y.divideBy(2).round(),se=N.subtract(K);return se.x||se.y?(s.animate&&s.pan?this.panBy(se):(s.pan&&this._rawPanBy(se),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(le(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:y})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=p({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=le(this._handleGeolocationResponse,this),y=le(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,y,s):navigator.geolocation.getCurrentPosition(d,y,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var d=s.code,y=s.message||(1===d?"permission denied":2===d?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var N=new _e(s.coords.latitude,s.coords.longitude),K=N.toBounds(2*s.coords.accuracy),se=this._locateOptions;if(se.setView){var Be=this.getBoundsZoom(K);this.setView(N,se.maxZoom?Math.min(Be,se.maxZoom):Be)}var Tt={latlng:N,bounds:K,timestamp:s.timestamp};for(var Pt in s.coords)"number"==typeof s.coords[Pt]&&(Tt[Pt]=s.coords[Pt]);this.fire("locationfound",Tt)}},addHandler:function(s,d){if(!d)return this;var y=this[s]=new d(this);return this._handlers.push(y),this.options[s]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Qn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)Qn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,d){var N=ar("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d||this._mapPane);return s&&(this._panes[s]=N),N},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new Ie(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,d,y){s=te(s),y=At(y||[0,0]);var N=this.getZoom()||0,K=this.getMinZoom(),se=this.getMaxZoom(),Be=s.getNorthWest(),Tt=s.getSouthEast(),Pt=this.getSize().subtract(y),pn=Ce(this.project(Tt,N),this.project(Be,N)).getSize(),Fn=qe.any3d?this.options.zoomSnap:1,jn=Pt.x/pn.x,rn=Pt.y/pn.y,Kn=d?Math.max(jn,rn):Math.min(jn,rn);return N=this.getScaleZoom(Kn,N),Fn&&(N=Math.round(N/(Fn/100))*(Fn/100),N=d?Math.ceil(N/Fn)*Fn:Math.floor(N/Fn)*Fn),Math.max(K,Math.min(se,N))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new jt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,d){var y=this._getTopLeftPoint(s,d);return new ye(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,d){var y=this.options.crs;return d=void 0===d?this._zoom:d,y.scale(s)/y.scale(d)},getScaleZoom:function(s,d){var y=this.options.crs,N=y.zoom(s*y.scale(d=void 0===d?this._zoom:d));return isNaN(N)?1/0:N},project:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.latLngToPoint(Le(s),d)},unproject:function(s,d){return d=void 0===d?this._zoom:d,this.options.crs.pointToLatLng(At(s),d)},layerPointToLatLng:function(s){var d=At(s).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(s){return this.project(Le(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Le(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(te(s))},distance:function(s,d){return this.options.crs.distance(Le(s),Le(d))},containerPointToLayerPoint:function(s){return At(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return At(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var d=this.containerPointToLayerPoint(At(s));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(s)))},mouseEventToContainerPoint:function(s){return Q(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var d=this._container=ur(s);if(!d)throw new Error("Map container not found.");if(d._leaflet_id)throw new Error("Map container is already initialized.");bn(d,"scroll",this._onScroll,this),this._containerId=ce(d)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&qe.any3d,Pr(s,"leaflet-container"+(qe.touch?" leaflet-touch":"")+(qe.retina?" leaflet-retina":"")+(qe.ielt9?" leaflet-oldie":"")+(qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=cr(s,"position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&"sticky"!==d&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),oe(this._mapPane,new jt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pr(s.markerPane,"leaflet-zoom-hide"),Pr(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,d,y){oe(this._mapPane,new jt(0,0));var N=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var K=this._zoom!==d;this._moveStart(K,y)._move(s,d)._moveEnd(K),this.fire("viewreset"),N&&this.fire("load")},_moveStart:function(s,d){return s&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(s,d,y,N){void 0===d&&(d=this._zoom);var K=this._zoom!==d;return this._zoom=d,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),N?y&&y.pinch&&this.fire("zoom",y):((K||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){oe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[ce(this._container)]=this;var d=s?Un:bn;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),qe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Mt(this._resizeRequest),this._resizeRequest=Qe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,d){for(var N,y=[],K="mouseout"===d||"mouseover"===d,se=s.target||s.srcElement,Be=!1;se;){if((N=this._targets[ce(se)])&&("click"===d||"preclick"===d)&&this._draggableMoved(N)){Be=!0;break}if(N&&N.listens(d,!0)&&(K&&!ze(se,s)||(y.push(N),K))||se===this._container)break;se=se.parentNode}return!y.length&&!Be&&!K&&this.listens(d,!0)&&(y=[this]),y},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var d=s.target||s.srcElement;if(!(!this._loaded||d._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(d))){var y=s.type;"mousedown"===y&&Ai(d),this._fireDOMEvent(s,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,d,y){if("click"===s.type){var N=p({},s);N.type="preclick",this._fireDOMEvent(N,N.type,y)}var K=this._findEventTargets(s,d);if(y){for(var se=[],Be=0;Be<y.length;Be++)y[Be].listens(d,!0)&&se.push(y[Be]);K=se.concat(K)}if(K.length){"contextmenu"===d&&Pi(s);var Tt=K[0],Pt={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var pn=Tt.getLatLng&&(!Tt._radius||Tt._radius<=10);Pt.containerPoint=pn?this.latLngToContainerPoint(Tt.getLatLng()):this.mouseEventToContainerPoint(s),Pt.layerPoint=this.containerPointToLayerPoint(Pt.containerPoint),Pt.latlng=pn?Tt.getLatLng():this.layerPointToLatLng(Pt.layerPoint)}for(Be=0;Be<K.length;Be++)if(K[Be].fire(d,Pt,!0),Pt.originalEvent._stopped||!1===K[Be].options.bubblingMouseEvents&&-1!==ft(this._mouseEvents,d))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,d=this._handlers.length;s<d;s++)this._handlers[s].disable()},whenReady:function(s,d){return this._loaded?s.call(d||this,{target:this}):this.on("load",s,d),this},_getMapPanePos:function(){return Ue(this._mapPane)||new jt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,d){return(s&&void 0!==d?this._getNewPixelOrigin(s,d):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,d){var y=this.getSize()._divideBy(2);return this.project(s,d)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,d,y){var N=this._getNewPixelOrigin(y,d);return this.project(s,d)._subtract(N)},_latLngBoundsToNewLayerBounds:function(s,d,y){var N=this._getNewPixelOrigin(y,d);return Ce([this.project(s.getSouthWest(),d)._subtract(N),this.project(s.getNorthWest(),d)._subtract(N),this.project(s.getSouthEast(),d)._subtract(N),this.project(s.getNorthEast(),d)._subtract(N)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,d,y){if(!y)return s;var N=this.project(s,d),K=this.getSize().divideBy(2),se=new ye(N.subtract(K),N.add(K)),Be=this._getBoundsOffset(se,y,d);return Math.abs(Be.x)<=1&&Math.abs(Be.y)<=1?s:this.unproject(N.add(Be),d)},_limitOffset:function(s,d){if(!d)return s;var y=this.getPixelBounds(),N=new ye(y.min.add(s),y.max.add(s));return s.add(this._getBoundsOffset(N,d))},_getBoundsOffset:function(s,d,y){var N=Ce(this.project(d.getNorthEast(),y),this.project(d.getSouthWest(),y)),K=N.min.subtract(s.min),se=N.max.subtract(s.max);return new jt(this._rebound(K.x,-se.x),this._rebound(K.y,-se.y))},_rebound:function(s,d){return s+d>0?Math.round(s-d)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(d))},_limitZoom:function(s){var d=this.getMinZoom(),y=this.getMaxZoom(),N=qe.any3d?this.options.zoomSnap:1;return N&&(s=Math.round(s/N)*N),Math.max(d,Math.min(y,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,d){var y=this._getCenterOffset(s)._trunc();return!(!0!==(d&&d.animate)&&!this.getSize().contains(y)||(this.panBy(y,d),0))},_createAnimProxy:function(){var s=this._proxy=ar("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(d){var y=bt,N=this._proxy.style[y];Io(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),N===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),d=this.getZoom();Io(this._proxy,this.project(s,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,d,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||!1===y.animate||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var N=this.getZoomScale(d),K=this._getCenterOffset(s)._divideBy(1-1/N);return!(!0!==y.animate&&!this.getSize().contains(K)||(Qe(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(s,d,!0)},this),0))},_animateZoom:function(s,d,y,N){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=d,Pr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:d,noUpdate:N}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(le(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Yt=Re.extend({options:{position:"topright"},initialize:function(s){je(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var d=this._map;return d&&d.removeControl(this),this.options.position=s,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var d=this._container=this.onAdd(s),y=this.getPosition(),N=s._controlCorners[y];return Pr(d,"leaflet-control"),-1!==y.indexOf("bottom")?N.insertBefore(d,N.firstChild):N.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),un=function(s){return new Yt(s)};Ut.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},d="leaflet-",y=this._controlContainer=ar("div",d+"control-container",this._container);function N(K,se){s[K+se]=ar("div",d+K+" "+d+se,y)}N("top","left"),N("top","right"),N("bottom","left"),N("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Qn(this._controlCorners[s]);Qn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tn=Yt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,d,y,N){return y<N?-1:N<y?1:0}},initialize:function(s,d,y){for(var N in je(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[N],N);for(N in d)this._addLayer(d[N],N,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Yt.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,d){return this._addLayer(s,d),this._map?this._update():this},addOverlay:function(s,d){return this._addLayer(s,d,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var d=this._getLayer(ce(s));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Pr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Pr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):gi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",d=this._container=ar("div",s),y=this.options.collapsed;d.setAttribute("aria-haspopup",!0),wn(d),Yr(d);var N=this._section=ar("section",s+"-list");y&&(this._map.on("click",this.collapse,this),bn(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var K=this._layersLink=ar("a",s+"-toggle",d);K.href="#",K.title="Layers",K.setAttribute("role","button"),bn(K,{keydown:function(se){13===se.keyCode&&this._expandSafely()},click:function(se){Pi(se),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=ar("div",s+"-base",N),this._separator=ar("div",s+"-separator",N),this._overlaysList=ar("div",s+"-overlays",N),d.appendChild(N)},_getLayer:function(s){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&ce(this._layers[d].layer)===s)return this._layers[d]},_addLayer:function(s,d,y){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:d,overlay:y}),this.options.sortLayers&&this._layers.sort(le(function(N,K){return this.options.sortFunction(N.layer,K.layer,N.name,K.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Er(this._baseLayersList),Er(this._overlaysList),this._layerControlInputs=[];var s,d,y,N,K=0;for(y=0;y<this._layers.length;y++)this._addItem(N=this._layers[y]),d=d||N.overlay,s=s||!N.overlay,K+=N.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&K>1)?"":"none"),this._separator.style.display=d&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var d=this._getLayer(ce(s.target)),y=d.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;y&&this._map.fire(y,d)},_createRadioElement:function(s,d){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(d?' checked="checked"':"")+"/>",N=document.createElement("div");return N.innerHTML=y,N.firstChild},_addItem:function(s){var N,d=document.createElement("label"),y=this._map.hasLayer(s.layer);s.overlay?((N=document.createElement("input")).type="checkbox",N.className="leaflet-control-layers-selector",N.defaultChecked=y):N=this._createRadioElement("leaflet-base-layers_"+ce(this),y),this._layerControlInputs.push(N),N.layerId=ce(s.layer),bn(N,"click",this._onInputClick,this);var K=document.createElement("span");K.innerHTML=" "+s.name;var se=document.createElement("span");return d.appendChild(se),se.appendChild(N),se.appendChild(K),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var d,y,s=this._layerControlInputs,N=[],K=[];this._handlingClick=!0;for(var se=s.length-1;se>=0;se--)y=this._getLayer((d=s[se]).layerId).layer,d.checked?N.push(y):d.checked||K.push(y);for(se=0;se<K.length;se++)this._map.hasLayer(K[se])&&this._map.removeLayer(K[se]);for(se=0;se<N.length;se++)this._map.hasLayer(N[se])||this._map.addLayer(N[se]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d,y,s=this._layerControlInputs,N=this._map.getZoom(),K=s.length-1;K>=0;K--)y=this._getLayer((d=s[K]).layerId).layer,d.disabled=void 0!==y.options.minZoom&&N<y.options.minZoom||void 0!==y.options.maxZoom&&N>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,bn(s,"click",Pi),this.expand();var d=this;setTimeout(function(){Un(s,"click",Pi),d._preventClick=!1})}}),nr=Yt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var d="leaflet-control-zoom",y=ar("div",d+" leaflet-bar"),N=this.options;return this._zoomInButton=this._createButton(N.zoomInText,N.zoomInTitle,d+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(N.zoomOutText,N.zoomOutTitle,d+"-out",y,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,d,y,N,K){var se=ar("a",y,N);return se.innerHTML=s,se.href="#",se.title=d,se.setAttribute("role","button"),se.setAttribute("aria-label",d),wn(se),bn(se,"click",ci),bn(se,"click",K,this),bn(se,"click",this._refocusOnMap,this),se},_updateDisabled:function(){var s=this._map,d="leaflet-disabled";gi(this._zoomInButton,d),gi(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Pr(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Pr(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new nr,this.addControl(this.zoomControl))});var ni=Yt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var d="leaflet-control-scale",y=ar("div",d),N=this.options;return this._addScales(N,d+"-line",y),s.on(N.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),y},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,d,y){s.metric&&(this._mScale=ar("div",d,y)),s.imperial&&(this._iScale=ar("div",d,y))},_update:function(){var s=this._map,d=s.getSize().y/2,y=s.distance(s.containerPointToLatLng([0,d]),s.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(y)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var d=this._getRoundNum(s);this._updateScale(this._mScale,d<1e3?d+" m":d/1e3+" km",d/s)},_updateImperial:function(s){var y,N,K,d=3.2808399*s;d>5280?(N=this._getRoundNum(y=d/5280),this._updateScale(this._iScale,N+" mi",N/y)):(K=this._getRoundNum(d),this._updateScale(this._iScale,K+" ft",K/d))},_updateScale:function(s,d,y){s.style.width=Math.round(this.options.maxWidth*y)+"px",s.innerHTML=d},_getRoundNum:function(s){var d=Math.pow(10,(Math.floor(s)+"").length-1),y=s/d;return d*(y>=10?10:y>=5?5:y>=3?3:y>=2?2:1)}}),ri=Yt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(qe.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){je(this,s),this._attributions={}},onAdd:function(s){for(var d in s.attributionControl=this,this._container=ar("div","leaflet-control-attribution"),wn(this._container),s._layers)s._layers[d].getAttribution&&this.addAttribution(s._layers[d].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var d in this._attributions)this._attributions[d]&&s.push(d);var y=[];this.options.prefix&&y.push(this.options.prefix),s.length&&y.push(s.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&(new ri).addTo(this)});Yt.Layers=Tn,Yt.Zoom=nr,Yt.Scale=ni,Yt.Attribution=ri,un.layers=function(s,d,y){return new Tn(s,d,y)},un.zoom=function(s){return new nr(s)},un.scale=function(s){return new ni(s)},un.attribution=function(s){return new ri(s)};var bi=Re.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bi.addTo=function(s,d){return s.addHandler(d,this),this};var fo={Events:qt},Qi=qe.touch?"touchstart mousedown":"mousedown",Yi=Cn.extend({options:{clickTolerance:3},initialize:function(s,d,y,N){je(this,N),this._element=s,this._dragStartTarget=d||s,this._preventOutline=y},enable:function(){this._enabled||(bn(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yi._dragging===this&&this.finishDrag(!0),Un(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!eo(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(Yi._dragging===this&&this.finishDrag());if(!(Yi._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(Yi._dragging=this,this._preventOutline&&Ai(this._element),Hn(),xt(),this._moving))){this.fire("down");var d=s.touches?s.touches[0]:s,y=Lr(this._element);this._startPoint=new jt(d.clientX,d.clientY),this._startPos=Ue(this._element),this._parentScale=$i(y);var N="mousedown"===s.type;bn(document,N?"mousemove":"touchmove",this._onMove,this),bn(document,N?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var d=s.touches&&1===s.touches.length?s.touches[0]:s,y=new jt(d.clientX,d.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Pi(s),this._moved||(this.fire("dragstart"),this._moved=!0,Pr(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),oe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){gi(document.body,"leaflet-dragging"),this._lastTarget&&(gi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Un(document,"mousemove touchmove",this._onMove,this),Un(document,"mouseup touchend touchcancel",this._onUp,this),st(),It();var d=this._moved&&this._moving;this._moving=!1,Yi._dragging=!1,d&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function po(s,d,y){var N,se,Be,Tt,Pt,pn,Fn,jn,rn,K=[1,4,2,8];for(se=0,Fn=s.length;se<Fn;se++)s[se]._code=Dr(s[se],d);for(Tt=0;Tt<4;Tt++){for(jn=K[Tt],N=[],se=0,Be=(Fn=s.length)-1;se<Fn;Be=se++)pn=s[Be],(Pt=s[se])._code&jn?pn._code&jn||((rn=Xr(pn,Pt,jn,d,y))._code=Dr(rn,d),N.push(rn)):(pn._code&jn&&((rn=Xr(pn,Pt,jn,d,y))._code=Dr(rn,d),N.push(rn)),N.push(Pt));s=N}return s}function is(s,d){var y,N,K,se,Be,Tt,Pt,pn;if(!s||0===s.length)throw new Error("latlngs not passed");ki(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var jn=Le([0,0]),rn=te(s);rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest())<1700&&(jn=Vo(s));var Jr=s.length,Si=[];for(y=0;y<Jr;y++){var di=Le(s[y]);Si.push(d.project(Le([di.lat-jn.lat,di.lng-jn.lng])))}for(Tt=Pt=pn=0,y=0,N=Jr-1;y<Jr;N=y++)Pt+=((K=Si[y]).x+(se=Si[N]).x)*(Be=K.y*se.x-se.y*K.x),pn+=(K.y+se.y)*Be,Tt+=3*Be;var Ji=d.unproject(At(0===Tt?Si[0]:[Pt/Tt,pn/Tt]));return Le([Ji.lat+jn.lat,Ji.lng+jn.lng])}function Vo(s){for(var d=0,y=0,N=0,K=0;K<s.length;K++){var se=Le(s[K]);d+=se.lat,y+=se.lng,N++}return Le([d/N,y/N])}var io,Eo={__proto__:null,clipPolygon:po,polygonCenter:is,centroid:Vo};function Zo(s,d){if(!d||!s.length)return s.slice();var y=d*d;return function Xi(s,d){var y=s.length,K=new(typeof Uint8Array<"u"?Uint8Array:Array)(y);K[0]=K[y-1]=1,Uo(s,K,d,0,y-1);var se,Be=[];for(se=0;se<y;se++)K[se]&&Be.push(s[se]);return Be}(s=function ss(s,d){for(var y=[s[0]],N=1,K=0,se=s.length;N<se;N++)Bo(s[N],s[K])>d&&(y.push(s[N]),K=N);return K<se-1&&y.push(s[se-1]),y}(s,y),y)}function bs(s,d,y){return Math.sqrt(yo(s,d,y,!0))}function Uo(s,d,y,N,K){var Be,Tt,Pt,se=0;for(Tt=N+1;Tt<=K-1;Tt++)(Pt=yo(s[Tt],s[N],s[K],!0))>se&&(Be=Tt,se=Pt);se>y&&(d[Be]=1,Uo(s,d,y,N,Be),Uo(s,d,y,Be,K))}function cs(s,d,y,N,K){var Tt,Pt,pn,se=N?io:Dr(s,y),Be=Dr(d,y);for(io=Be;;){if(!(se|Be))return[s,d];if(se&Be)return!1;pn=Dr(Pt=Xr(s,d,Tt=se||Be,y,K),y),Tt===se?(s=Pt,se=pn):(d=Pt,Be=pn)}}function Xr(s,d,y,N,K){var pn,Fn,se=d.x-s.x,Be=d.y-s.y,Tt=N.min,Pt=N.max;return 8&y?(pn=s.x+se*(Pt.y-s.y)/Be,Fn=Pt.y):4&y?(pn=s.x+se*(Tt.y-s.y)/Be,Fn=Tt.y):2&y?(pn=Pt.x,Fn=s.y+Be*(Pt.x-s.x)/se):1&y&&(pn=Tt.x,Fn=s.y+Be*(Tt.x-s.x)/se),new jt(pn,Fn,K)}function Dr(s,d){var y=0;return s.x<d.min.x?y|=1:s.x>d.max.x&&(y|=2),s.y<d.min.y?y|=4:s.y>d.max.y&&(y|=8),y}function Bo(s,d){var y=d.x-s.x,N=d.y-s.y;return y*y+N*N}function yo(s,d,y,N){var pn,K=d.x,se=d.y,Be=y.x-K,Tt=y.y-se,Pt=Be*Be+Tt*Tt;return Pt>0&&((pn=((s.x-K)*Be+(s.y-se)*Tt)/Pt)>1?(K=y.x,se=y.y):pn>0&&(K+=Be*pn,se+=Tt*pn)),Be=s.x-K,Tt=s.y-se,N?Be*Be+Tt*Tt:new jt(K,se)}function ki(s){return!ot(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function Ds(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ki(s)}function as(s,d){var y,N,K,se,Be,Tt,Pt,pn;if(!s||0===s.length)throw new Error("latlngs not passed");ki(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Fn=Le([0,0]),jn=te(s);jn.getNorthWest().distanceTo(jn.getSouthWest())*jn.getNorthEast().distanceTo(jn.getNorthWest())<1700&&(Fn=Vo(s));var Kn=s.length,Jr=[];for(y=0;y<Kn;y++){var Si=Le(s[y]);Jr.push(d.project(Le([Si.lat-Fn.lat,Si.lng-Fn.lng])))}for(y=0,N=0;y<Kn-1;y++)N+=Jr[y].distanceTo(Jr[y+1])/2;if(0===N)pn=Jr[0];else for(y=0,se=0;y<Kn-1;y++)if((se+=K=(Be=Jr[y]).distanceTo(Tt=Jr[y+1]))>N){pn=[Tt.x-(Pt=(se-N)/K)*(Tt.x-Be.x),Tt.y-Pt*(Tt.y-Be.y)];break}var di=d.unproject(At(pn));return Le([di.lat+Fn.lat,di.lng+Fn.lng])}var gr={__proto__:null,simplify:Zo,pointToSegmentDistance:bs,closestPointOnSegment:function os(s,d,y){return yo(s,d,y)},clipSegment:cs,_getEdgeIntersection:Xr,_getBitCode:Dr,_sqClosestPointOnSegment:yo,isFlat:ki,_flat:Ds,polylineCenter:as},$r={project:function(s){return new jt(s.lng,s.lat)},unproject:function(s){return new _e(s.y,s.x)},bounds:new ye([-180,-90],[180,90])},Ss={R:6378137,R_MINOR:6356752.314245179,bounds:new ye([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var d=Math.PI/180,y=this.R,N=s.lat*d,K=this.R_MINOR/y,se=Math.sqrt(1-K*K),Be=se*Math.sin(N),Tt=Math.tan(Math.PI/4-N/2)/Math.pow((1-Be)/(1+Be),se/2);return N=-y*Math.log(Math.max(Tt,1e-10)),new jt(s.lng*d*y,N)},unproject:function(s){for(var pn,d=180/Math.PI,y=this.R,N=this.R_MINOR/y,K=Math.sqrt(1-N*N),se=Math.exp(-s.y/y),Be=Math.PI/2-2*Math.atan(se),Tt=0,Pt=.1;Tt<15&&Math.abs(Pt)>1e-7;Tt++)pn=K*Math.sin(Be),pn=Math.pow((1-pn)/(1+pn),K/2),Be+=Pt=Math.PI/2-2*Math.atan(se*pn)-Be;return new _e(Be*d,s.x*d/y)}},Rs={__proto__:null,LonLat:$r,Mercator:Ss,SphericalMercator:an},Ps=p({},$e,{code:"EPSG:3395",projection:Ss,transformation:function(){var s=.5/(Math.PI*Ss.R);return $n(s,.5,-s,.5)}()}),zs=p({},$e,{code:"EPSG:4326",projection:$r,transformation:$n(1/180,1,-1/180,.5)}),ms=p({},He,{projection:$r,transformation:$n(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,d){var y=d.lng-s.lng,N=d.lat-s.lat;return Math.sqrt(y*y+N*N)},infinite:!0});He.Earth=$e,He.EPSG3395=Ps,He.EPSG3857=ut,He.EPSG900913=Ct,He.EPSG4326=zs,He.Simple=ms;var Po=Cn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[ce(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[ce(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var d=s.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var y=this.getEvents();d.on(y,this),this.once("remove",function(){d.off(y,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var d=ce(s);return this._layers[d]||(this._layers[d]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var d=ce(s);return this._layers[d]?(this._loaded&&s.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return ce(s)in this._layers},eachLayer:function(s,d){for(var y in this._layers)s.call(d,this._layers[y]);return this},_addLayers:function(s){for(var d=0,y=(s=s?ot(s)?s:[s]:[]).length;d<y;d++)this.addLayer(s[d])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[ce(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var d=ce(s);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,d=-1/0,y=this._getZoomSpan();for(var N in this._zoomBoundLayers){var K=this._zoomBoundLayers[N].options;s=void 0===K.minZoom?s:Math.min(s,K.minZoom),d=void 0===K.maxZoom?d:Math.max(d,K.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=s===1/0?void 0:s,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qo=Po.extend({initialize:function(s,d){var y,N;if(je(this,d),this._layers={},s)for(y=0,N=s.length;y<N;y++)this.addLayer(s[y])},addLayer:function(s){var d=this.getLayerId(s);return this._layers[d]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var d=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var y,N,d=Array.prototype.slice.call(arguments,1);for(y in this._layers)(N=this._layers[y])[s]&&N[s].apply(N,d);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,d){for(var y in this._layers)s.call(d,this._layers[y]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return ce(s)}}),oo=Qo.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Qo.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Qo.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ie;for(var d in this._layers){var y=this._layers[d];s.extend(y.getBounds?y.getBounds():y.getLatLng())}return s}}),Ms=Re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){je(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,d){var y=this._getIconUrl(s);if(!y){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var N=this._createImg(y,d&&"IMG"===d.tagName?d:null);return this._setIconStyles(N,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(N.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),N},_setIconStyles:function(s,d){var y=this.options,N=y[d+"Size"];"number"==typeof N&&(N=[N,N]);var K=At(N),se=At("shadow"===d&&y.shadowAnchor||y.iconAnchor||K&&K.divideBy(2,!0));s.className="leaflet-marker-"+d+" "+(y.className||""),se&&(s.style.marginLeft=-se.x+"px",s.style.marginTop=-se.y+"px"),K&&(s.style.width=K.x+"px",s.style.height=K.y+"px")},_createImg:function(s,d){return(d=d||document.createElement("img")).src=s,d},_getIconUrl:function(s){return qe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var xs=Ms.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof xs.imagePath&&(xs.imagePath=this._detectIconPath()),(this.options.imagePath||xs.imagePath)+Ms.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var d=function(y,N,K){var se=N.exec(y);return se&&se[K]};return(s=d(s,/^url\((['"])?(.+)\1\)$/,2))&&d(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ar("div","leaflet-default-icon-path",document.body),d=cr(s,"background-image")||cr(s,"backgroundImage");if(document.body.removeChild(s),d=this._stripUrl(d))return d;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),va=bi.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Yi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pr(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var d=this._marker,y=d._map,N=this._marker.options.autoPanSpeed,K=this._marker.options.autoPanPadding,se=Ue(d._icon),Be=y.getPixelBounds(),Tt=y.getPixelOrigin(),Pt=Ce(Be.min._subtract(Tt).add(K),Be.max._subtract(Tt).subtract(K));if(!Pt.contains(se)){var pn=At((Math.max(Pt.max.x,se.x)-Pt.max.x)/(Be.max.x-Pt.max.x)-(Math.min(Pt.min.x,se.x)-Pt.min.x)/(Be.min.x-Pt.min.x),(Math.max(Pt.max.y,se.y)-Pt.max.y)/(Be.max.y-Pt.max.y)-(Math.min(Pt.min.y,se.y)-Pt.min.y)/(Be.min.y-Pt.min.y)).multiplyBy(N);y.panBy(pn,{animate:!1}),this._draggable._newPos._add(pn),this._draggable._startPos._add(pn),oe(d._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Qe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Mt(this._panRequest),this._panRequest=Qe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var d=this._marker,y=d._shadow,N=Ue(d._icon),K=d._map.layerPointToLatLng(N);y&&oe(y,N),d._latlng=K,s.latlng=K,s.oldLatLng=this._oldLatLng,d.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Z=Po.extend({options:{icon:new xs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,d){je(this,d),this._latlng=Le(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var d=this._latlng;return this._latlng=Le(s),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=s.icon.createIcon(this._icon),N=!1;y!==this._icon&&(this._icon&&this._removeIcon(),N=!0,s.title&&(y.title=s.title),"IMG"===y.tagName&&(y.alt=s.alt||"")),Pr(y,d),s.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bn(y,"focus",this._panOnFocus,this);var K=s.icon.createShadow(this._shadow),se=!1;K!==this._shadow&&(this._removeShadow(),se=!0),K&&(Pr(K,d),K.alt=""),this._shadow=K,s.opacity<1&&this._updateOpacity(),N&&this.getPane().appendChild(this._icon),this._initInteraction(),K&&se&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Un(this._icon,"focus",this._panOnFocus,this),Qn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&oe(this._icon,s),this._shadow&&oe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Pr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),va)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new va(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Di(this._icon,s),this._shadow&&Di(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var d=this.options.icon.options,y=d.iconSize?At(d.iconSize):At(0,0),N=d.iconAnchor?At(d.iconAnchor):At(0,0);s.panInside(this._latlng,{paddingTopLeft:N,paddingBottomRight:y.subtract(N)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var re=Po.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return je(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),X=re.extend({options:{fill:!0,radius:10},initialize:function(s,d){je(this,d),this._latlng=Le(s),this._radius=this.options.radius},setLatLng:function(s){var d=this._latlng;return this._latlng=Le(s),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var d=s&&s.radius||this._radius;return re.prototype.setStyle.call(this,s),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,d=this._radiusY||s,y=this._clickTolerance(),N=[s+y,d+y];this._pxBounds=new ye(this._point.subtract(N),this._point.add(N))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var yn=X.extend({initialize:function(s,d,y){if("number"==typeof d&&(d=p({},y,{radius:d})),je(this,d),this._latlng=Le(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:re.prototype.setStyle,_project:function(){var s=this._latlng.lng,d=this._latlng.lat,y=this._map,N=y.options.crs;if(N.distance===$e.distance){var K=Math.PI/180,se=this._mRadius/$e.R/K,Be=y.project([d+se,s]),Tt=y.project([d-se,s]),Pt=Be.add(Tt).divideBy(2),pn=y.unproject(Pt).lat,Fn=Math.acos((Math.cos(se*K)-Math.sin(d*K)*Math.sin(pn*K))/(Math.cos(d*K)*Math.cos(pn*K)))/K;(isNaN(Fn)||0===Fn)&&(Fn=se/Math.cos(Math.PI/180*d)),this._point=Pt.subtract(y.getPixelOrigin()),this._radius=isNaN(Fn)?0:Pt.x-y.project([pn,s-Fn]).x,this._radiusY=Pt.y-Be.y}else{var jn=N.unproject(N.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(jn).x}this._updateBounds()}});var li=re.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,d){je(this,d),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var K,se,d=1/0,y=null,N=yo,Be=0,Tt=this._parts.length;Be<Tt;Be++)for(var Pt=this._parts[Be],pn=1,Fn=Pt.length;pn<Fn;pn++){var jn=N(s,K=Pt[pn-1],se=Pt[pn],!0);jn<d&&(d=jn,y=N(s,K,se))}return y&&(y.distance=Math.sqrt(d)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return as(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,d){return d=d||this._defaultShape(),s=Le(s),d.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ie,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ki(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var d=[],y=ki(s),N=0,K=s.length;N<K;N++)y?(d[N]=Le(s[N]),this._bounds.extend(d[N])):d[N]=this._convertLatLngs(s[N]);return d},_project:function(){var s=new ye;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),d=new jt(s,s);this._rawPxBounds&&(this._pxBounds=new ye([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(s,d,y){var se,Be,K=s.length;if(s[0]instanceof _e){for(Be=[],se=0;se<K;se++)Be[se]=this._map.latLngToLayerPoint(s[se]),y.extend(Be[se]);d.push(Be)}else for(se=0;se<K;se++)this._projectLatlngs(s[se],d,y)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var y,N,K,se,Be,Tt,Pt,d=this._parts;for(y=0,K=0,se=this._rings.length;y<se;y++)for(N=0,Be=(Pt=this._rings[y]).length;N<Be-1;N++)(Tt=cs(Pt[N],Pt[N+1],s,N,!0))&&(d[K]=d[K]||[],d[K].push(Tt[0]),(Tt[1]!==Pt[N+1]||N===Be-2)&&(d[K].push(Tt[1]),K++))}},_simplifyPoints:function(){for(var s=this._parts,d=this.options.smoothFactor,y=0,N=s.length;y<N;y++)s[y]=Zo(s[y],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,d){var y,N,K,se,Be,Tt,Pt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(y=0,se=this._parts.length;y<se;y++)for(N=0,K=(Be=(Tt=this._parts[y]).length)-1;N<Be;K=N++)if((d||0!==N)&&bs(s,Tt[K],Tt[N])<=Pt)return!0;return!1}});li._flat=Ds;var ji=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return is(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var d=li.prototype._convertLatLngs.call(this,s),y=d.length;return y>=2&&d[0]instanceof _e&&d[0].equals(d[y-1])&&d.pop(),d},_setLatLngs:function(s){li.prototype._setLatLngs.call(this,s),ki(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ki(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,d=this.options.weight,y=new jt(d,d);if(s=new ye(s.min.subtract(y),s.max.add(y)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var se,N=0,K=this._rings.length;N<K;N++)(se=po(this._rings[N],s,!0)).length&&this._parts.push(se)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var y,N,K,se,Be,Tt,Pt,pn,d=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(se=0,Pt=this._parts.length;se<Pt;se++)for(Be=0,Tt=(pn=(y=this._parts[se]).length)-1;Be<pn;Tt=Be++)(N=y[Be]).y>s.y!=(K=y[Tt]).y>s.y&&s.x<(K.x-N.x)*(s.y-N.y)/(K.y-N.y)+N.x&&(d=!d);return d||li.prototype._containsPoint.call(this,s,!0)}});var so=oo.extend({initialize:function(s,d){je(this,d),this._layers={},s&&this.addData(s)},addData:function(s){var y,N,K,d=ot(s)?s:s.features;if(d){for(y=0,N=d.length;y<N;y++)((K=d[y]).geometries||K.geometry||K.features||K.coordinates)&&this.addData(K);return this}var se=this.options;if(se.filter&&!se.filter(s))return this;var Be=Ao(s,se);return Be?(Be.feature=Gi(s),Be.defaultOptions=Be.options,this.resetStyle(Be),se.onEachFeature&&se.onEachFeature(s,Be),this.addLayer(Be)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=p({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(d){this._setLayerStyle(d,s)},this)},_setLayerStyle:function(s,d){s.setStyle&&("function"==typeof d&&(d=d(s.feature)),s.setStyle(d))}});function Ao(s,d){var Tt,Pt,pn,Fn,y="Feature"===s.type?s.geometry:s,N=y?y.coordinates:null,K=[],se=d&&d.pointToLayer,Be=d&&d.coordsToLatLng||ls;if(!N&&!y)return null;switch(y.type){case"Point":return Hs(se,s,Tt=Be(N),d);case"MultiPoint":for(pn=0,Fn=N.length;pn<Fn;pn++)Tt=Be(N[pn]),K.push(Hs(se,s,Tt,d));return new oo(K);case"LineString":case"MultiLineString":return Pt=Mr(N,"LineString"===y.type?0:1,Be),new li(Pt,d);case"Polygon":case"MultiPolygon":return Pt=Mr(N,"Polygon"===y.type?1:2,Be),new ji(Pt,d);case"GeometryCollection":for(pn=0,Fn=y.geometries.length;pn<Fn;pn++){var jn=Ao({geometry:y.geometries[pn],type:"Feature",properties:s.properties},d);jn&&K.push(jn)}return new oo(K);case"FeatureCollection":for(pn=0,Fn=y.features.length;pn<Fn;pn++){var rn=Ao(y.features[pn],d);rn&&K.push(rn)}return new oo(K);default:throw new Error("Invalid GeoJSON object.")}}function Hs(s,d,y,N){return s?s(d,y):new Z(y,N&&N.markersInheritOptions&&N)}function ls(s){return new _e(s[1],s[0],s[2])}function Mr(s,d,y){for(var Be,N=[],K=0,se=s.length;K<se;K++)Be=d?Mr(s[K],d-1,y):(y||ls)(s[K]),N.push(Be);return N}function si(s,d){return void 0!==(s=Le(s)).alt?[be(s.lng,d),be(s.lat,d),be(s.alt,d)]:[be(s.lng,d),be(s.lat,d)]}function Hi(s,d,y,N){for(var K=[],se=0,Be=s.length;se<Be;se++)K.push(d?Hi(s[se],ki(s[se])?0:d-1,y,N):si(s[se],N));return!d&&y&&K.length>0&&K.push(K[0].slice()),K}function ao(s,d){return s.feature?p({},s.feature,{geometry:d}):Gi(d)}function Gi(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var ds={toGeoJSON:function(s){return ao(this,{type:"Point",coordinates:si(this.getLatLng(),s)})}};function Ns(s,d){return new so(s,d)}Z.include(ds),yn.include(ds),X.include(ds),li.include({toGeoJSON:function(s){var d=!ki(this._latlngs);return ao(this,{type:(d?"Multi":"")+"LineString",coordinates:Hi(this._latlngs,d?1:0,!1,s)})}}),ji.include({toGeoJSON:function(s){var d=!ki(this._latlngs),y=d&&!ki(this._latlngs[0]),N=Hi(this._latlngs,y?2:d?1:0,!0,s);return d||(N=[N]),ao(this,{type:(y?"Multi":"")+"Polygon",coordinates:N})}}),Qo.include({toMultiPoint:function(s){var d=[];return this.eachLayer(function(y){d.push(y.toGeoJSON(s).geometry.coordinates)}),ao(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(s){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===d)return this.toMultiPoint(s);var y="GeometryCollection"===d,N=[];return this.eachLayer(function(K){if(K.toGeoJSON){var se=K.toGeoJSON(s);if(y)N.push(se.geometry);else{var Be=Gi(se);"FeatureCollection"===Be.type?N.push.apply(N,Be.features):N.push(Be)}}}),y?ao(this,{geometries:N,type:"GeometryCollection"}):{type:"FeatureCollection",features:N}}});var Yo=Ns,Ko=Po.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,d,y){this._url=s,this._bounds=te(d),je(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Vi(this._image),this},bringToBack:function(){return this._map&&Ur(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=te(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,d=this._image=s?this._url:ar("img");Pr(d,"leaflet-image-layer"),this._zoomAnimated&&Pr(d,"leaflet-zoom-animated"),this.options.className&&Pr(d,this.options.className),d.onselectstart=Ke,d.onmousemove=Ke,d.onload=le(this.fire,this,"load"),d.onerror=le(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=d.src:(d.src=this._url,d.alt=this.options.alt)},_animateZoom:function(s){var d=this._map.getZoomScale(s.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Io(this._image,y,d)},_reset:function(){var s=this._image,d=new ye(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=d.getSize();oe(s,d.min),s.style.width=y.x+"px",s.style.height=y.y+"px"},_updateOpacity:function(){Di(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ra=Ko.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,d=this._image=s?this._url:ar("video");if(Pr(d,"leaflet-image-layer"),this._zoomAnimated&&Pr(d,"leaflet-zoom-animated"),this.options.className&&Pr(d,this.options.className),d.onselectstart=Ke,d.onmousemove=Ke,d.onloadeddata=le(this.fire,this,"load"),s){for(var y=d.getElementsByTagName("source"),N=[],K=0;K<y.length;K++)N.push(y[K].src);this._url=y.length>0?N:[d.src]}else{ot(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var se=0;se<this._url.length;se++){var Be=ar("source");Be.src=this._url[se],d.appendChild(Be)}}}});var Ba=Ko.extend({_initImage:function(){var s=this._image=this._url;Pr(s,"leaflet-image-layer"),this._zoomAnimated&&Pr(s,"leaflet-zoom-animated"),this.options.className&&Pr(s,this.options.className),s.onselectstart=Ke,s.onmousemove=Ke}});var Xo=Po.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,d){s&&(s instanceof _e||ot(s))?(this._latlng=Le(s),je(this,d)):(je(this,s),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Di(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Di(this._container,1),this.bringToFront(),this.options.interactive&&(Pr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Di(this._container,0),this._removeTimeout=setTimeout(le(Qn,void 0,this._container),200)):Qn(this._container),this.options.interactive&&(gi(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Le(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vi(this._container),this},bringToBack:function(){return this._map&&Ur(this._container),this},_prepareOpen:function(s){var d=this._source;if(!d._map)return!1;if(d instanceof oo){d=null;var y=this._source._layers;for(var N in y)if(y[N]._map){d=y[N];break}if(!d)return!1;this._source=d}if(!s)if(d.getCenter)s=d.getCenter();else if(d.getLatLng)s=d.getLatLng();else{if(!d.getBounds)throw new Error("Unable to get source layer LatLng.");s=d.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,d="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof d)s.innerHTML=d;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),d=At(this.options.offset),y=this._getAnchor();this._zoomAnimated?oe(this._container,s.add(y)):d=d.add(s).add(y);var N=this._containerBottom=-d.y,K=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=N+"px",this._container.style.left=K+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(s,d,y,N){var K=d;return K instanceof s||(K=new s(N).setContent(d)),y&&K.setLatLng(y),K}}),Po.include({_initOverlay:function(s,d,y,N){var K=y;return K instanceof s?(je(K,N),K._source=this):(K=d&&!N?d:new s(N,this)).setContent(y),K}});var Mo=Xo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Xo.prototype.openOn.call(this,s)},onAdd:function(s){Xo.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof re||this._source.on("preclick",hr))},onRemove:function(s){Xo.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof re||this._source.off("preclick",hr))},getEvents:function(){var s=Xo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",d=this._container=ar("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=ar("div",s+"-content-wrapper",d);if(this._contentNode=ar("div",s+"-content",y),wn(d),Yr(this._contentNode),bn(d,"contextmenu",hr),this._tipContainer=ar("div",s+"-tip-container",d),this._tip=ar("div",s+"-tip",this._tipContainer),this.options.closeButton){var N=this._closeButton=ar("a",s+"-close-button",d);N.setAttribute("role","button"),N.setAttribute("aria-label","Close popup"),N.href="#close",N.innerHTML='<span aria-hidden="true">&#215;</span>',bn(N,"click",function(K){Pi(K),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,d=s.style;d.width="",d.whiteSpace="nowrap";var y=s.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),d.width=y+1+"px",d.whiteSpace="",d.height="";var K=this.options.maxHeight,se="leaflet-popup-scrolled";K&&s.offsetHeight>K?(d.height=K+"px",Pr(s,se)):gi(s,se),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),y=this._getAnchor();oe(this._container,d.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,d=parseInt(cr(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+d,N=this._containerWidth,K=new jt(this._containerLeft,-y-this._containerBottom);K._add(Ue(this._container));var se=s.layerPointToContainerPoint(K),Be=At(this.options.autoPanPadding),Tt=At(this.options.autoPanPaddingTopLeft||Be),Pt=At(this.options.autoPanPaddingBottomRight||Be),pn=s.getSize(),Fn=0,jn=0;se.x+N+Pt.x>pn.x&&(Fn=se.x+N-pn.x+Pt.x),se.x-Fn-Tt.x<0&&(Fn=se.x-Tt.x),se.y+y+Pt.y>pn.y&&(jn=se.y+y-pn.y+Pt.y),se.y-jn-Tt.y<0&&(jn=se.y-Tt.y),(Fn||jn)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Fn,jn]))}},_getAnchor:function(){return At(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(s,d,y){return this._initOverlay(Mo,s,d,y).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Po.include({bindPopup:function(s,d){return this._popup=this._initOverlay(Mo,this._popup,s,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof oo||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){ci(s);var d=s.layer||s.target;if(this._popup._source===d&&!(d instanceof re))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=d,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var Ws=Xo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Xo.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Xo.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Xo.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=ar("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+ce(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var d,y,N=this._map,K=this._container,se=N.latLngToContainerPoint(N.getCenter()),Be=N.layerPointToContainerPoint(s),Tt=this.options.direction,Pt=K.offsetWidth,pn=K.offsetHeight,Fn=At(this.options.offset),jn=this._getAnchor();"top"===Tt?(d=Pt/2,y=pn):"bottom"===Tt?(d=Pt/2,y=0):"center"===Tt?(d=Pt/2,y=pn/2):"right"===Tt?(d=0,y=pn/2):"left"===Tt?(d=Pt,y=pn/2):Be.x<se.x?(Tt="right",d=0,y=pn/2):(Tt="left",d=Pt+2*(Fn.x+jn.x),y=pn/2),s=s.subtract(At(d,y,!0)).add(Fn).add(jn),gi(K,"leaflet-tooltip-right"),gi(K,"leaflet-tooltip-left"),gi(K,"leaflet-tooltip-top"),gi(K,"leaflet-tooltip-bottom"),Pr(K,"leaflet-tooltip-"+Tt),oe(K,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Di(this._container,s)},_animateZoom:function(s){var d=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(d)},_getAnchor:function(){return At(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ut.include({openTooltip:function(s,d,y){return this._initOverlay(Ws,s,d,y).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Po.include({bindTooltip:function(s,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ws,this._tooltip,s,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var d=s?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[d](y),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof oo||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&(bn(d,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),bn(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var d="function"==typeof s.getElement&&s.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;return void this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var y,N,d=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(y=this._map.mouseEventToContainerPoint(s.originalEvent),N=this._map.containerPointToLayerPoint(y),d=this._map.layerPointToLatLng(N)),this._tooltip.setLatLng(d)}});var $o=Ms.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var d=s&&"DIV"===s.tagName?s:document.createElement("div"),y=this.options;if(y.html instanceof Element?(Er(d),d.appendChild(y.html)):d.innerHTML=!1!==y.html?y.html:"",y.bgPos){var N=At(y.bgPos);d.style.backgroundPosition=-N.x+"px "+-N.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});Ms.Default=xs;var xo=Po.extend({options:{tileSize:256,opacity:1,updateWhenIdle:qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){je(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Qn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ur(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Me(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof jt?s:new jt(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var se,d=this.getPane().children,y=-s(-1/0,1/0),N=0,K=d.length;N<K;N++)se=d[N].style.zIndex,d[N]!==this._container&&se&&(y=s(y,+se));isFinite(y)&&(this.options.zIndex=y+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!qe.ielt9){Di(this._container,this.options.opacity);var s=+new Date,d=!1,y=!1;for(var N in this._tiles){var K=this._tiles[N];if(K.current&&K.loaded){var se=Math.min(1,(s-K.loaded)/200);Di(K.el,se),se<1?d=!0:(K.active?y=!0:this._onOpaqueTile(K),K.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),d&&(Mt(this._fadeFrame),this._fadeFrame=Qe(this._updateOpacity,this))}},_onOpaqueTile:Ke,_initContainer:function(){this._container||(this._container=ar("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,d=this.options.maxZoom;if(void 0!==s){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===s?(this._levels[y].el.style.zIndex=d-Math.abs(s-y),this._onUpdateLevel(y)):(Qn(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var N=this._levels[s],K=this._map;return N||((N=this._levels[s]={}).el=ar("div","leaflet-tile-container leaflet-zoom-animated",this._container),N.el.style.zIndex=d,N.origin=K.project(K.unproject(K.getPixelOrigin()),s).round(),N.zoom=s,this._setZoomTransform(N,K.getCenter(),K.getZoom()),this._onCreateLevel(N)),this._level=N,N}},_onUpdateLevel:Ke,_onRemoveLevel:Ke,_onCreateLevel:Ke,_pruneTiles:function(){if(this._map){var s,d,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(d=this._tiles[s]).retain=d.current;for(s in this._tiles)if((d=this._tiles[s]).current&&!d.active){var N=d.coords;this._retainParent(N.x,N.y,N.z,N.z-5)||this._retainChildren(N.x,N.y,N.z,N.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var d in this._tiles)this._tiles[d].coords.z===s&&this._removeTile(d)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Qn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,d,y,N){var K=Math.floor(s/2),se=Math.floor(d/2),Be=y-1,Tt=new jt(+K,+se);Tt.z=+Be;var Pt=this._tileCoordsToKey(Tt),pn=this._tiles[Pt];return pn&&pn.active?(pn.retain=!0,!0):(pn&&pn.loaded&&(pn.retain=!0),Be>N&&this._retainParent(K,se,Be,N))},_retainChildren:function(s,d,y,N){for(var K=2*s;K<2*s+2;K++)for(var se=2*d;se<2*d+2;se++){var Be=new jt(K,se);Be.z=y+1;var Tt=this._tileCoordsToKey(Be),Pt=this._tiles[Tt];Pt&&Pt.active?Pt.retain=!0:(Pt&&Pt.loaded&&(Pt.retain=!0),y+1<N&&this._retainChildren(K,se,y+1,N))}},_resetView:function(s){var d=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var d=this.options;return void 0!==d.minNativeZoom&&s<d.minNativeZoom?d.minNativeZoom:void 0!==d.maxNativeZoom&&d.maxNativeZoom<s?d.maxNativeZoom:s},_setView:function(s,d,y,N){var K=Math.round(d);K=void 0!==this.options.maxZoom&&K>this.options.maxZoom||void 0!==this.options.minZoom&&K<this.options.minZoom?void 0:this._clampZoom(K),(!N||this.options.updateWhenZooming&&K!==this._tileZoom)&&(this._tileZoom=K,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==K&&this._update(s),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(s,d)},_setZoomTransforms:function(s,d){for(var y in this._levels)this._setZoomTransform(this._levels[y],s,d)},_setZoomTransform:function(s,d,y){var N=this._map.getZoomScale(y,s.zoom),K=s.origin.multiplyBy(N).subtract(this._map._getNewPixelOrigin(d,y)).round();qe.any3d?Io(s.el,K,N):oe(s.el,K)},_resetGrid:function(){var s=this._map,d=s.options.crs,y=this._tileSize=this.getTileSize(),N=this._tileZoom,K=this._map.getPixelWorldBounds(this._tileZoom);K&&(this._globalTileRange=this._pxBoundsToTileRange(K)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,d.wrapLng[0]],N).x/y.x),Math.ceil(s.project([0,d.wrapLng[1]],N).x/y.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([d.wrapLat[0],0],N).y/y.x),Math.ceil(s.project([d.wrapLat[1],0],N).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var d=this._map,y=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),N=d.getZoomScale(y,this._tileZoom),K=d.project(s,this._tileZoom).floor(),se=d.getSize().divideBy(2*N);return new ye(K.subtract(se),K.add(se))},_update:function(s){var d=this._map;if(d){var y=this._clampZoom(d.getZoom());if(void 0===s&&(s=d.getCenter()),void 0!==this._tileZoom){var N=this._getTiledPixelBounds(s),K=this._pxBoundsToTileRange(N),se=K.getCenter(),Be=[],Tt=this.options.keepBuffer,Pt=new ye(K.getBottomLeft().subtract([Tt,-Tt]),K.getTopRight().add([Tt,-Tt]));if(!(isFinite(K.min.x)&&isFinite(K.min.y)&&isFinite(K.max.x)&&isFinite(K.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pn in this._tiles){var Fn=this._tiles[pn].coords;(Fn.z!==this._tileZoom||!Pt.contains(new jt(Fn.x,Fn.y)))&&(this._tiles[pn].current=!1)}if(Math.abs(y-this._tileZoom)>1)return void this._setView(s,y);for(var jn=K.min.y;jn<=K.max.y;jn++)for(var rn=K.min.x;rn<=K.max.x;rn++){var Kn=new jt(rn,jn);if(Kn.z=this._tileZoom,this._isValidTile(Kn)){var Jr=this._tiles[this._tileCoordsToKey(Kn)];Jr?Jr.current=!0:Be.push(Kn)}}if(Be.sort(function(di,Ji){return di.distanceTo(se)-Ji.distanceTo(se)}),0!==Be.length){this._loading||(this._loading=!0,this.fire("loading"));var Si=document.createDocumentFragment();for(rn=0;rn<Be.length;rn++)this._addTile(Be[rn],Si);this._level.el.appendChild(Si)}}}},_isValidTile:function(s){var d=this._map.options.crs;if(!d.infinite){var y=this._globalTileRange;if(!d.wrapLng&&(s.x<y.min.x||s.x>y.max.x)||!d.wrapLat&&(s.y<y.min.y||s.y>y.max.y))return!1}if(!this.options.bounds)return!0;var N=this._tileCoordsToBounds(s);return te(this.options.bounds).overlaps(N)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var d=this._map,y=this.getTileSize(),N=s.scaleBy(y),K=N.add(y);return[d.unproject(N,s.z),d.unproject(K,s.z)]},_tileCoordsToBounds:function(s){var d=this._tileCoordsToNwSe(s),y=new Ie(d[0],d[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var d=s.split(":"),y=new jt(+d[0],+d[1]);return y.z=+d[2],y},_removeTile:function(s){var d=this._tiles[s];d&&(Qn(d.el),delete this._tiles[s],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Pr(s,"leaflet-tile");var d=this.getTileSize();s.style.width=d.x+"px",s.style.height=d.y+"px",s.onselectstart=Ke,s.onmousemove=Ke,qe.ielt9&&this.options.opacity<1&&Di(s,this.options.opacity)},_addTile:function(s,d){var y=this._getTilePos(s),N=this._tileCoordsToKey(s),K=this.createTile(this._wrapCoords(s),le(this._tileReady,this,s));this._initTile(K),this.createTile.length<2&&Qe(le(this._tileReady,this,s,null,K)),oe(K,y),this._tiles[N]={el:K,coords:s,current:!0},d.appendChild(K),this.fire("tileloadstart",{tile:K,coords:s})},_tileReady:function(s,d,y){d&&this.fire("tileerror",{error:d,tile:y,coords:s});var N=this._tileCoordsToKey(s);(y=this._tiles[N])&&(y.loaded=+new Date,this._map._fadeAnimated?(Di(y.el,0),Mt(this._fadeFrame),this._fadeFrame=Qe(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),d||(Pr(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),qe.ielt9||!this._map._fadeAnimated?Qe(this._pruneTiles,this):setTimeout(le(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var d=new jt(this._wrapX?We(s.x,this._wrapX):s.x,this._wrapY?We(s.y,this._wrapY):s.y);return d.z=s.z,d},_pxBoundsToTileRange:function(s){var d=this.getTileSize();return new ye(s.min.unscaleBy(d).floor(),s.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var _s=xo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,d){this._url=s,(d=je(this,d)).detectRetina&&qe.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),"string"==typeof d.subdomains&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,d){return this._url===s&&void 0===d&&(d=!0),this._url=s,d||this.redraw(),this},createTile:function(s,d){var y=document.createElement("img");return bn(y,"load",le(this._tileOnLoad,this,d,y)),bn(y,"error",le(this._tileOnError,this,d,y)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(y.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(s),y},getTileUrl:function(s){var d={r:qe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-s.y;this.options.tms&&(d.y=y),d["-y"]=y}return vt(this._url,p(d,this.options))},_tileOnLoad:function(s,d){qe.ielt9?setTimeout(le(s,this,null,d),0):s(null,d)},_tileOnError:function(s,d,y){var N=this.options.errorTileUrl;N&&d.getAttribute("src")!==N&&(d.src=N),s(y,d)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var d=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var s,d;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((d=this._tiles[s].el).onload=Ke,d.onerror=Ke,!d.complete)){d.src=Dt;var y=this._tiles[s].coords;Qn(d),delete this._tiles[s],this.fire("tileabort",{tile:d,coords:y})}},_removeTile:function(s){var d=this._tiles[s];if(d)return d.el.setAttribute("src",Dt),xo.prototype._removeTile.call(this,s)},_tileReady:function(s,d,y){if(this._map&&(!y||y.getAttribute("src")!==Dt))return xo.prototype._tileReady.call(this,s,d,y)}});function Hr(s,d){return new _s(s,d)}var Za=_s.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,d){this._url=s;var y=p({},this.defaultWmsParams);for(var N in d)N in this.options||(y[N]=d[N]);var K=(d=je(this,d)).detectRetina&&qe.retina?2:1,se=this.getTileSize();y.width=se.x*K,y.height=se.y*K,this.wmsParams=y},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,_s.prototype.onAdd.call(this,s)},getTileUrl:function(s){var d=this._tileCoordsToNwSe(s),y=this._crs,N=Ce(y.project(d[0]),y.project(d[1])),K=N.min,se=N.max,Be=(this._wmsVersion>=1.3&&this._crs===zs?[K.y,K.x,se.y,se.x]:[K.x,K.y,se.x,se.y]).join(","),Tt=_s.prototype.getTileUrl.call(this,s);return Tt+Ze(this.wmsParams,Tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Be},setParams:function(s,d){return p(this.wmsParams,s),d||this.redraw(),this}});_s.WMS=Za,Hr.wms=function ya(s,d){return new Za(s,d)};var To=Po.extend({options:{padding:.1},initialize:function(s){je(this,s),ce(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,d){var y=this._map.getZoomScale(d,this._zoom),N=this._map.getSize().multiplyBy(.5+this.options.padding),K=this._map.project(this._center,d),se=N.multiplyBy(-y).add(K).subtract(this._map._getNewPixelOrigin(s,d));qe.any3d?Io(this._container,se,y):oe(this._container,se)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,d=this._map.getSize(),y=this._map.containerPointToLayerPoint(d.multiplyBy(-s)).round();this._bounds=new ye(y,y.add(d.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),es=To.extend({options:{tolerance:0},getEvents:function(){var s=To.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){To.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");bn(s,"mousemove",this._onMouseMove,this),bn(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bn(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Mt(this._redrawRequest),delete this._ctx,Qn(this._container),Un(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var d in this._redrawBounds=null,this._layers)this._layers[d]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){To.prototype._update.call(this);var s=this._bounds,d=this._container,y=s.getSize(),N=qe.retina?2:1;oe(d,s.min),d.width=N*y.x,d.height=N*y.y,d.style.width=y.x+"px",d.style.height=y.y+"px",qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){To.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[ce(s)]=s;var d=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var d=s._order,y=d.next,N=d.prev;y?y.prev=N:this._drawLast=N,N?N.next=y:this._drawFirst=y,delete s._order,delete this._layers[ce(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var N,K,d=s.options.dashArray.split(/[, ]+/),y=[];for(K=0;K<d.length;K++){if(N=Number(d[K]),isNaN(N))return;y.push(N)}s.options._dashArray=y}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Qe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var d=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ye,this._redrawBounds.extend(s._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(s._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var d=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,d=this._redrawBounds;if(this._ctx.save(),d){var y=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var N=this._drawFirst;N;N=N.next)s=N.layer,(!d||s._pxBounds&&s._pxBounds.intersects(d))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,d){if(this._drawing){var y,N,K,se,Be=s._parts,Tt=Be.length,Pt=this._ctx;if(Tt){for(Pt.beginPath(),y=0;y<Tt;y++){for(N=0,K=Be[y].length;N<K;N++)Pt[N?"lineTo":"moveTo"]((se=Be[y][N]).x,se.y);d&&Pt.closePath()}this._fillStroke(Pt,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var d=s._point,y=this._ctx,N=Math.max(Math.round(s._radius),1),K=(Math.max(Math.round(s._radiusY),1)||N)/N;1!==K&&(y.save(),y.scale(1,K)),y.beginPath(),y.arc(d.x,d.y/K,N,0,2*Math.PI,!1),1!==K&&y.restore(),this._fillStroke(y,s)}},_fillStroke:function(s,d){var y=d.options;y.fill&&(s.globalAlpha=y.fillOpacity,s.fillStyle=y.fillColor||y.color,s.fill(y.fillRule||"evenodd")),y.stroke&&0!==y.weight&&(s.setLineDash&&s.setLineDash(d.options&&d.options._dashArray||[]),s.globalAlpha=y.opacity,s.lineWidth=y.weight,s.strokeStyle=y.color,s.lineCap=y.lineCap,s.lineJoin=y.lineJoin,s.stroke())},_onClick:function(s){for(var y,N,d=this._map.mouseEventToLayerPoint(s),K=this._drawFirst;K;K=K.next)(y=K.layer).options.interactive&&y._containsPoint(d)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(y))&&(N=y);this._fireEvent(!!N&&[N],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var d=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,d)}},_handleMouseOut:function(s){var d=this._hoveredLayer;d&&(gi(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,d){if(!this._mouseHoverThrottled){for(var y,N,K=this._drawFirst;K;K=K.next)(y=K.layer).options.interactive&&y._containsPoint(d)&&(N=y);N!==this._hoveredLayer&&(this._handleMouseOut(s),N&&(Pr(this._container,"leaflet-interactive"),this._fireEvent([N],s,"mouseover"),this._hoveredLayer=N)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(le(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,d,y){this._map._fireDOMEvent(d,y||d.type,s)},_bringToFront:function(s){var d=s._order;if(d){var y=d.next,N=d.prev;if(!y)return;y.prev=N,N?N.next=y:y&&(this._drawFirst=y),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(s)}},_bringToBack:function(s){var d=s._order;if(d){var y=d.next,N=d.prev;if(!N)return;N.next=y,y?y.prev=N:N&&(this._drawLast=N),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(s)}}});function jo(s){return qe.canvas?new es(s):null}var vs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ca={_initContainer:function(){this._container=ar("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(To.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var d=s._container=vs("shape");Pr(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",s._path=vs("path"),d.appendChild(s._path),this._updateStyle(s),this._layers[ce(s)]=s},_addPath:function(s){var d=s._container;this._container.appendChild(d),s.options.interactive&&s.addInteractiveTarget(d)},_removePath:function(s){var d=s._container;Qn(d),s.removeInteractiveTarget(d),delete this._layers[ce(s)]},_updateStyle:function(s){var d=s._stroke,y=s._fill,N=s.options,K=s._container;K.stroked=!!N.stroke,K.filled=!!N.fill,N.stroke?(d||(d=s._stroke=vs("stroke")),K.appendChild(d),d.weight=N.weight+"px",d.color=N.color,d.opacity=N.opacity,d.dashStyle=N.dashArray?ot(N.dashArray)?N.dashArray.join(" "):N.dashArray.replace(/( *, *)/g," "):"",d.endcap=N.lineCap.replace("butt","flat"),d.joinstyle=N.lineJoin):d&&(K.removeChild(d),s._stroke=null),N.fill?(y||(y=s._fill=vs("fill")),K.appendChild(y),y.color=N.fillColor||N.color,y.opacity=N.fillOpacity):y&&(K.removeChild(y),s._fill=null)},_updateCircle:function(s){var d=s._point.round(),y=Math.round(s._radius),N=Math.round(s._radiusY||y);this._setPath(s,s._empty()?"M0 0":"AL "+d.x+","+d.y+" "+y+","+N+" 0,23592600")},_setPath:function(s,d){s._path.v=d},_bringToFront:function(s){Vi(s._container)},_bringToBack:function(s){Ur(s._container)}},Ks=qe.vml?vs:Gn,Xs=To.extend({_initContainer:function(){this._container=Ks("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ks("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qn(this._container),Un(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){To.prototype._update.call(this);var s=this._bounds,d=s.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,y.setAttribute("width",d.x),y.setAttribute("height",d.y)),oe(y,s.min),y.setAttribute("viewBox",[s.min.x,s.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(s){var d=s._path=Ks("path");s.options.className&&Pr(d,s.options.className),s.options.interactive&&Pr(d,"leaflet-interactive"),this._updateStyle(s),this._layers[ce(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Qn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[ce(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var d=s._path,y=s.options;d&&(y.stroke?(d.setAttribute("stroke",y.color),d.setAttribute("stroke-opacity",y.opacity),d.setAttribute("stroke-width",y.weight),d.setAttribute("stroke-linecap",y.lineCap),d.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?d.setAttribute("stroke-dasharray",y.dashArray):d.removeAttribute("stroke-dasharray"),y.dashOffset?d.setAttribute("stroke-dashoffset",y.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),y.fill?(d.setAttribute("fill",y.fillColor||y.color),d.setAttribute("fill-opacity",y.fillOpacity),d.setAttribute("fill-rule",y.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(s,d){this._setPath(s,ir(s._parts,d))},_updateCircle:function(s){var d=s._point,y=Math.max(Math.round(s._radius),1),K="a"+y+","+(Math.max(Math.round(s._radiusY),1)||y)+" 0 1,0 ",se=s._empty()?"M0 0":"M"+(d.x-y)+","+d.y+K+2*y+",0 "+K+2*-y+",0 ";this._setPath(s,se)},_setPath:function(s,d){s._path.setAttribute("d",d)},_bringToFront:function(s){Vi(s._path)},_bringToBack:function(s){Ur(s._path)}});function ts(s){return qe.svg||qe.vml?new Xs(s):null}qe.vml&&Xs.include(Ca),Ut.include({getRenderer:function(s){var d=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var d=this._paneRenderers[s];return void 0===d&&(d=this._createRenderer({pane:s}),this._paneRenderers[s]=d),d},_createRenderer:function(s){return this.options.preferCanvas&&jo(s)||ts(s)}});var C=ji.extend({initialize:function(s,d){ji.prototype.initialize.call(this,this._boundsToLatLngs(s),d)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=te(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});Xs.create=Ks,Xs.pointsToPath=ir,so.geometryToLayer=Ao,so.coordsToLatLng=ls,so.coordsToLatLngs=Mr,so.latLngToCoords=si,so.latLngsToCoords=Hi,so.getFeature=ao,so.asFeature=Gi,Ut.mergeOptions({boxZoom:!0});var W=bi.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){bn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Un(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),xt(),Hn(),this._startPoint=this._map.mouseEventToContainerPoint(s),bn(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ar("div","leaflet-zoom-box",this._container),Pr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var d=new ye(this._point,this._startPoint),y=d.getSize();oe(this._box,d.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(Qn(this._box),gi(this._container,"leaflet-crosshair")),It(),st(),Un(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(le(this._resetState,this),0);var d=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",W),Ut.mergeOptions({doubleClickZoom:!0});var A=bi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var d=this._map,y=d.getZoom(),N=d.options.zoomDelta,K=s.originalEvent.shiftKey?y-N:y+N;"center"===d.options.doubleClickZoom?d.setZoom(K):d.setZoomAround(s.containerPoint,K)}});Ut.addInitHook("addHandler","doubleClickZoom",A),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var H=bi.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Yi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Pr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gi(this._map._container,"leaflet-grab"),gi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=te(this._map.options.maxBounds);this._offsetLimit=Ce(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var d=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(d),this._prunePositions(d)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,d){return s-(s-d)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;s.x<d.min.x&&(s.x=this._viscousLimit(s.x,d.min.x)),s.y<d.min.y&&(s.y=this._viscousLimit(s.y,d.min.y)),s.x>d.max.x&&(s.x=this._viscousLimit(s.x,d.max.x)),s.y>d.max.y&&(s.y=this._viscousLimit(s.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,d=Math.round(s/2),y=this._initialWorldOffset,N=this._draggable._newPos.x,K=(N-d+y)%s+d-y,se=(N+d+y)%s-d-y,Be=Math.abs(K+y)<Math.abs(se+y)?K:se;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Be},_onDragEnd:function(s){var d=this._map,y=d.options,N=!y.inertia||s.noInertia||this._times.length<2;if(d.fire("dragend",s),N)d.fire("moveend");else{this._prunePositions(+new Date);var K=this._lastPos.subtract(this._positions[0]),Be=y.easeLinearity,Tt=K.multiplyBy(Be/((this._lastTime-this._times[0])/1e3)),Pt=Tt.distanceTo([0,0]),pn=Math.min(y.inertiaMaxSpeed,Pt),Fn=Tt.multiplyBy(pn/Pt),jn=pn/(y.inertiaDeceleration*Be),rn=Fn.multiplyBy(-jn/2).round();rn.x||rn.y?(rn=d._limitOffset(rn,d.options.maxBounds),Qe(function(){d.panBy(rn,{duration:jn,easeLinearity:Be,noMoveStart:!0,animate:!0})})):d.fire("moveend")}}});Ut.addInitHook("addHandler","dragging",H),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var de=bi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),bn(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Un(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,d=document.documentElement,y=s.scrollTop||d.scrollTop,N=s.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(N,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var N,K,d=this._panKeys={},y=this.keyCodes;for(N=0,K=y.left.length;N<K;N++)d[y.left[N]]=[-1*s,0];for(N=0,K=y.right.length;N<K;N++)d[y.right[N]]=[s,0];for(N=0,K=y.down.length;N<K;N++)d[y.down[N]]=[0,s];for(N=0,K=y.up.length;N<K;N++)d[y.up[N]]=[0,-1*s]},_setZoomDelta:function(s){var N,K,d=this._zoomKeys={},y=this.keyCodes;for(N=0,K=y.zoomIn.length;N<K;N++)d[y.zoomIn[N]]=s;for(N=0,K=y.zoomOut.length;N<K;N++)d[y.zoomOut[N]]=-s},_addHooks:function(){bn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Un(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var N,d=s.keyCode,y=this._map;if(d in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(N=this._panKeys[d],s.shiftKey&&(N=At(N).multiplyBy(3)),y.options.maxBounds&&(N=y._limitOffset(At(N),y.options.maxBounds)),y.options.worldCopyJump){var K=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(N)));y.panTo(K)}else y.panBy(N)}else if(d in this._zoomKeys)y.setZoom(y.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[d]);else{if(27!==d||!y._popup||!y._popup.options.closeOnEscapeKey)return;y.closePopup()}ci(s)}}});Ut.addInitHook("addHandler","keyboard",de),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var b=bi.extend({addHooks:function(){bn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Un(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var d=ke(s),y=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var N=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(le(this._performZoom,this),N),ci(s)},_performZoom:function(){var s=this._map,d=s.getZoom(),y=this._map.options.zoomSnap||0;s._stop();var K=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,se=y?Math.ceil(K/y)*y:K,Be=s._limitZoom(d+(this._delta>0?se:-se))-d;this._delta=0,this._startTime=null,Be&&("center"===s.options.scrollWheelZoom?s.setZoom(d+Be):s.setZoomAround(this._lastMousePos,d+Be))}});Ut.addInitHook("addHandler","scrollWheelZoom",b);Ut.mergeOptions({tapHold:qe.touchNative&&qe.safari&&qe.mobile,tapTolerance:15});var pe=bi.extend({addHooks:function(){bn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Un(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var d=s.touches[0];this._startPos=this._newPos=new jt(d.clientX,d.clientY),this._holdTimeout=setTimeout(le(function(){this._cancel(),this._isTapValid()&&(bn(document,"touchend",Pi),bn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),600),bn(document,"touchend touchcancel contextmenu",this._cancel,this),bn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Un(document,"touchend",Pi),Un(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Un(document,"touchend touchcancel contextmenu",this._cancel,this),Un(document,"touchmove",this._onMove,this)},_onMove:function(s){var d=s.touches[0];this._newPos=new jt(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,d){var y=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});y._simulated=!0,d.target.dispatchEvent(y)}});Ut.addInitHook("addHandler","tapHold",pe),Ut.mergeOptions({touchZoom:qe.touch,bounceAtZoomLimits:!0});var $=bi.extend({addHooks:function(){Pr(this._map._container,"leaflet-touch-zoom"),bn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gi(this._map._container,"leaflet-touch-zoom"),Un(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var d=this._map;if(s.touches&&2===s.touches.length&&!d._animatingZoom&&!this._zooming){var y=d.mouseEventToContainerPoint(s.touches[0]),N=d.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),"center"!==d.options.touchZoom&&(this._pinchStartLatLng=d.containerPointToLatLng(y.add(N)._divideBy(2))),this._startDist=y.distanceTo(N),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),bn(document,"touchmove",this._onTouchMove,this),bn(document,"touchend touchcancel",this._onTouchEnd,this),Pi(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var d=this._map,y=d.mouseEventToContainerPoint(s.touches[0]),N=d.mouseEventToContainerPoint(s.touches[1]),K=y.distanceTo(N)/this._startDist;if(this._zoom=d.getScaleZoom(K,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&K<1||this._zoom>d.getMaxZoom()&&K>1)&&(this._zoom=d._limitZoom(this._zoom)),"center"===d.options.touchZoom){if(this._center=this._startLatLng,1===K)return}else{var se=y._add(N)._divideBy(2)._subtract(this._centerPoint);if(1===K&&0===se.x&&0===se.y)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(se),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),Mt(this._animRequest);var Be=le(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Qe(Be,this,!0),Pi(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Mt(this._animRequest),Un(document,"touchmove",this._onTouchMove,this),Un(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ut.addInitHook("addHandler","touchZoom",$),Ut.BoxZoom=W,Ut.DoubleClickZoom=A,Ut.Drag=H,Ut.Keyboard=de,Ut.ScrollWheelZoom=b,Ut.TapHold=pe,Ut.TouchZoom=$,k.Bounds=ye,k.Browser=qe,k.CRS=He,k.Canvas=es,k.Circle=yn,k.CircleMarker=X,k.Class=Re,k.Control=Yt,k.DivIcon=$o,k.DivOverlay=Xo,k.DomEvent=pt,k.DomUtil=Ti,k.Draggable=Yi,k.Evented=Cn,k.FeatureGroup=oo,k.GeoJSON=so,k.GridLayer=xo,k.Handler=bi,k.Icon=Ms,k.ImageOverlay=Ko,k.LatLng=_e,k.LatLngBounds=Ie,k.Layer=Po,k.LayerGroup=Qo,k.LineUtil=gr,k.Map=Ut,k.Marker=Z,k.Mixin=fo,k.Path=re,k.Point=jt,k.PolyUtil=Eo,k.Polygon=ji,k.Polyline=li,k.Popup=Mo,k.PosAnimation=it,k.Projection=Rs,k.Rectangle=C,k.Renderer=To,k.SVG=Xs,k.SVGOverlay=Ba,k.TileLayer=_s,k.Tooltip=Ws,k.Transformation=Kt,k.Util=Gt,k.VideoOverlay=ra,k.bind=le,k.bounds=Ce,k.canvas=jo,k.circle=function _r(s,d,y){return new yn(s,d,y)},k.circleMarker=function ve(s,d){return new X(s,d)},k.control=un,k.divIcon=function Ta(s){return new $o(s)},k.extend=p,k.featureGroup=function(s,d){return new oo(s,d)},k.geoJSON=Ns,k.geoJson=Yo,k.gridLayer=function cl(s){return new xo(s)},k.icon=function Wo(s){return new Ms(s)},k.imageOverlay=function(s,d,y){return new Ko(s,d,y)},k.latLng=Le,k.latLngBounds=te,k.layerGroup=function(s,d){return new Qo(s,d)},k.map=function Rt(s,d){return new Ut(s,d)},k.marker=function V(s,d){return new Z(s,d)},k.point=At,k.polygon=function go(s,d){return new ji(s,d)},k.polyline=function zi(s,d){return new li(s,d)},k.popup=function(s,d){return new Mo(s,d)},k.rectangle=function O(s,d){return new C(s,d)},k.setOptions=je,k.stamp=ce,k.svg=ts,k.svgOverlay=function Jo(s,d,y){return new Ba(s,d,y)},k.tileLayer=Hr,k.tooltip=function(s,d){return new Ws(s,d)},k.transformation=$n,k.version="1.9.4",k.videoOverlay=function Ua(s,d,y){return new ra(s,d,y)};var ne=window.L;k.noConflict=function(){return window.L=ne,this},window.L=k}(wt)},4412:(Nn,wt,k)=>{"use strict";k.d(wt,{t:()=>p});var h=k(1413);class p extends h.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const Se=super._subscribe(le);return!Se.closed&&le.next(this._value),Se}getValue(){const{hasError:le,thrownError:Se,_value:ce}=this;if(le)throw Se;return this._throwIfClosed(),ce}next(le){super.next(this._value=le)}}},1985:(Nn,wt,k)=>{"use strict";k.d(wt,{c:()=>We});var h=k(7707),p=k(8359),Ee=k(3494),le=k(1203),Se=k(1026),ce=k(8071),Me=k(9786);let We=(()=>{class Ge{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const gt=new Ge;return gt.source=this,gt.operator=Ze,gt}subscribe(Ze,gt,vt){const ot=function me(Ge){return Ge&&Ge instanceof h.vU||function be(Ge){return Ge&&(0,ce.T)(Ge.next)&&(0,ce.T)(Ge.error)&&(0,ce.T)(Ge.complete)}(Ge)&&(0,p.Uv)(Ge)}(Ze)?Ze:new h.Ms(Ze,gt,vt);return(0,Me.Y)(()=>{const{operator:ft,source:Dt}=this;ot.add(ft?ft.call(ot,Dt):Dt?this._subscribe(ot):this._trySubscribe(ot))}),ot}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(gt){Ze.error(gt)}}forEach(Ze,gt){return new(gt=Ke(gt))((vt,ot)=>{const ft=new h.Ms({next:Dt=>{try{Ze(Dt)}catch(yt){ot(yt),ft.unsubscribe()}},error:ot,complete:vt});this.subscribe(ft)})}_subscribe(Ze){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(Ze)}[Ee.s](){return this}pipe(...Ze){return(0,le.m)(Ze)(this)}toPromise(Ze){return new(Ze=Ke(Ze))((gt,vt)=>{let ot;this.subscribe(ft=>ot=ft,ft=>vt(ft),()=>gt(ot))})}}return Ge.create=je=>new Ge(je),Ge})();function Ke(Ge){var je;return null!==(je=null!=Ge?Ge:Se.$.Promise)&&void 0!==je?je:Promise}},1413:(Nn,wt,k)=>{"use strict";k.d(wt,{B:()=>Me});var h=k(1985),p=k(8359);const le=(0,k(1853).L)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=k(7908),ce=k(9786);let Me=(()=>{class Ke extends h.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Ge=new We(this,this);return Ge.operator=me,Ge}_throwIfClosed(){if(this.closed)throw new le}next(me){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ge of this.currentObservers)Ge.next(me)}})}error(me){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Ge}=this;for(;Ge.length;)Ge.shift().error(me)}})}complete(){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Ge,isStopped:je,observers:Ze}=this;return Ge||je?p.Kn:(this.currentObservers=null,Ze.push(me),new p.yU(()=>{this.currentObservers=null,(0,Se.o)(Ze,me)}))}_checkFinalizedStatuses(me){const{hasError:Ge,thrownError:je,isStopped:Ze}=this;Ge?me.error(je):Ze&&me.complete()}asObservable(){const me=new h.c;return me.source=this,me}}return Ke.create=(be,me)=>new We(be,me),Ke})();class We extends Me{constructor(be,me){super(),this.destination=be,this.source=me}next(be){var me,Ge;null===(Ge=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Ge||Ge.call(me,be)}error(be){var me,Ge;null===(Ge=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Ge||Ge.call(me,be)}complete(){var be,me;null===(me=null===(be=this.destination)||void 0===be?void 0:be.complete)||void 0===me||me.call(be)}_subscribe(be){var me,Ge;return null!==(Ge=null===(me=this.source)||void 0===me?void 0:me.subscribe(be))&&void 0!==Ge?Ge:p.Kn}}},7707:(Nn,wt,k)=>{"use strict";k.d(wt,{Ms:()=>vt,vU:()=>Ge});var h=k(8071),p=k(8359),Ee=k(1026),le=k(5334),Se=k(5343);const ce=Ke("C",void 0,void 0);function Ke(Ae,Te,Oe){return{kind:Ae,value:Te,error:Oe}}var be=k(9270),me=k(9786);class Ge extends p.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,p.Uv)(Te)&&Te.add(this)):this.destination=yt}static create(Te,Oe,at){return new vt(Te,Oe,at)}next(Te){this.isStopped?Dt(function We(Ae){return Ke("N",Ae,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Dt(function Me(Ae){return Ke("E",void 0,Ae)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Dt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ze(Ae,Te){return je.call(Ae,Te)}class gt{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Te)}catch(at){ot(at)}}error(Te){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Te)}catch(at){ot(at)}else ot(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Oe){ot(Oe)}}}class vt extends Ge{constructor(Te,Oe,at){let Qe;if(super(),(0,h.T)(Te)||!Te)Qe={next:null!=Te?Te:void 0,error:null!=Oe?Oe:void 0,complete:null!=at?at:void 0};else{let Mt;this&&Ee.$.useDeprecatedNextContext?(Mt=Object.create(Te),Mt.unsubscribe=()=>this.unsubscribe(),Qe={next:Te.next&&Ze(Te.next,Mt),error:Te.error&&Ze(Te.error,Mt),complete:Te.complete&&Ze(Te.complete,Mt)}):Qe=Te}this.destination=new gt(Qe)}}function ot(Ae){Ee.$.useDeprecatedSynchronousErrorHandling?(0,me.l)(Ae):(0,le.m)(Ae)}function Dt(Ae,Te){const{onStoppedNotification:Oe}=Ee.$;Oe&&be.f.setTimeout(()=>Oe(Ae,Te))}const yt={closed:!0,next:Se.l,error:function ft(Ae){throw Ae},complete:Se.l}},8359:(Nn,wt,k)=>{"use strict";k.d(wt,{Kn:()=>ce,yU:()=>Se,Uv:()=>Me});var h=k(8071);const Ee=(0,k(1853).L)(Ke=>function(me){Ke(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Ge,je)=>`${je+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var le=k(7908);class Se{constructor(be){this.initialTeardown=be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let be;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Ze of me)Ze.remove(this);else me.remove(this);const{initialTeardown:Ge}=this;if((0,h.T)(Ge))try{Ge()}catch(Ze){be=Ze instanceof Ee?Ze.errors:[Ze]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ze of je)try{We(Ze)}catch(gt){be=null!=be?be:[],gt instanceof Ee?be=[...be,...gt.errors]:be.push(gt)}}if(be)throw new Ee(be)}}add(be){var me;if(be&&be!==this)if(this.closed)We(be);else{if(be instanceof Se){if(be.closed||be._hasParent(this))return;be._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(be)}}_hasParent(be){const{_parentage:me}=this;return me===be||Array.isArray(me)&&me.includes(be)}_addParent(be){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(be),me):me?[me,be]:be}_removeParent(be){const{_parentage:me}=this;me===be?this._parentage=null:Array.isArray(me)&&(0,le.o)(me,be)}remove(be){const{_finalizers:me}=this;me&&(0,le.o)(me,be),be instanceof Se&&be._removeParent(this)}}Se.EMPTY=(()=>{const Ke=new Se;return Ke.closed=!0,Ke})();const ce=Se.EMPTY;function Me(Ke){return Ke instanceof Se||Ke&&"closed"in Ke&&(0,h.T)(Ke.remove)&&(0,h.T)(Ke.add)&&(0,h.T)(Ke.unsubscribe)}function We(Ke){(0,h.T)(Ke)?Ke():Ke.unsubscribe()}},1026:(Nn,wt,k)=>{"use strict";k.d(wt,{$:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Nn,wt,k)=>{"use strict";k.d(wt,{z:()=>be});var h=k(1985),p=k(3073),Ee=k(8455),le=k(3669),Se=k(6450),ce=k(3794),Me=k(8496),We=k(4360),Ke=k(5225);function be(...je){const Ze=(0,ce.lI)(je),gt=(0,ce.ms)(je),{args:vt,keys:ot}=(0,p.D)(je);if(0===vt.length)return(0,Ee.H)([],Ze);const ft=new h.c(function me(je,Ze,gt=le.D){return vt=>{Ge(Ze,()=>{const{length:ot}=je,ft=new Array(ot);let Dt=ot,yt=ot;for(let Ae=0;Ae<ot;Ae++)Ge(Ze,()=>{const Te=(0,Ee.H)(je[Ae],Ze);let Oe=!1;Te.subscribe((0,We._)(vt,at=>{ft[Ae]=at,Oe||(Oe=!0,yt--),yt||vt.next(gt(ft.slice()))},()=>{--Dt||vt.complete()}))},vt)},vt)}}(vt,Ze,ot?Dt=>(0,Me.e)(ot,Dt):le.D));return gt?ft.pipe((0,Se.I)(gt)):ft}function Ge(je,Ze,gt){je?(0,Ke.N)(gt,je,Ze):Ze()}},8793:(Nn,wt,k)=>{"use strict";k.d(wt,{x:()=>Se});var h=k(6365),Ee=k(3794),le=k(8455);function Se(...ce){return function p(){return(0,h.U)(1)}()((0,le.H)(ce,(0,Ee.lI)(ce)))}},983:(Nn,wt,k)=>{"use strict";k.d(wt,{w:()=>p});const p=new(k(1985).c)(Se=>Se.complete())},8455:(Nn,wt,k)=>{"use strict";k.d(wt,{H:()=>Te});var h=k(8750),p=k(941),Ee=k(6745),ce=k(1985),We=k(4761),Ke=k(8071),be=k(5225);function Ge(Oe,at){if(!Oe)throw new Error("Iterable cannot be null");return new ce.c(Qe=>{(0,be.N)(Qe,at,()=>{const Mt=Oe[Symbol.asyncIterator]();(0,be.N)(Qe,at,()=>{Mt.next().then(Gt=>{Gt.done?Qe.complete():Qe.next(Gt.value)})},0,!0)})})}var je=k(5055),Ze=k(9858),gt=k(7441),vt=k(5397),ot=k(7953),ft=k(591),Dt=k(5196);function Te(Oe,at){return at?function Ae(Oe,at){if(null!=Oe){if((0,je.l)(Oe))return function le(Oe,at){return(0,h.Tg)(Oe).pipe((0,Ee._)(at),(0,p.Q)(at))}(Oe,at);if((0,gt.X)(Oe))return function Me(Oe,at){return new ce.c(Qe=>{let Mt=0;return at.schedule(function(){Mt===Oe.length?Qe.complete():(Qe.next(Oe[Mt++]),Qe.closed||this.schedule())})})}(Oe,at);if((0,Ze.y)(Oe))return function Se(Oe,at){return(0,h.Tg)(Oe).pipe((0,Ee._)(at),(0,p.Q)(at))}(Oe,at);if((0,ot.T)(Oe))return Ge(Oe,at);if((0,vt.x)(Oe))return function me(Oe,at){return new ce.c(Qe=>{let Mt;return(0,be.N)(Qe,at,()=>{Mt=Oe[We.l](),(0,be.N)(Qe,at,()=>{let Gt,Re;try{({value:Gt,done:Re}=Mt.next())}catch(tn){return void Qe.error(tn)}Re?Qe.complete():Qe.next(Gt)},0,!0)}),()=>(0,Ke.T)(null==Mt?void 0:Mt.return)&&Mt.return()})}(Oe,at);if((0,Dt.U)(Oe))return function yt(Oe,at){return Ge((0,Dt.C)(Oe),at)}(Oe,at)}throw(0,ft.L)(Oe)}(Oe,at):(0,h.Tg)(Oe)}},8750:(Nn,wt,k)=>{"use strict";k.d(wt,{Tg:()=>je});var h=k(1635),p=k(7441),Ee=k(9858),le=k(1985),Se=k(5055),ce=k(7953),Me=k(591),We=k(5397),Ke=k(5196),be=k(8071),me=k(5334),Ge=k(3494);function je(Ae){if(Ae instanceof le.c)return Ae;if(null!=Ae){if((0,Se.l)(Ae))return function Ze(Ae){return new le.c(Te=>{const Oe=Ae[Ge.s]();if((0,be.T)(Oe.subscribe))return Oe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,p.X)(Ae))return function gt(Ae){return new le.c(Te=>{for(let Oe=0;Oe<Ae.length&&!Te.closed;Oe++)Te.next(Ae[Oe]);Te.complete()})}(Ae);if((0,Ee.y)(Ae))return function vt(Ae){return new le.c(Te=>{Ae.then(Oe=>{Te.closed||(Te.next(Oe),Te.complete())},Oe=>Te.error(Oe)).then(null,me.m)})}(Ae);if((0,ce.T)(Ae))return ft(Ae);if((0,We.x)(Ae))return function ot(Ae){return new le.c(Te=>{for(const Oe of Ae)if(Te.next(Oe),Te.closed)return;Te.complete()})}(Ae);if((0,Ke.U)(Ae))return function Dt(Ae){return ft((0,Ke.C)(Ae))}(Ae)}throw(0,Me.L)(Ae)}function ft(Ae){return new le.c(Te=>{(function yt(Ae,Te){var Oe,at,Qe,Mt;return(0,h.sH)(this,void 0,void 0,function*(){try{for(Oe=(0,h.xN)(Ae);!(at=yield Oe.next()).done;)if(Te.next(at.value),Te.closed)return}catch(Gt){Qe={error:Gt}}finally{try{at&&!at.done&&(Mt=Oe.return)&&(yield Mt.call(Oe))}finally{if(Qe)throw Qe.error}}Te.complete()})})(Ae,Te).catch(Oe=>Te.error(Oe))})}},7673:(Nn,wt,k)=>{"use strict";k.d(wt,{of:()=>Ee});var h=k(3794),p=k(8455);function Ee(...le){const Se=(0,h.lI)(le);return(0,p.H)(le,Se)}},4360:(Nn,wt,k)=>{"use strict";k.d(wt,{_:()=>p});var h=k(7707);function p(le,Se,ce,Me,We){return new Ee(le,Se,ce,Me,We)}class Ee extends h.vU{constructor(Se,ce,Me,We,Ke,be){super(Se),this.onFinalize=Ke,this.shouldUnsubscribe=be,this._next=ce?function(me){try{ce(me)}catch(Ge){Se.error(Ge)}}:super._next,this._error=We?function(me){try{We(me)}catch(Ge){Se.error(Ge)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(me){Se.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},274:(Nn,wt,k)=>{"use strict";k.d(wt,{H:()=>Ee});var h=k(1397),p=k(8071);function Ee(le,Se){return(0,p.T)(Se)?(0,h.Z)(le,Se,1):(0,h.Z)(le,1)}},9901:(Nn,wt,k)=>{"use strict";k.d(wt,{U:()=>Ee});var h=k(9974),p=k(4360);function Ee(le){return(0,h.N)((Se,ce)=>{let Me=!1;Se.subscribe((0,p._)(ce,We=>{Me=!0,ce.next(We)},()=>{Me||ce.next(le),ce.complete()}))})}},3294:(Nn,wt,k)=>{"use strict";k.d(wt,{F:()=>le});var h=k(3669),p=k(9974),Ee=k(4360);function le(ce,Me=h.D){return ce=null!=ce?ce:Se,(0,p.N)((We,Ke)=>{let be,me=!0;We.subscribe((0,Ee._)(Ke,Ge=>{const je=Me(Ge);(me||!ce(be,je))&&(me=!1,be=je,Ke.next(Ge))}))})}function Se(ce,Me){return ce===Me}},5964:(Nn,wt,k)=>{"use strict";k.d(wt,{p:()=>Ee});var h=k(9974),p=k(4360);function Ee(le,Se){return(0,h.N)((ce,Me)=>{let We=0;ce.subscribe((0,p._)(Me,Ke=>le.call(Se,Ke,We++)&&Me.next(Ke)))})}},980:(Nn,wt,k)=>{"use strict";k.d(wt,{j:()=>p});var h=k(9974);function p(Ee){return(0,h.N)((le,Se)=>{try{le.subscribe(Se)}finally{Se.add(Ee)}})}},1594:(Nn,wt,k)=>{"use strict";k.d(wt,{$:()=>Me});var h=k(9350),p=k(5964),Ee=k(6697),le=k(9901),Se=k(3774),ce=k(3669);function Me(We,Ke){const be=arguments.length>=2;return me=>me.pipe(We?(0,p.p)((Ge,je)=>We(Ge,je,me)):ce.D,(0,Ee.s)(1),be?(0,le.U)(Ke):(0,Se.v)(()=>new h.G))}},6354:(Nn,wt,k)=>{"use strict";k.d(wt,{T:()=>Ee});var h=k(9974),p=k(4360);function Ee(le,Se){return(0,h.N)((ce,Me)=>{let We=0;ce.subscribe((0,p._)(Me,Ke=>{Me.next(le.call(Se,Ke,We++))}))})}},6365:(Nn,wt,k)=>{"use strict";k.d(wt,{U:()=>Ee});var h=k(1397),p=k(3669);function Ee(le=1/0){return(0,h.Z)(p.D,le)}},1397:(Nn,wt,k)=>{"use strict";k.d(wt,{Z:()=>We});var h=k(6354),p=k(8750),Ee=k(9974),le=k(5225),Se=k(4360),Me=k(8071);function We(Ke,be,me=1/0){return(0,Me.T)(be)?We((Ge,je)=>(0,h.T)((Ze,gt)=>be(Ge,Ze,je,gt))((0,p.Tg)(Ke(Ge,je))),me):("number"==typeof be&&(me=be),(0,Ee.N)((Ge,je)=>function ce(Ke,be,me,Ge,je,Ze,gt,vt){const ot=[];let ft=0,Dt=0,yt=!1;const Ae=()=>{yt&&!ot.length&&!ft&&be.complete()},Te=at=>ft<Ge?Oe(at):ot.push(at),Oe=at=>{Ze&&be.next(at),ft++;let Qe=!1;(0,p.Tg)(me(at,Dt++)).subscribe((0,Se._)(be,Mt=>{null==je||je(Mt),Ze?Te(Mt):be.next(Mt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ft--;ot.length&&ft<Ge;){const Mt=ot.shift();gt?(0,le.N)(be,gt,()=>Oe(Mt)):Oe(Mt)}Ae()}catch(Mt){be.error(Mt)}}))};return Ke.subscribe((0,Se._)(be,Te,()=>{yt=!0,Ae()})),()=>{null==vt||vt()}}(Ge,je,Ke,me)))}},941:(Nn,wt,k)=>{"use strict";k.d(wt,{Q:()=>le});var h=k(5225),p=k(9974),Ee=k(4360);function le(Se,ce=0){return(0,p.N)((Me,We)=>{Me.subscribe((0,Ee._)(We,Ke=>(0,h.N)(We,Se,()=>We.next(Ke),ce),()=>(0,h.N)(We,Se,()=>We.complete(),ce),Ke=>(0,h.N)(We,Se,()=>We.error(Ke),ce)))})}},2816:(Nn,wt,k)=>{"use strict";k.d(wt,{S:()=>le});var h=k(9974),p=k(4360);function le(Se,ce){return(0,h.N)(function Ee(Se,ce,Me,We,Ke){return(be,me)=>{let Ge=Me,je=ce,Ze=0;be.subscribe((0,p._)(me,gt=>{const vt=Ze++;je=Ge?Se(je,gt,vt):(Ge=!0,gt),We&&me.next(je)},Ke&&(()=>{Ge&&me.next(je),me.complete()})))}}(Se,ce,arguments.length>=2,!0))}},9172:(Nn,wt,k)=>{"use strict";k.d(wt,{Z:()=>le});var h=k(8793),p=k(3794),Ee=k(9974);function le(...Se){const ce=(0,p.lI)(Se);return(0,Ee.N)((Me,We)=>{(ce?(0,h.x)(Se,Me,ce):(0,h.x)(Se,Me)).subscribe(We)})}},6745:(Nn,wt,k)=>{"use strict";k.d(wt,{_:()=>p});var h=k(9974);function p(Ee,le=0){return(0,h.N)((Se,ce)=>{ce.add(Ee.schedule(()=>Se.subscribe(ce),le))})}},5558:(Nn,wt,k)=>{"use strict";k.d(wt,{n:()=>le});var h=k(8750),p=k(9974),Ee=k(4360);function le(Se,ce){return(0,p.N)((Me,We)=>{let Ke=null,be=0,me=!1;const Ge=()=>me&&!Ke&&We.complete();Me.subscribe((0,Ee._)(We,je=>{null==Ke||Ke.unsubscribe();let Ze=0;const gt=be++;(0,h.Tg)(Se(je,gt)).subscribe(Ke=(0,Ee._)(We,vt=>We.next(ce?ce(je,vt,gt,Ze++):vt),()=>{Ke=null,Ge()}))},()=>{me=!0,Ge()}))})}},6697:(Nn,wt,k)=>{"use strict";k.d(wt,{s:()=>le});var h=k(983),p=k(9974),Ee=k(4360);function le(Se){return Se<=0?()=>h.w:(0,p.N)((ce,Me)=>{let We=0;ce.subscribe((0,Ee._)(Me,Ke=>{++We<=Se&&(Me.next(Ke),Se<=We&&Me.complete())}))})}},8141:(Nn,wt,k)=>{"use strict";k.d(wt,{M:()=>Se});var h=k(8071),p=k(9974),Ee=k(4360),le=k(3669);function Se(ce,Me,We){const Ke=(0,h.T)(ce)||Me||We?{next:ce,error:Me,complete:We}:ce;return Ke?(0,p.N)((be,me)=>{var Ge;null===(Ge=Ke.subscribe)||void 0===Ge||Ge.call(Ke);let je=!0;be.subscribe((0,Ee._)(me,Ze=>{var gt;null===(gt=Ke.next)||void 0===gt||gt.call(Ke,Ze),me.next(Ze)},()=>{var Ze;je=!1,null===(Ze=Ke.complete)||void 0===Ze||Ze.call(Ke),me.complete()},Ze=>{var gt;je=!1,null===(gt=Ke.error)||void 0===gt||gt.call(Ke,Ze),me.error(Ze)},()=>{var Ze,gt;je&&(null===(Ze=Ke.unsubscribe)||void 0===Ze||Ze.call(Ke)),null===(gt=Ke.finalize)||void 0===gt||gt.call(Ke)}))}):le.D}},3774:(Nn,wt,k)=>{"use strict";k.d(wt,{v:()=>le});var h=k(9350),p=k(9974),Ee=k(4360);function le(ce=Se){return(0,p.N)((Me,We)=>{let Ke=!1;Me.subscribe((0,Ee._)(We,be=>{Ke=!0,We.next(be)},()=>Ke?We.complete():We.error(ce())))})}function Se(){return new h.G}},6780:(Nn,wt,k)=>{"use strict";k.d(wt,{R:()=>Se});var h=k(8359);class p extends h.yU{constructor(Me,We){super()}schedule(Me,We=0){return this}}const Ee={setInterval(ce,Me,...We){const{delegate:Ke}=Ee;return null!=Ke&&Ke.setInterval?Ke.setInterval(ce,Me,...We):setInterval(ce,Me,...We)},clearInterval(ce){const{delegate:Me}=Ee;return((null==Me?void 0:Me.clearInterval)||clearInterval)(ce)},delegate:void 0};var le=k(7908);class Se extends p{constructor(Me,We){super(Me,We),this.scheduler=Me,this.work=We,this.pending=!1}schedule(Me,We=0){var Ke;if(this.closed)return this;this.state=Me;const be=this.id,me=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(me,be,We)),this.pending=!0,this.delay=We,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(me,this.id,We),this}requestAsyncId(Me,We,Ke=0){return Ee.setInterval(Me.flush.bind(Me,this),Ke)}recycleAsyncId(Me,We,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return We;null!=We&&Ee.clearInterval(We)}execute(Me,We){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(Me,We);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,We){let be,Ke=!1;try{this.work(Me)}catch(me){Ke=!0,be=me||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),be}unsubscribe(){if(!this.closed){const{id:Me,scheduler:We}=this,{actions:Ke}=We;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.o)(Ke,this),null!=Me&&(this.id=this.recycleAsyncId(We,Me,null)),this.delay=null,super.unsubscribe()}}}},9687:(Nn,wt,k)=>{"use strict";k.d(wt,{q:()=>Ee});var h=k(6129);class p{constructor(Se,ce=p.now){this.schedulerActionCtor=Se,this.now=ce}schedule(Se,ce=0,Me){return new this.schedulerActionCtor(this,Se).schedule(Me,ce)}}p.now=h.U.now;class Ee extends p{constructor(Se,ce=p.now){super(Se,ce),this.actions=[],this._active=!1}flush(Se){const{actions:ce}=this;if(this._active)return void ce.push(Se);let Me;this._active=!0;do{if(Me=Se.execute(Se.state,Se.delay))break}while(Se=ce.shift());if(this._active=!1,Me){for(;Se=ce.shift();)Se.unsubscribe();throw Me}}}},3236:(Nn,wt,k)=>{"use strict";k.d(wt,{E:()=>Ee});var h=k(6780);const Ee=new(k(9687).q)(h.R)},6129:(Nn,wt,k)=>{"use strict";k.d(wt,{U:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},9270:(Nn,wt,k)=>{"use strict";k.d(wt,{f:()=>h});const h={setTimeout(p,Ee,...le){const{delegate:Se}=h;return null!=Se&&Se.setTimeout?Se.setTimeout(p,Ee,...le):setTimeout(p,Ee,...le)},clearTimeout(p){const{delegate:Ee}=h;return((null==Ee?void 0:Ee.clearTimeout)||clearTimeout)(p)},delegate:void 0}},4761:(Nn,wt,k)=>{"use strict";k.d(wt,{l:()=>p});const p=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Nn,wt,k)=>{"use strict";k.d(wt,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Nn,wt,k)=>{"use strict";k.d(wt,{G:()=>p});const p=(0,k(1853).L)(Ee=>function(){Ee(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Nn,wt,k)=>{"use strict";k.d(wt,{R0:()=>ce,ms:()=>le,lI:()=>Se});var h=k(8071);function Ee(Me){return Me[Me.length-1]}function le(Me){return(0,h.T)(Ee(Me))?Me.pop():void 0}function Se(Me){return function p(Me){return Me&&(0,h.T)(Me.schedule)}(Ee(Me))?Me.pop():void 0}function ce(Me,We){return"number"==typeof Ee(Me)?Me.pop():We}},3073:(Nn,wt,k)=>{"use strict";k.d(wt,{D:()=>Se});const{isArray:h}=Array,{getPrototypeOf:p,prototype:Ee,keys:le}=Object;function Se(Me){if(1===Me.length){const We=Me[0];if(h(We))return{args:We,keys:null};if(function ce(Me){return Me&&"object"==typeof Me&&p(Me)===Ee}(We)){const Ke=le(We);return{args:Ke.map(be=>We[be]),keys:Ke}}}return{args:Me,keys:null}}},7908:(Nn,wt,k)=>{"use strict";function h(p,Ee){if(p){const le=p.indexOf(Ee);0<=le&&p.splice(le,1)}}k.d(wt,{o:()=>h})},1853:(Nn,wt,k)=>{"use strict";function h(p){const le=p(Se=>{Error.call(Se),Se.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(wt,{L:()=>h})},8496:(Nn,wt,k)=>{"use strict";function h(p,Ee){return p.reduce((le,Se,ce)=>(le[Se]=Ee[ce],le),{})}k.d(wt,{e:()=>h})},9786:(Nn,wt,k)=>{"use strict";k.d(wt,{Y:()=>Ee,l:()=>le});var h=k(1026);let p=null;function Ee(Se){if(h.$.useDeprecatedSynchronousErrorHandling){const ce=!p;if(ce&&(p={errorThrown:!1,error:null}),Se(),ce){const{errorThrown:Me,error:We}=p;if(p=null,Me)throw We}}else Se()}function le(Se){h.$.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=Se)}},5225:(Nn,wt,k)=>{"use strict";function h(p,Ee,le,Se=0,ce=!1){const Me=Ee.schedule(function(){le(),ce?p.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(p.add(Me),!ce)return Me}k.d(wt,{N:()=>h})},3669:(Nn,wt,k)=>{"use strict";function h(p){return p}k.d(wt,{D:()=>h})},7441:(Nn,wt,k)=>{"use strict";k.d(wt,{X:()=>h});const h=p=>p&&"number"==typeof p.length&&"function"!=typeof p},7953:(Nn,wt,k)=>{"use strict";k.d(wt,{T:()=>p});var h=k(8071);function p(Ee){return Symbol.asyncIterator&&(0,h.T)(null==Ee?void 0:Ee[Symbol.asyncIterator])}},8071:(Nn,wt,k)=>{"use strict";function h(p){return"function"==typeof p}k.d(wt,{T:()=>h})},5055:(Nn,wt,k)=>{"use strict";k.d(wt,{l:()=>Ee});var h=k(3494),p=k(8071);function Ee(le){return(0,p.T)(le[h.s])}},5397:(Nn,wt,k)=>{"use strict";k.d(wt,{x:()=>Ee});var h=k(4761),p=k(8071);function Ee(le){return(0,p.T)(null==le?void 0:le[h.l])}},9858:(Nn,wt,k)=>{"use strict";k.d(wt,{y:()=>p});var h=k(8071);function p(Ee){return(0,h.T)(null==Ee?void 0:Ee.then)}},5196:(Nn,wt,k)=>{"use strict";k.d(wt,{C:()=>Ee,U:()=>le});var h=k(1635),p=k(8071);function Ee(Se){return(0,h.AQ)(this,arguments,function*(){const Me=Se.getReader();try{for(;;){const{value:We,done:Ke}=yield(0,h.N3)(Me.read());if(Ke)return yield(0,h.N3)(void 0);yield yield(0,h.N3)(We)}}finally{Me.releaseLock()}})}function le(Se){return(0,p.T)(null==Se?void 0:Se.getReader)}},9974:(Nn,wt,k)=>{"use strict";k.d(wt,{N:()=>Ee,S:()=>p});var h=k(8071);function p(le){return(0,h.T)(null==le?void 0:le.lift)}function Ee(le){return Se=>{if(p(Se))return Se.lift(function(ce){try{return le(ce,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Nn,wt,k)=>{"use strict";k.d(wt,{I:()=>le});var h=k(6354);const{isArray:p}=Array;function le(Se){return(0,h.T)(ce=>function Ee(Se,ce){return p(ce)?Se(...ce):Se(ce)}(Se,ce))}},5343:(Nn,wt,k)=>{"use strict";function h(){}k.d(wt,{l:()=>h})},1203:(Nn,wt,k)=>{"use strict";k.d(wt,{F:()=>p,m:()=>Ee});var h=k(3669);function p(...le){return Ee(le)}function Ee(le){return 0===le.length?h.D:1===le.length?le[0]:function(ce){return le.reduce((Me,We)=>We(Me),ce)}}},5334:(Nn,wt,k)=>{"use strict";k.d(wt,{m:()=>Ee});var h=k(1026),p=k(9270);function Ee(le){p.f.setTimeout(()=>{const{onUnhandledError:Se}=h.$;if(!Se)throw le;Se(le)})}},591:(Nn,wt,k)=>{"use strict";function h(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(wt,{L:()=>h})},8996:(Nn,wt,k)=>{var h={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function p(Ee){if(!k.o(h,Ee))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+Ee+"'");throw ce.code="MODULE_NOT_FOUND",ce});var le=h[Ee],Se=le[0];return Promise.all(le.slice(1).map(k.e)).then(()=>k(Se))}p.keys=()=>Object.keys(h),p.id=8996,Nn.exports=p},177:(Nn,wt,k)=>{"use strict";k.d(wt,{AJ:()=>Ut,MD:()=>it,N0:()=>mi,QT:()=>Ee,Sm:()=>vt,Sq:()=>Er,T3:()=>It,VF:()=>Se,Vy:()=>un,Xr:()=>On,ZD:()=>le,_b:()=>bt,aZ:()=>ft,bT:()=>eo,fw:()=>ot,hb:()=>Ze,hj:()=>Ke,qQ:()=>Me});var h=k(4438);let p=null;function Ee(){return p}function le(b){var F;null!==(F=p)&&void 0!==F||(p=b)}class Se{}const Me=new h.nKC("");let We=(()=>{var b;class F{historyGo($){throw new Error("")}}return(b=F).\u0275fac=function($){return new($||b)},b.\u0275prov=h.jDH({token:b,factory:()=>(0,h.WQX)(be),providedIn:"platform"}),F})();const Ke=new h.nKC("");let be=(()=>{var b;class F extends We{constructor(){super(),this._doc=(0,h.WQX)(Me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ee().getBaseHref(this._doc)}onPopState($){const ne=Ee().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",$,!1),()=>ne.removeEventListener("popstate",$)}onHashChange($){const ne=Ee().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",$,!1),()=>ne.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,ne,s){this._history.pushState($,ne,s)}replaceState($,ne,s){this._history.replaceState($,ne,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return(b=F).\u0275fac=function($){return new($||b)},b.\u0275prov=h.jDH({token:b,factory:()=>new b,providedIn:"platform"}),F})();function me(b,F){if(0==b.length)return F;if(0==F.length)return b;let pe=0;return b.endsWith("/")&&pe++,F.startsWith("/")&&pe++,2==pe?b+F.substring(1):1==pe?b+F:b+"/"+F}function Ge(b){const F=b.match(/#|\?|$/),pe=F&&F.index||b.length;return b.slice(0,pe-("/"===b[pe-1]?1:0))+b.slice(pe)}function je(b){return b&&"?"!==b[0]?"?"+b:b}let Ze=(()=>{var b;class F{historyGo($){throw new Error("")}}return(b=F).\u0275fac=function($){return new($||b)},b.\u0275prov=h.jDH({token:b,factory:()=>(0,h.WQX)(vt),providedIn:"root"}),F})();const gt=new h.nKC("");let vt=(()=>{var b;class F extends Ze{constructor($,ne){var s,d,y;super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=null!==(s=null!==(d=null!=ne?ne:this._platformLocation.getBaseHrefFromDOM())&&void 0!==d?d:null===(y=(0,h.WQX)(Me).location)||void 0===y?void 0:y.origin)&&void 0!==s?s:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return me(this._baseHref,$)}path($=!1){const ne=this._platformLocation.pathname+je(this._platformLocation.search),s=this._platformLocation.hash;return s&&$?`${ne}${s}`:ne}pushState($,ne,s,d){const y=this.prepareExternalUrl(s+je(d));this._platformLocation.pushState($,ne,y)}replaceState($,ne,s,d){const y=this.prepareExternalUrl(s+je(d));this._platformLocation.replaceState($,ne,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ne,s;null===(ne=(s=this._platformLocation).historyGo)||void 0===ne||ne.call(s,$)}}return(b=F).\u0275fac=function($){return new($||b)(h.KVO(We),h.KVO(gt,8))},b.\u0275prov=h.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),F})(),ot=(()=>{var b;class F extends Ze{constructor($,ne){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){var ne;const s=null!==(ne=this._platformLocation.hash)&&void 0!==ne?ne:"#";return s.length>0?s.substring(1):s}prepareExternalUrl($){const ne=me(this._baseHref,$);return ne.length>0?"#"+ne:ne}pushState($,ne,s,d){let y=this.prepareExternalUrl(s+je(d));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState($,ne,y)}replaceState($,ne,s,d){let y=this.prepareExternalUrl(s+je(d));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState($,ne,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var ne,s;null===(ne=(s=this._platformLocation).historyGo)||void 0===ne||ne.call(s,$)}}return(b=F).\u0275fac=function($){return new($||b)(h.KVO(We),h.KVO(gt,8))},b.\u0275prov=h.jDH({token:b,factory:b.\u0275fac}),F})(),ft=(()=>{var b;class F{constructor($){this._subject=new h.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const ne=this._locationStrategy.getBaseHref();this._basePath=function Te(b){if(new RegExp("^(https?:)?//").test(b)){const[,pe]=b.split(/\/\/[^\/]+/);return pe}return b}(Ge(Ae(ne))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){var $;null===($=this._urlChangeSubscription)||void 0===$||$.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,ne=""){return this.path()==this.normalize($+je(ne))}normalize($){return F.stripTrailingSlash(function yt(b,F){if(!b||!F.startsWith(b))return F;const pe=F.substring(b.length);return""===pe||["/",";","?","#"].includes(pe[0])?pe:F}(this._basePath,Ae($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,ne="",s=null){this._locationStrategy.pushState(s,"",$,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl($+je(ne)),s)}replaceState($,ne="",s=null){this._locationStrategy.replaceState(s,"",$,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl($+je(ne)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){var ne,s;null===(ne=(s=this._locationStrategy).historyGo)||void 0===ne||ne.call(s,$)}onUrlChange($){var ne;return this._urlChangeListeners.push($),null!==(ne=this._urlChangeSubscription)&&void 0!==ne||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf($);var d;this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(null===(d=this._urlChangeSubscription)||void 0===d||d.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",ne){this._urlChangeListeners.forEach(s=>s($,ne))}subscribe($,ne,s){return this._subject.subscribe({next:$,error:ne,complete:s})}}return(b=F).normalizeQueryParams=je,b.joinWithSlash=me,b.stripTrailingSlash=Ge,b.\u0275fac=function($){return new($||b)(h.KVO(Ze))},b.\u0275prov=h.jDH({token:b,factory:()=>function Dt(){return new ft((0,h.KVO)(Ze))}(),providedIn:"root"}),F})();function Ae(b){return b.replace(/\/index.html$/,"")}function bt(b,F){F=encodeURIComponent(F);for(const pe of b.split(";")){const $=pe.indexOf("="),[ne,s]=-1==$?[pe,""]:[pe.slice(0,$),pe.slice($+1)];if(ne.trim()===F)return decodeURIComponent(s)}return null}class Qn{constructor(F,pe,$,ne){this.$implicit=F,this.ngForOf=pe,this.index=$,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{var b;class F{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,ne,s){this._viewContainer=$,this._template=ne,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const ne=this._viewContainer;$.forEachOperation((s,d,y)=>{if(null==s.previousIndex)ne.createEmbeddedView(this._template,new Qn(s.item,this._ngForOf,-1,-1),null===y?void 0:y);else if(null==y)ne.remove(null===d?void 0:d);else if(null!==d){const N=ne.get(d);ne.move(N,y),Vi(N,s)}});for(let s=0,d=ne.length;s<d;s++){const N=ne.get(s).context;N.index=s,N.count=d,N.ngForOf=this._ngForOf}$.forEachIdentityChange(s=>{Vi(ne.get(s.currentIndex),s)})}static ngTemplateContextGuard($,ne){return!0}}return(b=F).\u0275fac=function($){return new($||b)(h.rXU(h.c1b),h.rXU(h.C4Q),h.rXU(h._q3))},b.\u0275dir=h.FsC({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function Vi(b,F){b.context.$implicit=F.item}let eo=(()=>{var b;class F{constructor($,ne){this._viewContainer=$,this._context=new Pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){gi("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){gi("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,ne){return!0}}return(b=F).\u0275fac=function($){return new($||b)(h.rXU(h.c1b),h.rXU(h.C4Q))},b.\u0275dir=h.FsC({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class Pr{constructor(){this.$implicit=null,this.ngIf=null}}function gi(b,F){if(F&&!F.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,h.Tbb)(F)}'.`)}let It=(()=>{var b;class F{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if(this._shouldRecreateView($)){var ne;const s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const d=this._createContextForwardProxy();this._viewRef=s.createEmbeddedView(this.ngTemplateOutlet,d,{injector:null!==(ne=this.ngTemplateOutletInjector)&&void 0!==ne?ne:void 0})}}_shouldRecreateView($){return!!$.ngTemplateOutlet||!!$.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:($,ne,s)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ne,s),get:($,ne,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ne,s)}})}}return(b=F).\u0275fac=function($){return new($||b)(h.rXU(h.c1b))},b.\u0275dir=h.FsC({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.OA$]}),F})(),it=(()=>{var b;class F{}return(b=F).\u0275fac=function($){return new($||b)},b.\u0275mod=h.$C({type:b}),b.\u0275inj=h.G2t({}),F})();const Ut="browser",Rt="server";function un(b){return b===Rt}let On=(()=>{var b;class F{}return(b=F).\u0275prov=(0,h.jDH)({token:b,providedIn:"root",factory:()=>function Yt(b){return b===Ut}((0,h.WQX)(h.Agw))?new nr((0,h.WQX)(Me),window):new ni}),F})();class nr{constructor(F,pe){this.document=F,this.window=pe,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(F){this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){const pe=function Zn(b,F){const pe=b.getElementById(F)||b.getElementsByName(F)[0];if(pe)return pe;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const $=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ne=$.currentNode;for(;ne;){const s=ne.shadowRoot;if(s){const d=s.getElementById(F)||s.querySelector(`[name="${F}"]`);if(d)return d}ne=$.nextNode()}}return null}(this.document,F);pe&&(this.scrollToElement(pe),pe.focus())}setHistoryScrollRestoration(F){this.window.history.scrollRestoration=F}scrollToElement(F){const pe=F.getBoundingClientRect(),$=pe.left+this.window.pageXOffset,ne=pe.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo($-s[0],ne-s[1])}}class ni{setOffset(F){}getScrollPosition(){return[0,0]}scrollToPosition(F){}scrollToAnchor(F){}setHistoryScrollRestoration(F){}}class mi{}},4438:(Nn,wt,k)=>{"use strict";function h(e,t){return Object.is(e,t)}k.d(wt,{iLQ:()=>p0,sZ2:()=>Fd,hnV:()=>Uw,Hbi:()=>rx,o8S:()=>hc,BIS:()=>fm,gRc:()=>tb,Ql9:()=>wM,Ocv:()=>xM,Z63:()=>Bo,aKT:()=>Fu,uvJ:()=>es,zcH:()=>Ea,bkB:()=>Oa,$GK:()=>bn,nKC:()=>Er,zZn:()=>fs,_q3:()=>YE,MKu:()=>JE,xe9:()=>WE,Co$:()=>WA,Vns:()=>Of,SKi:()=>D,Xx1:()=>mi,Agw:()=>Ap,PLl:()=>Ep,sFG:()=>Ny,_9s:()=>ad,czy:()=>Bp,kdw:()=>ri,C4Q:()=>gf,NYb:()=>vM,giA:()=>Fw,xvI:()=>WP,RxE:()=>Pw,c1b:()=>Nf,gXe:()=>gr,mal:()=>Xy,L39:()=>Ox,EWP:()=>Lx,a0P:()=>zx,Ol2:()=>XI,w6W:()=>iD,oH4:()=>Qw,SmG:()=>jM,Rfq:()=>ct,WQX:()=>Rt,naY:()=>$M,QuC:()=>ao,EmA:()=>ra,fpN:()=>nx,HJs:()=>Hx,N4e:()=>H,vPA:()=>DA,O8t:()=>Fx,H3F:()=>Mw,H8p:()=>_s,KH2:()=>Fg,TgB:()=>Cl,wOt:()=>St,WHO:()=>kw,e01:()=>Lw,H5H:()=>IE,Zy3:()=>rr,mq5:()=>QT,JZv:()=>Mn,LfX:()=>xn,plB:()=>ac,jNT:()=>jE,zjR:()=>Vw,TL$:()=>hm,Tbb:()=>In,Vt3:()=>HI,GFd:()=>GA,OA$:()=>$a,Jv_:()=>sw,aNF:()=>aw,R7$:()=>qm,BMQ:()=>aE,AVh:()=>fE,wni:()=>OC,VBU:()=>zi,FsC:()=>Hs,jDH:()=>Vr,G2t:()=>ht,$C:()=>so,EJ8:()=>ls,rXU:()=>Zu,nrm:()=>vE,eu8:()=>yE,bVm:()=>r0,qex:()=>n0,k0s:()=>t0,j41:()=>e0,RV6:()=>XT,xGo:()=>np,KVO:()=>it,kS0:()=>yl,QTQ:()=>Xv,bIt:()=>TE,lsd:()=>FC,XpG:()=>AC,SdG:()=>CC,NAR:()=>TC,Y8G:()=>dE,mGM:()=>LC,Njj:()=>vd,eBV:()=>Ac,B4B:()=>xp,n$t:()=>Xc,DNE:()=>ZI,EFF:()=>KC,JRh:()=>DE,SpI:()=>u0,Lme:()=>SE,DH7:()=>nw,mxI:()=>PE,R50:()=>RE,GBs:()=>kC});let p=null,Ee=!1,le=1;const Se=Symbol("SIGNAL");function ce(e){const t=p;return p=e,t}const be={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function me(e){if(Ee)throw new Error("");if(null===p)return;p.consumerOnSignalRead(e);const t=p.nextProducerIndex++;at(p),t<p.producerNode.length&&p.producerNode[t]!==e&&Oe(p)&&Te(p.producerNode[t],p.producerIndexOfThis[t]),p.producerNode[t]!==e&&(p.producerNode[t]=e,p.producerIndexOfThis[t]=Oe(p)?Ae(e,p,t):0),p.producerLastReadVersion[t]=e.version}function je(e){if((!Oe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==le)){if(!e.producerMustRecompute(e)&&!Dt(e))return e.dirty=!1,void(e.lastCleanEpoch=le);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=le}}function Ze(e){if(void 0===e.liveConsumerNode)return;const t=Ee;Ee=!0;try{for(const r of e.liveConsumerNode)r.dirty||vt(r)}finally{Ee=t}}function gt(){var e;return!1!==(null===(e=p)||void 0===e?void 0:e.consumerAllowSignalWrites)}function vt(e){var t;e.dirty=!0,Ze(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function ot(e){return e&&(e.nextProducerIndex=0),ce(e)}function ft(e,t){if(ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Oe(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Te(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Dt(e){at(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(je(r),o!==r.version))return!0}return!1}function yt(e){if(at(e),Oe(e))for(let t=0;t<e.producerNode.length;t++)Te(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ae(e,t,r){if(Qe(e),0===e.liveConsumerNode.length&&Mt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ae(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Te(e,t){if(Qe(e),1===e.liveConsumerNode.length&&Mt(e))for(let o=0;o<e.producerNode.length;o++)Te(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];at(l),l.producerIndexOfThis[o]=t}}function Oe(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function at(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function Qe(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Mt(e){return void 0!==e.producerNode}const Re=Symbol("UNSET"),tn=Symbol("COMPUTING"),qt=Symbol("ERRORED"),Cn={...be,value:Re,dirty:!0,error:null,equal:h,producerMustRecompute:e=>e.value===Re||e.value===tn,producerRecomputeValue(e){if(e.value===tn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=tn;const r=ot(e);let o;try{o=e.computation()}catch(l){o=qt,e.error=l}finally{ft(e,r)}t!==Re&&t!==qt&&o!==qt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let qn=function jt(){throw new Error};function At(){qn()}let Ce=null;function Le(e,t){gt()||At(),e.equal(e.value,t)||(e.value=t,function an(e){var t;e.version++,function Ge(){le++}(),Ze(e),null===(t=Ce)||void 0===t||t()}(e))}const rt={...be,equal:h,value:void 0};var sr,Ne,Gn=k(4412),ir=k(1413),Jt=k(8359),ln=k(6354);const Bt="https://g.co/ng/security#xss";class St extends Error{constructor(t,r){super(rr(t,r)),this.code=t}}function rr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Cr(e){return{toString:e}.toString()}const Wr="__parameters__";function pr(e,t,r){return Cr(()=>{const o=function vi(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(t);function l(...f){if(this instanceof l)return o.apply(this,f),this;const v=new l(...f);return w.annotation=v,w;function w(R,G,Y){const ae=R.hasOwnProperty(Wr)?R[Wr]:Object.defineProperty(R,Wr,{value:[]})[Wr];for(;ae.length<=Y;)ae.push(null);return(ae[Y]=ae[Y]||[]).push(v),R}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Mn=globalThis;function xr(e){for(let t in e)if(e[t]===xr)return t;throw Error("Could not find renamed property on target object.")}function Nr(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function In(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(In).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Wt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Xt=xr({__forward_ref__:xr});function ct(e){return e.__forward_ref__=ct,e.toString=function(){return In(this())},e}function dt(e){return vn(e)?e():e}function vn(e){return"function"==typeof e&&e.hasOwnProperty(Xt)&&e.__forward_ref__===ct}function Vr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ht(e){return{providers:e.providers||[],imports:e.imports||[]}}function on(e){return bt(e,ur)||bt(e,ar)}function xn(e){return null!==on(e)}function bt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sn(e){return e&&(e.hasOwnProperty(cr)||e.hasOwnProperty(Qn))?e[cr]:null}const ur=xr({\u0275prov:xr}),cr=xr({\u0275inj:xr}),ar=xr({ngInjectableDef:xr}),Qn=xr({ngInjectorDef:xr});class Er{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Vr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Io(e){return e&&!!e.\u0275providers}const oe=xr({\u0275cmp:xr}),Ue=xr({\u0275dir:xr}),xt=xr({\u0275pipe:xr}),It=xr({\u0275mod:xr}),nn=xr({\u0275fac:xr}),_n=xr({__NG_ELEMENT_ID__:xr}),Hn=xr({__NG_ENV_ID__:xr});function st(e){return"string"==typeof e?e:null==e?"":String(e)}function Ti(e,t){throw new St(-201,!1)}var bn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(bn||{});let Rr;function Un(){return Rr}function ui(e){const t=Rr;return Rr=e,t}function Kr(e,t,r){const o=on(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&bn.Optional?null:void 0!==t?t:void Ti()}const hr={},Yr="__NG_DI_FLAG__",wn="ngTempTokenPath",ci=/\n/gm,Q="__source";let ie;function ze(e){const t=ie;return ie=e,t}function pt(e,t=bn.Default){if(void 0===ie)throw new St(-203,!1);return null===ie?Kr(e,void 0,t):ie.get(e,t&bn.Optional?null:void 0,t)}function it(e,t=bn.Default){return(Un()||pt)(dt(e),t)}function Rt(e,t=bn.Default){return it(e,Yt(t))}function Yt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function un(e){const t=[];for(let r=0;r<e.length;r++){const o=dt(e[r]);if(Array.isArray(o)){if(0===o.length)throw new St(900,!1);let l,f=bn.Default;for(let v=0;v<o.length;v++){const w=o[v],R=On(w);"number"==typeof R?-1===R?l=w.token:f|=R:l=w}t.push(it(l,f))}else t.push(it(o))}return t}function Tn(e,t){return e[Yr]=t,e.prototype[Yr]=t,e}function On(e){return e[Yr]}const mi=Tn(pr("Optional"),8),ri=Tn(pr("SkipSelf"),4);function bi(e,t){return e.hasOwnProperty(nn)?e[nn]:null}function Yi(e,t){e.forEach(r=>Array.isArray(r)?Yi(r,t):t(r))}function po(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function is(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xi(e,t,r){let o=ss(e,t);return o>=0?e[1|o]=r:(o=~o,function bs(e,t,r,o){let l=e.length;if(l==t)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Uo(e,t){const r=ss(e,t);if(r>=0)return e[1|r]}function ss(e,t){return function cs(e,t,r){let o=0,l=e.length>>r;for(;l!==o;){const f=o+(l-o>>1),v=e[f<<r];if(t===v)return f<<r;v>t?l=f:o=f+1}return~(l<<r)}(e,t,1)}const Xr={},Dr=[],Bo=new Er(""),yo=new Er("",-1),ki=new Er("");class Ds{get(t,r=hr){if(r===hr){const o=new Error(`NullInjectorError: No provider for ${In(t)}!`);throw o.name="NullInjectorError",o}return r}}var as=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(as||{}),gr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gr||{}),$r=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($r||{});function Ss(e,t,r){let o=e.length;for(;;){const l=e.indexOf(t,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const f=t.length;if(l+f===o||e.charCodeAt(l+f)<=32)return l}r=l+1}}function Rs(e,t,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const f=r[o++],v=r[o++],w=r[o++];e.setAttribute(t,v,w,f)}else{const f=l,v=r[++o];zs(f)?e.setProperty(t,f,v):e.setAttribute(t,f,v),o++}}return o}function Ps(e){return 3===e||4===e||6===e}function zs(e){return 64===e.charCodeAt(0)}function ms(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?r=l:0===r||Po(e,r,l,null,-1===r||2===r?t[++o]:null)}}return e}function Po(e,t,r,o,l){let f=0,v=e.length;if(-1===t)v=-1;else for(;f<e.length;){const w=e[f++];if("number"==typeof w){if(w===t){v=-1;break}if(w>t){v=f-1;break}}}for(;f<e.length;){const w=e[f];if("number"==typeof w)break;if(w===r){if(null===o)return void(null!==l&&(e[f+1]=l));if(o===e[f+1])return void(e[f+2]=l)}f++,null!==o&&f++,null!==l&&f++}-1!==v&&(e.splice(v,0,t),f=v+1),e.splice(f++,0,r),null!==o&&e.splice(f++,0,o),null!==l&&e.splice(f++,0,l)}const Qo="ng-template";function _i(e,t,r,o){let l=0;if(o){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==Ss(t[l+1].toLowerCase(),r,0))return!0}else if(oo(e))return!1;if(l=t.indexOf(1,l),l>-1){let f;for(;++l<t.length&&"string"==typeof(f=t[l]);)if(f.toLowerCase()===r)return!0}return!1}function oo(e){return 4===e.type&&e.value!==Qo}function _a(e,t,r){return t===(4!==e.type||r?e.value:Qo)}function Ms(e,t,r){let o=4;const l=e.attrs,f=null!==l?function V(e){for(let t=0;t<e.length;t++)if(Ps(e[t]))return t;return e.length}(l):0;let v=!1;for(let w=0;w<t.length;w++){const R=t[w];if("number"!=typeof R){if(!v)if(4&o){if(o=2|1&o,""!==R&&!_a(e,R,r)||""===R&&1===t.length){if(Wo(o))return!1;v=!0}}else if(8&o){if(null===l||!_i(e,l,R,r)){if(Wo(o))return!1;v=!0}}else{const G=t[++w],Y=xs(R,l,oo(e),r);if(-1===Y){if(Wo(o))return!1;v=!0;continue}if(""!==G){let ae;if(ae=Y>f?"":l[Y+1].toLowerCase(),2&o&&G!==ae){if(Wo(o))return!1;v=!0}}}}else{if(!v&&!Wo(o)&&!Wo(R))return!1;if(v&&Wo(R))continue;v=!1,o=R|1&o}}return Wo(o)||v}function Wo(e){return!(1&e)}function xs(e,t,r,o){if(null===t)return-1;let l=0;if(o||!r){let f=!1;for(;l<t.length;){const v=t[l];if(v===e)return l;if(3===v||6===v)f=!0;else{if(1===v||2===v){let w=t[++l];for(;"string"==typeof w;)w=t[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=f?1:2}return-1}return function re(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function va(e,t,r=!1){for(let o=0;o<t.length;o++)if(Ms(e,t[o],r))return!0;return!1}function X(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function ve(e,t){return e?":not("+t.trim()+")":t}function yn(e){let t=e[0],r=1,o=2,l="",f=!1;for(;r<e.length;){let v=e[r];if("string"==typeof v)if(2&o){const w=e[++r];l+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&o?l+="."+v:4&o&&(l+=" "+v);else""!==l&&!Wo(v)&&(t+=ve(f,l),l=""),o=v,f=f||!Wo(o);r++}return""!==l&&(t+=ve(f,l)),t}function zi(e){return Cr(()=>{var t;const r=ds(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===as.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||gr.Emulated,styles:e.styles||Dr,_:null,schemas:e.schemas||null,tView:null,id:""};Ns(o);const l=e.dependencies;return o.directiveDefs=Yo(l,!1),o.pipeDefs=Yo(l,!0),o.id=function hs(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of r)t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function ji(e){return Mr(e)||si(e)}function go(e){return null!==e}function so(e){return Cr(()=>({type:e.type,bootstrap:e.bootstrap||Dr,declarations:e.declarations||Dr,imports:e.imports||Dr,exports:e.exports||Dr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ao(e,t){if(null==e)return Xr;const r={};for(const l in e)if(e.hasOwnProperty(l)){const f=e[l];let v,w,R=$r.None;var o;Array.isArray(f)?(R=f[0],v=f[1],w=null!==(o=f[2])&&void 0!==o?o:v):(v=f,w=f),t?(r[v]=R!==$r.None?[l,R]:l,t[v]=w):r[v]=l}return r}function Hs(e){return Cr(()=>{const t=ds(e);return Ns(t),t})}function ls(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mr(e){return e[oe]||null}function si(e){return e[Ue]||null}function Hi(e){return e[xt]||null}function ao(e){const t=Mr(e)||si(e)||Hi(e);return null!==t&&t.standalone}function Gi(e,t){const r=e[It]||null;if(!r&&!0===t)throw new Error(`Type ${In(e)} does not have '\u0275mod' property.`);return r}function ds(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Xr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Dr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ao(e.inputs,t),outputs:Ao(e.outputs),debugInfo:null}}function Ns(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function Yo(e,t){if(!e)return null;const r=t?Hi:ji;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(go)}function ra(e){return{\u0275providers:e}}function Ua(...e){return{\u0275providers:Ba(0,e),\u0275fromNgModule:!0}}function Ba(e,...t){const r=[],o=new Set;let l;const f=v=>{r.push(v)};return Yi(t,v=>{const w=v;Xo(w,f,[],o)&&(l||(l=[]),l.push(w))}),void 0!==l&&Jo(l,f),r}function Jo(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];Gs(l,f=>{t(f,o)})}}function Xo(e,t,r,o){if(!(e=dt(e)))return!1;let l=null,f=Sn(e);const v=!f&&Mr(e);if(f||v){if(v&&!v.standalone)return!1;l=e}else{const R=e.ngModule;if(f=Sn(R),!f)return!1;l=R}const w=o.has(l);if(v){if(w)return!1;if(o.add(l),v.dependencies){const R="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const G of R)Xo(G,t,r,o)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let G;o.add(l);try{Yi(f.imports,Y=>{Xo(Y,t,r,o)&&(G||(G=[]),G.push(Y))})}finally{}void 0!==G&&Jo(G,t)}if(!w){const G=bi(l)||(()=>new l);t({provide:l,useFactory:G,deps:Dr},l),t({provide:ki,useValue:l,multi:!0},l),t({provide:Bo,useValue:()=>it(l),multi:!0},l)}const R=f.providers;if(null!=R&&!w){const G=e;Gs(R,Y=>{t(Y,G)})}}}return l!==e&&void 0!==e.providers}function Gs(e,t){for(let r of e)Io(r)&&(r=r.\u0275providers),Array.isArray(r)?Gs(r,t):t(r)}const Ws=xr({provide:String,useValue:xr});function ia(e){return null!==e&&"object"==typeof e&&Ws in e}function xo(e){return"function"==typeof e}const _s=new Er(""),Hr={},Za={};let ya;function To(){return void 0===ya&&(ya=new Ds),ya}class es{}class jo extends es{get destroyed(){return this._destroyed}constructor(t,r,o,l){super(),this.parent=r,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,A(t,v=>this.processProvider(v)),this.records.set(yo,ts(void 0,this)),l.has("environment")&&this.records.set(es,ts(void 0,this));const f=this.records.get(_s);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ki,Dr,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ce(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=ze(this),o=ui(void 0);try{return t()}finally{ze(r),ui(o)}}get(t,r=hr,o=bn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Hn))return t[Hn](this);o=Yt(o);const f=ze(this),v=ui(void 0);try{if(!(o&bn.SkipSelf)){let R=this.records.get(t);if(void 0===R){const G=function W(e){return"function"==typeof e||"object"==typeof e&&e instanceof Er}(t)&&on(t);R=G&&this.injectableDefInScope(G)?ts(vs(t),Hr):null,this.records.set(t,R)}if(null!=R)return this.hydrate(t,R)}return(o&bn.Self?To():this.parent).get(t,r=o&bn.Optional&&r===hr?null:r)}catch(w){if("NullInjectorError"===w.name){if((w[wn]=w[wn]||[]).unshift(In(t)),f)throw w;return function nr(e,t,r,o){const l=e[wn];throw t[Q]&&l.unshift(t[Q]),e.message=function Zn(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=In(t);if(Array.isArray(t))l=t.map(In).join(" -> ");else if("object"==typeof t){let f=[];for(let v in t)if(t.hasOwnProperty(v)){let w=t[v];f.push(v+":"+("string"==typeof w?JSON.stringify(w):In(w)))}l=`{${f.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace(ci,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[wn]=null,e}(w,t,"R3InjectorError",this.source)}throw w}finally{ui(v),ze(f)}}resolveInjectorInitializers(){const t=ce(null),r=ze(this),o=ui(void 0);try{const f=this.get(Bo,Dr,bn.Self);for(const v of f)v()}finally{ze(r),ui(o),ce(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(In(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new St(205,!1)}processProvider(t){let r=xo(t=dt(t))?t:dt(t&&t.provide);const o=function Ks(e){return ia(e)?ts(void 0,e.useValue):ts(Xs(e),Hr)}(t);if(!xo(t)&&!0===t.multi){let l=this.records.get(r);l||(l=ts(void 0,Hr,!0),l.factory=()=>un(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=ce(null);try{return r.value===Hr&&(r.value=Za,r.value=r.factory()),"object"==typeof r.value&&r.value&&function O(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ce(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=dt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function vs(e){const t=on(e),r=null!==t?t.factory:bi(e);if(null!==r)return r;if(e instanceof Er)throw new St(204,!1);if(e instanceof Function)return function Ca(e){if(e.length>0)throw new St(204,!1);const r=function Zt(e){return e&&(e[ur]||e[ar])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new St(204,!1)}function Xs(e,t,r){let o;if(xo(e)){const l=dt(e);return bi(l)||vs(l)}if(ia(e))o=()=>dt(e.useValue);else if(function Ta(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...un(e.deps||[]));else if(function $o(e){return!(!e||!e.useExisting)}(e))o=()=>it(dt(e.useExisting));else{const l=dt(e&&(e.useClass||e.provide));if(!function C(e){return!!e.deps}(e))return bi(l)||vs(l);o=()=>new l(...un(e.deps))}return o}function ts(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function A(e,t){for(const r of e)Array.isArray(r)?A(r,t):r&&Io(r)?A(r.\u0275providers,t):t(r)}function H(e,t){e instanceof jo&&e.assertNotDestroyed();const o=ze(e),l=ui(void 0);try{return t()}finally{ze(o),ui(l)}}function de(){return void 0!==Un()||null!=function ke(){return ie}()}const jn=0,rn=1,Kn=2,Jr=3,Si=4,di=5,Ji=6,oa=7,qr=8,Sr=9,ys=10,Fr=11,qs=12,xi=13,Ia=14,lo=15,sa=16,Qa=17,no=18,Os=19,wa=20,Is=21,Rl=22,Ui=23,wr=25,Xl=1,aa=7,Pl=9,Co=10;var pc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(pc||{});function uo(e){return Array.isArray(e)&&"object"==typeof e[Xl]}function wo(e){return Array.isArray(e)&&!0===e[Xl]}function Ya(e){return!!(4&e.flags)}function ba(e){return e.componentOffset>-1}function mo(e){return!(1&~e.flags)}function Es(e){return!!e.template}function Ja(e){return!!(512&e[Kn])}class qo{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function As(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function $a(){return Ls}function Ls(e){return e.type.prototype.ngOnChanges&&(e.setInput=Au),Fs}function Fs(){const e=mc(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Xr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Au(e,t,r,o,l){const f=this.declaredInputs[o],v=mc(e)||function ja(e,t){return e[xl]=t}(e,{previous:Xr,current:null}),w=v.current||(v.current={}),R=v.previous,G=R[f];w[f]=new qo(G&&G.currentValue,r,R===Xr),As(e,t,l,r)}$a.ngInherit=!0;const xl="__ngSimpleChanges__";function mc(e){return e[xl]||null}const Vs=function(e,t,r){};function yi(e){for(;Array.isArray(e);)e=e[jn];return e}function Tu(e,t){return yi(t[e])}function Us(e,t){return yi(t[e.index])}function Ol(e,t){return e.data[t]}function Bs(e,t){const r=t[e];return uo(r)?r:r[jn]}function vc(e){return!(128&~e[Kn])}function la(e,t){return null==t?null:e[t]}function Ih(e){e[Qa]=0}function dd(e){1024&e[Kn]||(e[Kn]|=1024,vc(e)&&el(e))}function fd(e){var t;return!!(9216&e[Kn]||null!==(t=e[Ui])&&void 0!==t&&t.dirty)}function za(e){var t;null===(t=e[ys].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[Kn]&&(e[Kn]|=1024),fd(e)&&el(e)}function el(e){var t;null===(t=e[ys].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Sa(e);for(;null!==r&&!(8192&r[Kn])&&(r[Kn]|=8192,vc(r));)r=Sa(r)}function Ha(e,t){if(!(256&~e[Kn]))throw new St(911,!1);null===e[Is]&&(e[Is]=[]),e[Is].push(t)}function Sa(e){const t=e[Jr];return wo(t)?t[Jr]:t}const Qr={lFrame:Kf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let yc=!1;function Ic(){return Qr.bindingsEnabled}function nu(){return null!==Qr.skipHydrationRootTNode}function dn(){return Qr.lFrame.lView}function ei(){return Qr.lFrame.tView}function Ac(e){return Qr.lFrame.contextLView=e,e[qr]}function vd(e){return Qr.lFrame.contextLView=null,e}function ai(){let e=Th();for(;null!==e&&64===e.type;)e=e.parent;return e}function Th(){return Qr.lFrame.currentTNode}function Zs(e,t){const r=Qr.lFrame;r.currentTNode=e,r.isParent=t}function Tc(){return Qr.lFrame.isParent}function tl(){Qr.lFrame.isParent=!1}function ru(){return yc}function Cc(e){yc=e}function Ra(){return Qr.lFrame.bindingIndex++}function Pa(e){const t=Qr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function yd(e,t){const r=Qr.lFrame;r.bindingIndex=r.bindingRootIndex=e,bh(t)}function bh(e){Qr.lFrame.currentDirectiveIndex=e}function Dh(){return Qr.lFrame.currentQueryIndex}function wc(e){Qr.lFrame.currentQueryIndex=e}function pl(e){const t=e[rn];return 2===t.type?t.declTNode:1===t.type?e[di]:null}function Du(e,t,r){if(r&bn.SkipSelf){let l=t,f=e;for(;!(l=l.parent,null!==l||r&bn.Host||(l=pl(f),null===l||(f=f[Ia],10&l.type))););if(null===l)return!1;t=l,e=f}const o=Qr.lFrame=Sh();return o.currentTNode=t,o.lView=e,!0}function Ed(e){const t=Sh(),r=e[rn];Qr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sh(){const e=Qr.lFrame,t=null===e?null:e.child;return null===t?Kf(e):t}function Kf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Rh(){const e=Qr.lFrame;return Qr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ph=Rh;function Mh(){const e=Rh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function us(){return Qr.lFrame.selectedIndex}function bo(e){Qr.lFrame.selectedIndex=e}function _o(){const e=Qr.lFrame;return Ol(e.tView,e.selectedIndex)}let Su=!0;function gl(){return Su}function Ma(e){Su=e}function Dc(e,t){for(let G=t.directiveStart,Y=t.directiveEnd;G<Y;G++){const Ve=e.data[G].type.prototype,{ngAfterContentInit:Ye,ngAfterContentChecked:Xe,ngAfterViewInit:sn,ngAfterViewChecked:An,ngOnDestroy:kn}=Ve;var r,o,l,f,v,w,R;Ye&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-G,Ye),Xe&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(G,Xe),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push(G,Xe)),sn&&(null!==(f=e.viewHooks)&&void 0!==f?f:e.viewHooks=[]).push(-G,sn),An&&((null!==(v=e.viewHooks)&&void 0!==v?v:e.viewHooks=[]).push(G,An),(null!==(w=e.viewCheckHooks)&&void 0!==w?w:e.viewCheckHooks=[]).push(G,An)),null!=kn&&(null!==(R=e.destroyHooks)&&void 0!==R?R:e.destroyHooks=[]).push(G,kn)}}function Ll(e,t,r){Sc(e,t,3,r)}function ml(e,t,r,o){(3&e[Kn])===r&&Sc(e,t,r,o)}function _l(e,t){let r=e[Kn];(3&r)===t&&(r&=16383,r+=1,e[Kn]=r)}function Sc(e,t,r,o){const f=null!=o?o:-1,v=t.length-1;let w=0;for(let R=void 0!==o?65535&e[Qa]:0;R<v;R++)if("number"==typeof t[R+1]){if(w=t[R],null!=o&&w>=o)break}else t[R]<0&&(e[Qa]+=65536),(w<f||-1==f)&&(Gg(e,r,t,R),e[Qa]=(4294901760&e[Qa])+R+2),R++}function Rc(e,t){Vs(4,e,t);const r=ce(null);try{t.call(e)}finally{ce(r),Vs(5,e,t)}}function Gg(e,t,r,o){const l=r[o]<0,f=r[o+1],w=e[l?-r[o]:r[o]];l?e[Kn]>>14<e[Qa]>>16&&(3&e[Kn])===t&&(e[Kn]+=16384,Rc(w,f)):Rc(w,f)}const iu=-1;class Pc{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const Fl={};class ua{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=Yt(o);const l=this.injector.get(t,Fl,o);return l!==Fl||r===Fl?l:this.parentInjector.get(t,r,o)}}function xc(e){return e!==iu}function rl(e){return 32767&e}function Ru(e,t){let r=function Qf(e){return e>>16}(e),o=t;for(;r>0;)o=o[Ia],r--;return o}let Oh=!0;function Pu(e){const t=Oh;return Oh=e,t}const Cd=255,kh=5;let Jf=0;const xa={};function vl(e,t){const r=bd(e,t);if(-1!==r)return r;const o=t[rn];o.firstCreatePass&&(e.injectorIndex=t.length,Vl(o.data,e),Vl(t,null),Vl(o.blueprint,null));const l=Mu(e,t),f=e.injectorIndex;if(xc(l)){const v=rl(l),w=Ru(l,t),R=w[rn].data;for(let G=0;G<8;G++)t[f+G]=w[v+G]|R[v+G]}return t[f+8]=l,f}function Vl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function bd(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=t;for(;null!==l;){if(o=rp(l),null===o)return iu;if(r++,l=l[Ia],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return iu}function su(e,t,r){!function wd(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(_n)&&(o=r[_n]),null==o&&(o=r[_n]=Jf++);const l=o&Cd;t.data[e+(l>>kh)]|=1<<l}(e,t,r)}function ep(e,t,r){if(r&bn.Optional||void 0!==e)return e;Ti()}function Lh(e,t,r,o){if(r&bn.Optional&&void 0===o&&(o=null),!(r&(bn.Self|bn.Host))){const l=e[Sr],f=ui(void 0);try{return l?l.get(t,o,r&bn.Optional):Kr(t,o,r&bn.Optional)}finally{ui(f)}}return ep(o,0,r)}function Ul(e,t,r,o=bn.Default,l){if(null!==e){if(2048&t[Kn]&&!(o&bn.Self)){const v=function Qg(e,t,r,o,l){let f=e,v=t;for(;null!==f&&null!==v&&2048&v[Kn]&&!(512&v[Kn]);){const w=Sd(f,v,r,o|bn.Self,xa);if(w!==xa)return w;let R=f.parent;if(!R){const G=v[wa];if(G){const Y=G.get(r,xa,o);if(Y!==xa)return Y}R=rp(v),v=v[Ia]}f=R}return l}(e,t,r,o,xa);if(v!==xa)return v}const f=Sd(e,t,r,o,xa);if(f!==xa)return f}return Lh(t,r,o,l)}function Sd(e,t,r,o,l){const f=function Zg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_n)?e[_n]:void 0;return"number"==typeof t?t>=0?t&Cd:tp:t}(r);if("function"==typeof f){if(!Du(t,e,o))return o&bn.Host?ep(l,0,o):Lh(t,r,o,l);try{let v;if(v=f(o),null!=v||o&bn.Optional)return v;Ti()}finally{Ph()}}else if("number"==typeof f){let v=null,w=bd(e,t),R=iu,G=o&bn.Host?t[lo][di]:null;for((-1===w||o&bn.SkipSelf)&&(R=-1===w?Mu(e,t):t[w+8],R!==iu&&Nc(o,!1)?(v=t[rn],w=rl(R),t=Ru(R,t)):w=-1);-1!==w;){const Y=t[rn];if(Fh(f,w,Y.data)){const ae=qg(w,t,r,v,o,G);if(ae!==xa)return ae}R=t[w+8],R!==iu&&Nc(o,t[rn].data[w+8]===G)&&Fh(f,w,t)?(v=Y,w=rl(R),t=Ru(R,t)):w=-1}}return l}function qg(e,t,r,o,l,f){const v=t[rn],w=v.data[e+8],Y=Rd(w,v,r,null==o?ba(w)&&Oh:o!=v&&!!(3&w.type),l&bn.Host&&f===w);return null!==Y?No(t,v,Y,w):xa}function Rd(e,t,r,o,l){const f=e.providerIndexes,v=t.data,w=1048575&f,R=e.directiveStart,Y=f>>20,Ve=l?w+Y:e.directiveEnd;for(let Ye=o?w:w+Y;Ye<Ve;Ye++){const Xe=v[Ye];if(Ye<R&&r===Xe||Ye>=R&&Xe.type===r)return Ye}if(l){const Ye=v[R];if(Ye&&Es(Ye)&&Ye.type===r)return R}return null}function No(e,t,r,o){let l=e[r];const f=t.data;if(function Zf(e){return e instanceof Pc}(l)){const v=l;v.resolving&&function Oi(e,t){throw t&&t.join(" > "),new St(-200,e)}(function Yn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}(f[r]));const w=Pu(v.canSeeViewProviders);v.resolving=!0;const G=v.injectImpl?ui(v.injectImpl):null;Du(e,o,bn.Default);try{l=e[r]=v.factory(void 0,f,e,o),t.firstCreatePass&&r>=o.directiveStart&&function qf(e,t,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:f}=t.type.prototype;if(o){var v,w;const ae=Ls(t);(null!==(v=r.preOrderHooks)&&void 0!==v?v:r.preOrderHooks=[]).push(e,ae),(null!==(w=r.preOrderCheckHooks)&&void 0!==w?w:r.preOrderCheckHooks=[]).push(e,ae)}var R,G,Y;l&&(null!==(R=r.preOrderHooks)&&void 0!==R?R:r.preOrderHooks=[]).push(0-e,l),f&&((null!==(G=r.preOrderHooks)&&void 0!==G?G:r.preOrderHooks=[]).push(e,f),(null!==(Y=r.preOrderCheckHooks)&&void 0!==Y?Y:r.preOrderCheckHooks=[]).push(e,f))}(r,f[r],t)}finally{null!==G&&ui(G),Pu(w),v.resolving=!1,Ph()}}return l}function Fh(e,t,r){return!!(r[t+(e>>kh)]&1<<e)}function Nc(e,t){return!(e&bn.Self||e&bn.Host&&t)}class ns{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Ul(this._tNode,this._lView,t,Yt(o),r)}}function tp(){return new ns(ai(),dn())}function np(e){return Cr(()=>{const t=e.prototype.constructor,r=t[nn]||Vh(t),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const f=l[nn]||Vh(l);if(f&&f!==r)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Vh(e){return vn(e)?()=>{const t=Vh(dt(e));return t&&t()}:bi(e)}function rp(e){const t=e[rn],r=t.type;return 2===r?t.declTNode:1===r?e[di]:null}function yl(e){return function Dd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const f=r[l];if(Ps(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(f===t)return r[l+1];l+=2}}}return null}(ai(),e)}function Pd(e,t=null,r=null,o){const l=Al(e,t,r,o);return l.resolveInjectorInitializers(),l}function Al(e,t=null,r=null,o,l=new Set){const f=[r||Dr,Ua(e)];return o=o||("object"==typeof e?void 0:In(e)),new jo(f,t||To(),o||null,l)}class fs{static create(t,r){if(Array.isArray(t))return Pd({name:""},r,t,"");{var o;const l=null!==(o=t.name)&&void 0!==o?o:"";return Pd({name:l},t.parent,t.providers,l)}}}(sr=fs).THROW_IF_NOT_FOUND=hr,sr.NULL=new Ds,sr.\u0275prov=Vr({token:sr,providedIn:"any",factory:()=>it(yo)}),sr.__NG_ELEMENT_ID__=-1,new Er("").__NG_ELEMENT_ID__=e=>{const t=ai();if(null===t)throw new St(204,!1);if(2&t.type)return t.value;if(e&bn.Optional)return null;throw new St(204,!1)};function ol(e){return e.ngOriginalError}const Nu=!0;let Vc=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Ou,e.__NG_ENV_ID__=r=>r,t})();class Tl extends Vc{constructor(t){super(),this._lView=t}onDestroy(t){return Ha(this._lView,t),()=>function Cu(e,t){if(null===e[Is])return;const r=e[Is].indexOf(t);-1!==r&&e[Is].splice(r,1)}(this._lView,t)}}function Ou(){return new Tl(dn())}let Cl=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Vr({token:e,providedIn:"root",factory:()=>new e}),t})();const Oa=class Hh extends ir.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,de()&&(this.destroyRef=null!==(r=Rt(Vc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=Rt(Cl,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=ce(null);try{super.next(t)}finally{ce(r)}}subscribe(t,r,o){let l=t,f=r||(()=>null),v=o;if(t&&"object"==typeof t){var w,R,G;const ae=t;l=null===(w=ae.next)||void 0===w?void 0:w.bind(ae),f=null===(R=ae.error)||void 0===R?void 0:R.bind(ae),v=null===(G=ae.complete)||void 0===G?void 0:G.bind(ae)}this.__isAsync&&(f=this.wrapInTimeout(f),l&&(l=this.wrapInTimeout(l)),v&&(v=this.wrapInTimeout(v)));const Y=super.subscribe({next:l,error:f,complete:v});return t instanceof Jt.yU&&t.add(Y),Y}wrapInTimeout(t){return r=>{var o;const l=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var f;t(r),void 0!==l&&(null===(f=this.pendingTasks)||void 0===f||f.remove(l))})}}};function ku(...e){}function ip(e){let t,r;function o(){e=ku;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Md(e){return queueMicrotask(()=>e()),()=>{e=ku}}const T="isAngularZone",g=T+"_ID";let _=0;class D{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:f=Nu}=t;if(typeof Zone>"u")throw new St(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!l&&o,v.shouldCoalesceRunChangeDetection=l,v.callbackScheduled=!1,v.scheduleInRootZone=f,function Lt(e){const t=()=>{!function Je(e){function t(){ip(()=>{e.callbackScheduled=!1,gn(e),e.isCheckStableRunning=!0,ue(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),gn(e))}(e)},r=_++;e._inner=e._inner.fork({name:"angular",properties:{[T]:!0,[g]:r,[g+r]:!0},onInvokeTask:(o,l,f,v,w,R)=>{if(function Oo(e){return Lu(e,"__ignore_ng_zone__")}(R))return o.invokeTask(f,v,w,R);try{return Wn(e),o.invokeTask(f,v,w,R)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||e.shouldCoalesceRunChangeDetection)&&t(),fr(e)}},onInvoke:(o,l,f,v,w,R,G)=>{try{return Wn(e),o.invoke(f,v,w,R,G)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Ga(e){return Lu(e,"__scheduler_tick__")}(R)&&t(),fr(e)}},onHasTask:(o,l,f,v)=>{o.hasTask(f,v),l===f&&("microTask"==v.change?(e._hasPendingMicrotasks=v.microTask,gn(e),ue(e)):"macroTask"==v.change&&(e.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,l,f,v)=>(o.handleError(f,v),e.runOutsideAngular(()=>e.onError.emit(v)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(T)}static assertInAngularZone(){if(!D.isInAngularZone())throw new St(909,!1)}static assertNotInAngularZone(){if(D.isInAngularZone())throw new St(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,l){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+l,t,q,ku,ku);try{return f.runTask(v,r,o)}finally{f.cancelTask(v)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const q={};function ue(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function gn(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Wn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fr(e){e._nesting--,ue(e)}class lr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,l){return t.apply(r,o)}}function Lu(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class Ea{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&ol(t);for(;r&&ol(r);)r=ol(r);return r||null}}const Nd=new Er("",{providedIn:"root",factory:()=>{const e=Rt(D),t=Rt(Ea);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Wh(){return $l(ai(),dn())}function $l(e,t){return new Fu(Us(e,t))}let Fu=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=Wh,t})();function ev(e){return e instanceof Fu?e.nativeElement:e}function tv(){return this._results[Symbol.iterator]()}class ap{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Oa}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=ap.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=tv)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function Qi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function fo(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],f=t[o];if(r&&(l=r(l),f=r(f)),f!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Kh(e){return!(128&~e.flags)}const nm=new Map;let rm=0;function qh(e){nm.delete(e[Os])}const dp="__ngContext__";function $s(e,t){uo(t)?(e[dp]=t[Os],function im(e){nm.set(e[Os],e)}(t)):e[dp]=t}function mp(e){return _p(e[qs])}function lv(e){return _p(e[Si])}function _p(e){for(;null!==e&&!wo(e);)e=e[Si];return e}let dm;function hm(e){dm=e}const Fd=new Er("",{providedIn:"root",factory:()=>Ip}),Ip="ng",Ep=new Er(""),Ap=new Er("",{providedIn:"platform",factory:()=>"unknown"}),fm=new Er("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Vu(){if(void 0!==dm)return dm;if(typeof document<"u")return document;throw new St(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Cp=()=>null;function _m(e,t,r=!1){return Cp(e,t,r)}const js=new Er("",{providedIn:"root",factory:()=>!1});let bp;function $0(e){var t;return(null===(t=function bm(){if(void 0===bp&&(bp=null,Mn.trustedTypes))try{bp=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bp}())||void 0===t?void 0:t.createScriptURL(e))||e}class ko{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bt})`}}function Hu(e){return e instanceof ko?e.changingThisBreaksApplicationSecurity:e}function rf(e,t){const r=function H0(e){return e instanceof ko&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Bt})`)}return r===t}const Wc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(zl||{});function xp(e){const t=qc();return t?t.sanitize(zl.URL,e)||"":rf(e,"URL")?Hu(e):function Hd(e){return(e=String(e)).match(Wc)?e:"unsafe:"+e}(st(e))}function Np(e){const t=qc();if(t)return $0(t.sanitize(zl.RESOURCE_URL,e)||"");if(rf(e,"ResourceURL"))return $0(Hu(e));throw new St(904,!1)}function Xc(e,t,r){return function K0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Np:xp}(t,r)(e)}function qc(){const e=dn();return e&&e[ys].sanitizer}const X0=/^>|^->|<!--|-->|--!>|<!-$/g,Op=/(<|>)/g,q0="\u200b$1\u200b";function Wa(e){return e instanceof Function?e():e}var Bp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bp||{});let $p;function $m(e,t){return $p(e,t)}function qu(e,t,r,o,l){if(null!=o){let f,v=!1;wo(o)?f=o:uo(o)&&(v=!0,o=o[jn]);const w=yi(o);0===e&&null!==r?null==l?jv(t,r,w):Qc(t,r,w,l||null,!0):1===e&&null!==r?Qc(t,r,w,l||null,!0):2===e?function Gp(e,t,r){e.removeChild(null,t,r)}(t,w,v):3===e&&t.destroyNode(w),null!=f&&function Xm(e,t,r,o,l){const f=r[aa];f!==yi(r)&&qu(t,e,o,f,l);for(let w=Co;w<r.length;w++){const R=r[w];Km(R[rn],R,e,t,o,f)}}(t,e,f,r,l)}}function jm(e,t){return e.createComment(function Nv(e){return e.replace(X0,t=>t.replace(Op,q0))}(t))}function jp(e,t,r){return e.createElement(t,r)}function aI(e,t){var r;null===(r=t[ys].changeDetectionScheduler)||void 0===r||r.notify(9),Km(e,t,t[Fr],2,null,null)}function lI(e,t){const r=e[Pl],o=t[Jr];(uo(o)||t[lo]!==o[Jr][lo])&&(e[Kn]|=pc.HasTransplantedViews),null===r?e[Pl]=[t]:r.push(t)}function zm(e,t){const r=e[Pl],o=r.indexOf(t);r.splice(o,1)}function cf(e,t){if(e.length<=Co)return;const r=Co+t,o=e[r];if(o){const l=o[sa];null!==l&&l!==e&&zm(l,o),t>0&&(e[r-1][Si]=o[Si]);const f=is(e,Co+t);!function oI(e,t){aI(e,t),t[jn]=null,t[di]=null}(o[rn],o);const v=f[no];null!==v&&v.detachView(f[rn]),o[Jr]=null,o[Si]=null,o[Kn]&=-129}return o}function zp(e,t){if(!(256&t[Kn])){const r=t[Fr];r.destroyNode&&Km(e,t,r,3,null,null),function _A(e){let t=e[qs];if(!t)return Uv(e[rn],e);for(;t;){let r=null;if(uo(t))r=t[qs];else{const o=t[Co];o&&(r=o)}if(!r){for(;t&&!t[Si]&&t!==e;)uo(t)&&Uv(t[rn],t),t=t[Jr];null===t&&(t=e),uo(t)&&Uv(t[rn],t),r=t&&t[Si]}t=r}}(t)}}function Uv(e,t){if(256&t[Kn])return;const r=ce(null);try{t[Kn]&=-129,t[Kn]|=256,t[Ui]&&yt(t[Ui]),function Bv(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=t[r[o]];if(!(l instanceof Pc)){const f=r[o+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const w=l[f[v]],R=f[v+1];Vs(4,w,R);try{R.call(w)}finally{Vs(5,w,R)}}else{Vs(4,l,f);try{f.call(l)}finally{Vs(5,l,f)}}}}}(e,t),function uI(e,t){const r=e.cleanup,o=t[oa];if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const v=r[f+3];v>=0?o[v]():o[-v].unsubscribe(),f+=2}else r[f].call(o[r[f+1]]);null!==o&&(t[oa]=null);const l=t[Is];if(null!==l){t[Is]=null;for(let f=0;f<l.length;f++)(0,l[f])()}}(e,t),1===t[rn].type&&t[Fr].destroy();const o=t[sa];if(null!==o&&wo(t[Jr])){o!==t[Jr]&&zm(o,t);const l=t[no];null!==l&&l.detachView(e)}qh(t)}finally{ce(r)}}function Gl(e,t,r){return function $v(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[jn];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:f}=e.data[o.directiveStart+l];if(f===gr.None||f===gr.Emulated)return null}return Us(o,r)}}(e,t.parent,r)}function Qc(e,t,r,o,l){e.insertBefore(t,r,o,l)}function jv(e,t,r){e.appendChild(t,r)}function zv(e,t,r,o,l){null!==o?Qc(e,t,r,o,l):jv(e,t,r)}function Hm(e,t){return e.parentNode(t)}function Hv(e,t,r){return hI(e,t,r)}let Gv,hI=function dI(e,t,r){return 40&e.type?Us(e,r):null};function Hp(e,t,r,o){const l=Gl(e,o,t),f=t[Fr],w=Hv(o.parent||t[di],o,t);if(null!=l)if(Array.isArray(r))for(let R=0;R<r.length;R++)zv(f,l,r[R],w,!1);else zv(f,l,r,w,!1);void 0!==Gv&&Gv(f,o,t,r,l)}function Zd(e,t){if(null!==t){const r=t.type;if(3&r)return Us(t,e);if(4&r)return Wv(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Zd(e,o);{const l=e[t.index];return wo(l)?Wv(-1,l):yi(l)}}if(128&r)return Zd(e,t.next);if(32&r)return $m(t,e)()||yi(e[t.index]);{const o=fI(e,t);return null!==o?Array.isArray(o)?o[0]:Zd(Sa(e[lo]),o):Zd(e,t.next)}}return null}function fI(e,t){return null!==t?e[lo][di].projection[t.projection]:null}function Wv(e,t){const r=Co+e+1;if(r<t.length){const o=t[r],l=o[rn].firstChild;if(null!==l)return Zd(o,l)}return t[aa]}function Wp(e,t,r,o,l,f,v){for(;null!=r;){if(128===r.type){r=r.next;continue}const w=o[r.index],R=r.type;if(v&&0===t&&(w&&$s(yi(w),o),r.flags|=2),32&~r.flags)if(8&R)Wp(e,t,r.child,o,l,f,!1),qu(t,e,l,w,f);else if(32&R){const G=$m(r,o);let Y;for(;Y=G();)qu(t,e,l,Y,f);qu(t,e,l,w,f)}else 16&R?pI(e,t,o,r,l,f):qu(t,e,l,w,f);r=v?r.projectionNext:r.next}}function Km(e,t,r,o,l,f){Wp(r,o,e.firstChild,t,l,f,!1)}function pI(e,t,r,o,l,f){const v=r[lo],R=v[di].projection[o.projection];if(Array.isArray(R))for(let G=0;G<R.length;G++)qu(t,e,l,R[G],f);else{let G=R;const Y=v[Jr];Kh(o)&&(G.flags|=128),Wp(e,t,G,Y,l,f,!0)}}function Kv(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Xp(e,t,r){const{mergedAttrs:o,classes:l,styles:f}=r;null!==o&&Rs(e,t,o),null!==l&&Kv(e,t,l),null!==f&&function gI(e,t,r){e.setAttribute(t,"style",r)}(e,t,f)}const hi={};function qm(e=1){Qd(ei(),dn(),us()+e,!1)}function Qd(e,t,r,o){if(!o)if(3&~t[Kn]){const f=e.preOrderHooks;null!==f&&ml(t,f,0,r)}else{const f=e.preOrderCheckHooks;null!==f&&Ll(t,f,r)}bo(r)}function Zu(e,t=bn.Default){const r=dn();return null===r?it(e,t):Ul(ai(),r,dt(e),t)}function Xv(){throw new Error("invalid")}function qv(e,t,r,o,l,f){const v=ce(null);try{let w=null;l&$r.SignalBased&&(w=t[o][Se]),null!==w&&void 0!==w.transformFn&&(f=w.transformFn(f)),l&$r.HasDecoratorInputTransform&&(f=e.inputTransforms[o].call(t,f)),null!==e.setInput?e.setInput(t,w,f,r,o):As(t,w,o,f)}finally{ce(v)}}function Yc(e,t,r,o,l,f,v,w,R,G,Y){const ae=t.blueprint.slice();return ae[jn]=l,ae[Kn]=204|o,(null!==G||e&&2048&e[Kn])&&(ae[Kn]|=2048),Ih(ae),ae[Jr]=ae[Ia]=e,ae[qr]=r,ae[ys]=v||e&&e[ys],ae[Fr]=w||e&&e[Fr],ae[Sr]=R||e&&e[Sr]||null,ae[di]=f,ae[Os]=function iv(){return rm++}(),ae[Ji]=Y,ae[wa]=G,ae[lo]=2==t.type?e[lo]:ae,ae}function Jc(e,t,r,o,l){let f=e.data[t];if(null===f)f=function qp(e,t,r,o,l){const f=Th(),v=Tc(),R=e.data[t]=function nd(e,t,r,o,l,f){let v=t?t.injectorIndex:-1,w=0;return nu()&&(w|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,r,t,o,l);return null===e.firstChild&&(e.firstChild=R),null!==f&&(v?null==f.child&&null!==R.parent&&(f.child=R):null===f.next&&(f.next=R,R.prev=f)),R}(e,t,r,o,l),function Hf(){return Qr.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=r,f.value=o,f.attrs=l;const v=function fl(){const e=Qr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Zs(f,!0),f}function Yd(e,t,r,o){if(0===r)return-1;const l=t.length;for(let f=0;f<r;f++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function Qu(e,t,r,o,l){const f=us(),v=2&o;try{bo(-1),v&&t.length>wr&&Qd(e,t,wr,!1),Vs(v?2:0,l),r(o,l)}finally{bo(f),Vs(v?3:1,l)}}function ka(e,t,r){if(Ya(t)){const o=ce(null);try{const f=t.directiveEnd;for(let v=t.directiveStart;v<f;v++){const w=e.data[v];w.contentQueries&&w.contentQueries(1,r[v],v)}}finally{ce(o)}}}function Qs(e,t,r){Ic()&&(function Ym(e,t,r,o){const l=r.directiveStart,f=r.directiveEnd;ba(r)&&function ay(e,t,r){const o=Us(t,e),l=Zm(r);let v=16;r.signals?v=4096:r.onPush&&(v=64);const w=c(e,Yc(e,l,null,v,o,t,null,e[ys].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=w}(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||vl(r,t),$s(o,t);const v=r.initialInputs;for(let w=l;w<f;w++){const R=e.data[w],G=No(t,e,w,r);$s(G,t),null!==v&&u(0,w-l,G,R,0,v),Es(R)&&(Bs(r.index,t)[qr]=No(t,e,w,r))}}(e,t,r,Us(r,t)),!(64&~r.flags)&&ny(e,t,r))}function Zp(e,t,r=Us){const o=t.localNames;if(null!==o){let l=t.index+1;for(let f=0;f<o.length;f+=2){const v=o[f+1],w=-1===v?r(t,e):e[v];e[l++]=w}}}function Zm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ed(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ed(e,t,r,o,l,f,v,w,R,G,Y){const ae=wr+o,Ve=ae+l,Ye=function df(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:hi);return r}(ae,Ve),Xe="function"==typeof G?G():G;return Ye[rn]={type:e,blueprint:Ye,template:r,queries:null,viewQuery:w,declTNode:t,data:Ye.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:R,consts:Xe,incompleteFirstPass:!1,ssrId:Y}}let Qp=()=>null;function Qv(e,t,r,o,l){for(let v in t){var f;if(!t.hasOwnProperty(v))continue;const w=t[v];if(void 0===w)continue;null!==(f=o)&&void 0!==f||(o={});let R,G=$r.None;Array.isArray(w)?(R=w[0],G=w[1]):R=w;let Y=v;if(null!==l){if(!l.hasOwnProperty(v))continue;Y=l[v]}0===e?Yv(o,r,Y,R,G):Yv(o,r,Y,R)}return o}function Yv(e,t,r,o,l){let f;e.hasOwnProperty(r)?(f=e[r]).push(t,o):f=e[r]=[t,o],void 0!==l&&f.push(l)}function La(e,t,r,o,l,f,v,w){const R=Us(t,r);let Y,G=t.inputs;!w&&null!=G&&(Y=G[o])?(Pe(e,r,Y,o,l),ba(t)&&function Jv(e,t){const r=Bs(t,e);16&r[Kn]||(r[Kn]|=64)}(r,t.index)):3&t.type&&(o=function vI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=v?v(l,t.value||"",o):l,f.setProperty(R,o,l))}function Yp(e,t,r,o){if(Ic()){const l=null===o?null:{"":-1},f=function iy(e,t){const r=e.directiveRegistry;let o=null,l=null;if(r)for(let v=0;v<r.length;v++){const w=r[v];if(va(t,w.selectors,!1))if(o||(o=[]),Es(w))if(null!==w.findHostDirectiveDefs){const R=[];l=l||new Map,w.findHostDirectiveDefs(w,R,l),o.unshift(...R,w),Jm(e,t,R.length)}else o.unshift(w),Jm(e,t,0);else{var f;l=l||new Map,null===(f=w.findHostDirectiveDefs)||void 0===f||f.call(w,w,o,l),o.push(w)}}return null===o?null:[o,l]}(e,r);let v,w;null===f?v=w=null:[v,w]=f,null!==v&&hf(e,t,r,v,l,w),l&&function oy(e,t,r){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const f=r[t[l+1]];if(null==f)throw new St(-301,!1);o.push(t[l],f)}}}(r,o,l)}r.mergedAttrs=ms(r.mergedAttrs,r.attrs)}function hf(e,t,r,o,l,f){for(let ae=0;ae<o.length;ae++)su(vl(r,t),e,o[ae].type);!function EI(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let ae=0;ae<o.length;ae++){const Ve=o[ae];Ve.providersResolver&&Ve.providersResolver(Ve)}let v=!1,w=!1,R=Yd(e,t,o.length,null);for(let ae=0;ae<o.length;ae++){const Ve=o[ae];r.mergedAttrs=ms(r.mergedAttrs,Ve.hostAttrs),AI(e,r,t,R,Ve),sy(R,Ve,l),null!==Ve.contentQueries&&(r.flags|=4),(null!==Ve.hostBindings||null!==Ve.hostAttrs||0!==Ve.hostVars)&&(r.flags|=64);const Ye=Ve.type.prototype;var G,Y;!v&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((null!==(G=e.preOrderHooks)&&void 0!==G?G:e.preOrderHooks=[]).push(r.index),v=!0),w||!Ye.ngOnChanges&&!Ye.ngDoCheck||((null!==(Y=e.preOrderCheckHooks)&&void 0!==Y?Y:e.preOrderCheckHooks=[]).push(r.index),w=!0),R++}!function _I(e,t,r){const l=t.directiveEnd,f=e.data,v=t.attrs,w=[];let R=null,G=null;for(let Y=t.directiveStart;Y<l;Y++){const ae=f[Y],Ve=r?r.get(ae):null,Xe=Ve?Ve.outputs:null;R=Qv(0,ae.inputs,Y,R,Ve?Ve.inputs:null),G=Qv(1,ae.outputs,Y,G,Xe);const sn=null===R||null===v||oo(t)?null:n(R,Y,v);w.push(sn)}null!==R&&(R.hasOwnProperty("class")&&(t.flags|=8),R.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=w,t.inputs=R,t.outputs=G}(e,r,f)}function ny(e,t,r){const o=r.directiveStart,l=r.directiveEnd,f=r.index,v=function Wf(){return Qr.lFrame.currentDirectiveIndex}();try{bo(f);for(let w=o;w<l;w++){const R=e.data[w],G=t[w];bh(w),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&ry(R,G)}}finally{bo(-1),bh(v)}}function ry(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Jm(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function sy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Es(t)&&(r[""]=e)}}function AI(e,t,r,o,l){e.data[o]=l;const f=l.factory||(l.factory=bi(l.type)),v=new Pc(f,Es(l),Zu);e.blueprint[o]=v,r[o]=v,function ty(e,t,r,o,l){const f=l.hostBindings;if(f){let v=e.hostBindingOpCodes;null===v&&(v=e.hostBindingOpCodes=[]);const w=~t.index;(function II(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(v)!=w&&v.push(w),v.push(r,o,f)}}(e,t,o,Yd(e,r,l.hostVars,hi),l)}function wl(e,t,r,o,l,f){const v=Us(e,t);!function e_(e,t,r,o,l,f,v){if(null==f)e.removeAttribute(t,l,r);else{const w=null==v?st(f):v(f,o||"",l);e.setAttribute(t,l,w,r)}}(t[Fr],v,f,e.value,r,o,l)}function u(e,t,r,o,l,f){const v=f[t];if(null!==v)for(let w=0;w<v.length;)qv(o,r,v[w++],v[w++],v[w++],v[w++])}function n(e,t,r){let o=null,l=0;for(;l<r.length;){const f=r[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===o&&(o=[]);const v=e[f];for(let w=0;w<v.length;w+=3)if(v[w]===t){o.push(f,v[w+1],v[w+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function i(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function a(e,t){const r=e.contentQueries;if(null!==r){const o=ce(null);try{for(let l=0;l<r.length;l+=2){const v=r[l+1];if(-1!==v){const w=e.data[v];wc(r[l]),w.contentQueries(2,t[v],v)}}}finally{ce(o)}}}function c(e,t){return e[qs]?e[xi][Si]=t:e[qs]=t,e[xi]=t,t}function m(e,t,r){wc(0);const o=ce(null);try{t(e,r)}finally{ce(o)}}function M(e){var t;return null!==(t=e[oa])&&void 0!==t?t:e[oa]=[]}function U(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function fe(e,t){const r=e[Sr],o=r?r.get(Ea,null):null;o&&o.handleError(t)}function Pe(e,t,r,o,l){for(let f=0;f<r.length;){const v=r[f++],w=r[f++],R=r[f++];qv(e.data[v],t[v],o,w,R,l)}}function nt(e,t,r){const o=Tu(t,e);!function Vv(e,t,r){e.setValue(t,r)}(e[Fr],o,r)}function Qt(e,t){const r=Bs(t,e),o=r[rn];!function En(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const l=r[jn];null!==l&&null===r[Ji]&&(r[Ji]=_m(l,r[Sr])),Vn(o,r,r[qr])}function Vn(e,t,r){Ed(t);try{var o;const l=e.viewQuery;null!==l&&m(1,l,r);const f=e.template;null!==f&&Qu(e,t,f,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[no])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&a(e,t),e.staticViewQueries&&m(2,e.viewQuery,r);const v=e.components;null!==v&&function Rn(e,t){for(let r=0;r<t.length;r++)Qt(e,t[r])}(t,v)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[Kn]&=-5,Mh()}}function mr(e,t,r,o){const l=ce(null);try{var f,v,w;const R=t.tView,ae=Yc(e,R,r,4096&e[Kn]?4096:16,null,t,null,null,null!==(f=null==o?void 0:o.injector)&&void 0!==f?f:null,null!==(v=null==o?void 0:o.embeddedViewInjector)&&void 0!==v?v:null,null!==(w=null==o?void 0:o.dehydratedView)&&void 0!==w?w:null);ae[sa]=e[t.index];const Ye=e[no];return null!==Ye&&(ae[no]=Ye.createEmbeddedView(R)),Vn(R,ae,r),ae}finally{ce(l)}}function Ar(e,t){return!t||null===t.firstChild||Kh(e)}function jr(e,t,r,o=!0){const l=t[rn];if(function vA(e,t,r,o){const l=Co+o,f=r.length;o>0&&(r[l-1][Si]=t),o<f-Co?(t[Si]=r[l],po(r,Co+o,t)):(r.push(t),t[Si]=null),t[Jr]=r;const v=t[sa];null!==v&&r!==v&&lI(v,t);const w=t[no];null!==w&&w.insertView(e),za(t),t[Kn]|=128}(l,t,e,r),o){const v=Wv(r,e),w=t[Fr],R=Hm(w,e[aa]);null!==R&&function sI(e,t,r,o,l,f){o[jn]=l,o[di]=t,Km(e,o,r,1,l,f)}(l,e[di],w,t,R,v)}const f=t[Ji];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function ti(e,t,r,o,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const f=t[r.index];null!==f&&o.push(yi(f)),wo(f)&&Nt(f,o);const v=r.type;if(8&v)ti(e,t,r.child,o);else if(32&v){const w=$m(r,t);let R;for(;R=w();)o.push(R)}else if(16&v){const w=fI(t,r);if(Array.isArray(w))o.push(...w);else{const R=Sa(t[lo]);ti(R[rn],R,w,o,!0)}}r=l?r.projectionNext:r.next}return o}function Nt(e,t){for(let r=Co;r<e.length;r++){const o=e[r],l=o[rn].firstChild;null!==l&&ti(o[rn],o,l,t)}e[aa]!==e[jn]&&t.push(e[aa])}let et=[];const en={...be,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{el(e.lView)},consumerOnSignalRead(){this.lView[Ui]=this}},du={...be,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Sa(e.lView);for(;t&&!eh(t[rn]);)t=Sa(t);t&&dd(t)},consumerOnSignalRead(){this.lView[Ui]=this}};function eh(e){return 2!==e.type}const TI=100;function Yu(e,t=!0,r=0){const o=e[ys],l=o.rendererFactory;var v;null===(v=l.begin)||void 0===v||v.call(l);try{!function ff(e,t){const r=ru();try{Cc(!0),rd(e,t);let o=0;for(;fd(e);){if(o===TI)throw new St(103,!1);o++,rd(e,1)}}finally{Cc(r)}}(e,r)}catch(G){throw t&&fe(e,G),G}finally{var w,R;null===(w=l.end)||void 0===w||w.call(l),null===(R=o.inlineEffectRunner)||void 0===R||R.flush()}}function ly(e,t,r,o){var l;const f=t[Kn];if(!(256&~f))return;null===(l=t[ys].inlineEffectRunner)||void 0===l||l.flush(),Ed(t);let R=!0,G=null,Y=null;eh(e)?(Y=function Et(e){var t;return null!==(t=e[Ui])&&void 0!==t?t:function Ft(e){var t;const r=null!==(t=et.pop())&&void 0!==t?t:Object.create(en);return r.lView=e,r}(e)}(t),G=ot(Y)):null===function Me(){return p}()?(R=!1,Y=function mt(e){var t;const r=null!==(t=e[Ui])&&void 0!==t?t:Object.create(du);return r.lView=e,r}(t),G=ot(Y)):t[Ui]&&(yt(t[Ui]),t[Ui]=null);try{Ih(t),function wh(e){return Qr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Qu(e,t,r,2,o);const ae=!(3&~f);if(ae){const Xe=e.preOrderCheckHooks;null!==Xe&&Ll(t,Xe,null)}else{const Xe=e.preOrderHooks;null!==Xe&&ml(t,Xe,0,null),_l(t,0)}if(function Ju(e){for(let t=mp(e);null!==t;t=lv(t)){if(!(t[Kn]&pc.HasTransplantedViews))continue;const r=t[Pl];for(let o=0;o<r.length;o++)dd(r[o])}}(t),uy(t,0),null!==e.contentQueries&&a(e,t),ae){const Xe=e.contentCheckHooks;null!==Xe&&Ll(t,Xe)}else{const Xe=e.contentHooks;null!==Xe&&ml(t,Xe,1),_l(t,1)}!function Zv(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)bo(~l);else{const f=l,v=r[++o],w=r[++o];yd(v,f),w(2,t[f])}}}finally{bo(-1)}}(e,t);const Ve=e.components;null!==Ve&&dy(t,Ve,0);const Ye=e.viewQuery;if(null!==Ye&&m(2,Ye,o),ae){const Xe=e.viewCheckHooks;null!==Xe&&Ll(t,Xe)}else{const Xe=e.viewHooks;null!==Xe&&ml(t,Xe,2),_l(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Rl]){for(const Xe of t[Rl])Xe();t[Rl]=null}t[Kn]&=-73}catch(ae){throw el(t),ae}finally{null!==Y&&(ft(Y,G),R&&function $t(e){e.lView[Ui]!==e&&(e.lView=null,et.push(e))}(Y)),Mh()}}function uy(e,t){for(let r=mp(e);null!==r;r=lv(r))for(let o=Co;o<r.length;o++)cy(r[o],t)}function fa(e,t,r){cy(Bs(t,e),r)}function cy(e,t){vc(e)&&rd(e,t)}function rd(e,t){const o=e[rn],l=e[Kn],f=e[Ui];let v=!!(0===t&&16&l);if(v||(v=!!(64&l&&0===t)),v||(v=!!(1024&l)),v||(v=!(null==f||!f.dirty||!Dt(f))),v||(v=!1),f&&(f.dirty=!1),e[Kn]&=-9217,v)ly(o,e,o.template,e[qr]);else if(8192&l){uy(e,1);const w=o.components;null!==w&&dy(e,w,1)}}function dy(e,t,r){for(let o=0;o<t.length;o++)fa(e,t[o],r)}function hu(e,t){var r;const o=ru()?64:1088;for(null===(r=e[ys].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[Kn]|=o;const l=Sa(e);if(Ja(e)&&!l)return e;e=l}return null}class pf{get rootNodes(){const t=this._lView,r=t[rn];return ti(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qr]}set context(t){this._lView[qr]=t}get destroyed(){return!(256&~this._lView[Kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Jr];if(wo(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(cf(t,o),is(r,o))}this._attachedToViewContainer=!1}zp(this._lView[rn],this._lView)}onDestroy(t){Ha(this._lView,t)}markForCheck(){hu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Kn]&=-129}reattach(){za(this._lView),this._lView[Kn]|=128}detectChanges(){this._lView[Kn]|=1024,Yu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new St(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ja(this._lView),r=this._lView[sa];null!==r&&!t&&zm(r,this._lView),aI(this._lView[rn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new St(902,!1);this._appRef=t;const r=Ja(this._lView),o=this._lView[sa];null!==o&&!r&&lI(o,this._lView),za(this._lView)}}let gf=(()=>{class t{}return t.__NG_ELEMENT_ID__=t_,t})();const eg=gf,tg=class extends eg{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const l=mr(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new pf(l)}};function t_(){return th(ai(),dn())}function th(e,t){return 4&e.type?new tg(t,e,$l(e,t)):null}let dh=()=>null;function oc(e,t){return dh(e,t)}class sd{}const Wl=new Er("",{providedIn:"root",factory:()=>!1}),Py=new Er(""),__=new Er("");class sc{}class My{}class xy{resolveComponentFactory(t){throw function BI(e){const t=Error(`No component factory found for ${In(e)}.`);return t.ngComponent=e,t}(t)}}class _u{}_u.NULL=new xy;class ad{}let Ny=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function y_(){const e=dn(),r=Bs(ai().index,e);return(uo(r)?r:e)[Fr]}(),t})(),rs=(()=>{var e;class t{}return(e=t).\u0275prov=Vr({token:e,providedIn:"root",factory:()=>null}),t})();function ac(e){return!!Gi(e)}function ph(e,t,r){let o=r?e.styles:null,l=r?e.classes:null,f=0;if(null!==t)for(let v=0;v<t.length;v++){const w=t[v];"number"==typeof w?f=w:1==f?l=Wt(l,w):2==f&&(o=Wt(o,w+": "+t[++v]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}class Pf extends _u{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Mr(t);return new Mf(r,this.ngModule)}}function T_(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const f=Array.isArray(l),v=f?l[0]:l;r.push(t?{propName:v,templateName:o,isSignal:!!((f?l[1]:$r.None)&$r.SignalBased)}:{propName:v,templateName:o})}return r}class Mf extends My{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=T_(t.inputs,!0);if(null!==r)for(const l of o)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return o}get outputs(){return T_(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function _r(e){return e.map(yn).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,l){const f=ce(null);try{var w;let R=(l=l||this.ngModule)instanceof es?l:null===(w=l)||void 0===w?void 0:w.injector;R&&null!==this.componentDef.getStandaloneInjector&&(R=this.componentDef.getStandaloneInjector(R)||R);const G=R?new ua(t,R):t,Y=G.get(ad,null);if(null===Y)throw new St(407,!1);const Ye={rendererFactory:Y,sanitizer:G.get(rs,null),inlineEffectRunner:null,changeDetectionScheduler:G.get(sd,null)},Xe=Y.createRenderer(null,this.componentDef),sn=this.componentDef.selectors[0][0]||"div",An=o?function Aa(e,t,r,o){const f=o.get(js,!1)||r===gr.ShadowDom,v=e.selectRootElement(t,f);return function mI(e){Qp(e)}(v),v}(Xe,o,this.componentDef.encapsulation,G):jp(Xe,sn,function dg(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(sn));let kn=512;this.componentDef.signals?kn|=4096:this.componentDef.onPush||(kn|=16);let fn=null;null!==An&&(fn=_m(An,G,!0));const Gr=ed(0,null,null,1,0,null,null,null,null,null,null),oi=Yc(null,Gr,null,kn,null,null,Ye,Xe,G,null,fn);Ed(oi);let So,na,Va=null;try{const Sl=this.componentDef;let Bf,nA=null;Sl.findHostDirectiveDefs?(Bf=[],nA=new Map,Sl.findHostDirectiveDefs(Sl,Bf,nA),Bf.push(Sl)):Bf=[Sl];const Gx=function xf(e,t){const r=e[rn],o=wr;return e[o]=t,Jc(r,o,2,"#host",null)}(oi,An);Va=function Ly(e,t,r,o,l,f,v){const w=l[rn];!function Fy(e,t,r,o){for(const l of e)t.mergedAttrs=ms(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(ph(t,t.mergedAttrs,!0),null!==r&&Xp(o,r,t))}(o,e,t,v);let R=null;null!==t&&(R=_m(t,l[Sr]));const G=f.rendererFactory.createRenderer(t,r);let Y=16;r.signals?Y=4096:r.onPush&&(Y=64);const ae=Yc(l,Zm(r),null,Y,l[e.index],e,f,G,null,null,R);return w.firstCreatePass&&Jm(w,e,o.length-1),c(l,ae),l[e.index]=ae}(Gx,An,Sl,Bf,oi,Ye,Xe),na=Ol(Gr,wr),An&&function w_(e,t,r,o){if(o)Rs(e,r,["ng-version","18.2.13"]);else{const{attrs:l,classes:f}=function li(e){const t=[],r=[];let o=1,l=2;for(;o<e.length;){let f=e[o];if("string"==typeof f)2===l?""!==f&&t.push(f,e[++o]):8===l&&r.push(f);else{if(!Wo(l))break;l=f}o++}return{attrs:t,classes:r}}(t.selectors[0]);l&&Rs(e,r,l),f&&f.length>0&&Kv(e,r,f.join(" "))}}(Xe,Sl,An,o),void 0!==r&&function Vy(e,t,r){const o=e.projection=[];for(let l=0;l<t.length;l++){const f=r[l];o.push(null!=f?Array.from(f):null)}}(na,this.ngContentSelectors,r),So=function C_(e,t,r,o,l,f){const v=ai(),w=l[rn],R=Us(v,l);hf(w,l,v,r,null,o);for(let Y=0;Y<r.length;Y++)$s(No(l,w,v.directiveStart+Y,v),l);ny(w,l,v),R&&$s(R,l);const G=No(l,w,v.directiveStart+v.componentOffset,v);if(e[qr]=l[qr]=G,null!==f)for(const Y of f)Y(G,t);return ka(w,v,l),G}(Va,Sl,Bf,nA,oi,[hg]),Vn(Gr,oi,null)}catch(Sl){throw null!==Va&&qh(Va),qh(oi),Sl}finally{Mh()}return new ky(this.componentType,So,$l(na,oi),oi,na)}finally{ce(f)}}}class ky extends sc{constructor(t,r,o,l,f){super(),this.location=o,this._rootLView=l,this._tNode=f,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new pf(l,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[t])){var f;if(null!==(f=this.previousInputValues)&&void 0!==f||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const v=this._rootLView;Pe(v[rn],v,l,t,r),this.previousInputValues.set(t,r),hu(Bs(this._tNode.index,v),1)}}get injector(){return new ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hg(){const e=ai();Dc(dn()[rn],e)}let Nf=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uy,t})();function Uy(){return S_(ai(),dn())}const ld=Nf,b_=class extends ld{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return $l(this._hostTNode,this._hostLView)}get injector(){return new ns(this._hostTNode,this._hostLView)}get parentInjector(){const t=Mu(this._hostTNode,this._hostLView);if(xc(t)){const r=Ru(t,this._hostLView),o=rl(t);return new ns(r[rn].data[o+8],r)}return new ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=D_(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Co}createEmbeddedView(t,r,o){let l,f;"number"==typeof o?l=o:null!=o&&(l=o.index,f=o.injector);const v=oc(this._lContainer,t.ssrId),w=t.createEmbeddedViewImpl(r||{},f,v);return this.insertImpl(w,l,Ar(this._hostTNode,v)),w}createComponent(t,r,o,l,f){var v,w,R;const G=t&&!function y(e){return"function"==typeof e}(t);let Y;if(G)Y=r;else{const kn=r||{};Y=kn.index,o=kn.injector,l=kn.projectableNodes,f=kn.environmentInjector||kn.ngModuleRef}const ae=G?t:new Mf(Mr(t)),Ve=o||this.parentInjector;if(!f&&null==ae.ngModule){const fn=(G?Ve:this.parentInjector).get(es,null);fn&&(f=fn)}const Ye=Mr(null!==(v=ae.componentType)&&void 0!==v?v:{}),Xe=oc(this._lContainer,null!==(w=null==Ye?void 0:Ye.id)&&void 0!==w?w:null),sn=null!==(R=null==Xe?void 0:Xe.firstChild)&&void 0!==R?R:null,An=ae.create(Ve,l,sn,f);return this.insertImpl(An.hostView,Y,Ar(this._hostTNode,Xe)),An}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const l=t._lView;if(function eu(e){return wo(e[Jr])}(l)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const R=l[Jr],G=new b_(R,R[di],R[Jr]);G.detach(G.indexOf(t))}}const f=this._adjustIndex(r),v=this._lContainer;return jr(v,l,f,o),t.attachToViewContainerRef(),po(fg(v),f,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=D_(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=cf(this._lContainer,r);o&&(is(fg(this._lContainer),r),zp(o[rn],o))}detach(t){const r=this._adjustIndex(t,-1),o=cf(this._lContainer,r);return o&&null!=is(fg(this._lContainer),r)?new pf(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function D_(e){return e[8]}function fg(e){return e[8]||(e[8]=[])}function S_(e,t){let r;const o=t[e.index];return wo(o)?r=o:(r=i(o,t,null,e),t[e.index]=r,c(t,r)),Fa(r,t,e,o),new b_(r,e,t)}let Fa=function ud(e,t,r,o){if(e[aa])return;let l;l=8&r.type?yi(o):function pg(e,t){const r=e[Fr],o=r.createComment(""),l=Us(t,e);return Qc(r,Hm(r,l),o,function cI(e,t){return e.nextSibling(t)}(r,l),!1),o}(t,r),e[aa]=l},gg=()=>!1;class we{constructor(t){this.queryList=t,this.matches=null}clone(){return new we(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ht{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,l=[];for(let f=0;f<o;f++){const v=r.getByIndex(f);l.push(this.queries[v.indexInDeclarationView].clone())}return new Ht(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==jI(t,r).matches&&this.queries[r].setDirty()}}class hn{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function Fb(e){return e.split(",").map(t=>t.trim())}(t):t}}class er{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,f=this.getByIndex(o).embeddedTView(t,l);f&&(f.indexInDeclarationView=o,null!==r?r.push(f):r=[f])}return null!==r?new er(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class co{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new co(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const f=o[l];this.matchTNodeWithReadOption(t,r,Js(r,f)),this.matchTNodeWithReadOption(t,r,Rd(r,t,f,!1,!1))}else o===gf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Rd(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Fu||l===Nf||l===gf&&4&r.type)this.addMatch(r.index,-2);else{const f=Rd(r,t,l,!1,!1);null!==f&&this.addMatch(r.index,f)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function Js(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function ga(e,t,r,o){return-1===r?function Zi(e,t){return 11&e.type?$l(e,t):4&e.type?th(e,t):null}(t,e):-2===r?function ma(e,t,r){return r===Fu?$l(t,e):r===gf?th(t,e):r===Nf?S_(t,e):void 0}(e,t,o):No(e,e[rn],r,t)}function cd(e,t,r,o){const l=t[no].queries[o];if(null===l.matches){const f=e.data,v=r.matches,w=[];for(let R=0;null!==v&&R<v.length;R+=2){const G=v[R];w.push(G<0?null:ga(t,f[G],v[R+1],r.metadata.read))}l.matches=w}return l.matches}function Ka(e,t,r,o){const l=e.queries.getByIndex(r),f=l.matches;if(null!==f){const v=cd(e,t,l,r);for(let w=0;w<f.length;w+=2){const R=f[w];if(R>0)o.push(v[w/2]);else{const G=f[w+1],Y=t[-R];for(let ae=Co;ae<Y.length;ae++){const Ve=Y[ae];Ve[sa]===Ve[Jr]&&Ka(Ve[rn],Ve,G,o)}if(null!==Y[Pl]){const ae=Y[Pl];for(let Ve=0;Ve<ae.length;Ve++){const Ye=ae[Ve];Ka(Ye[rn],Ye,G,o)}}}}}return o}function mg(e,t,r){var o;const l=new ap(!(4&~r));return function Qm(e,t,r,o){const l=M(t);l.push(r),e.firstCreatePass&&U(e).push(o,l.length-1)}(e,t,l,l.destroy),(null!==(o=t[no])&&void 0!==o?o:t[no]=new Ht).queries.push(new we(l))-1}function TA(e,t,r){null===e.queries&&(e.queries=new er),e.queries.track(new co(t,r))}function jI(e,t){return e.queries.getByIndex(t)}function CA(e,t){const r=e[rn],o=jI(r,t);return o.crossesNgTemplate?Ka(r,e,t,[]):cd(r,e,o,t)}const wA=new Set;function Xa(e){var t,r;wA.has(e)||(wA.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function DA(e,t){Xa("NgSignals");const r=function Ie(e){const t=Object.create(rt);t.value=e;const r=()=>(me(t),t.value);return r[Se]=t,r}(e),o=r[Se];return null!=t&&t.equal&&(o.equal=t.equal),r.set=l=>Le(o,l),r.update=l=>function He(e,t){gt()||At(),Le(e,t(e.value))}(o,l),r.asReadonly=SA.bind(r),r}function SA(){const e=this[Se];if(void 0===e.readonlyFn){const t=()=>this();t[Se]=e,e.readonlyFn=t}return e.readonlyFn}function RA(e){return function bA(e){return"function"==typeof e&&void 0!==e[Se]}(e)&&"function"==typeof e.set}function HI(e){let t=function BA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let l;if(Es(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new St(903,!1);l=t.\u0275dir}if(l){if(r){o.push(l);const v=e;v.inputs=$y(e.inputs),v.inputTransforms=$y(e.inputTransforms),v.declaredInputs=$y(e.declaredInputs),v.outputs=$y(e.outputs);const w=l.hostBindings;w&&Yb(e,w);const R=l.viewQuery,G=l.contentQueries;if(R&&Zb(e,R),G&&Qb(e,G),Xb(e,l),Nr(e.outputs,l.outputs),Es(l)&&l.data.animation){const Y=e.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let v=0;v<f.length;v++){const w=f[v];w&&w.ngInherit&&w(e),w===HI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function qb(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=t+=l.hostVars,l.hostAttrs=ms(l.hostAttrs,r=ms(r,l.hostAttrs))}}(o)}function Xb(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const l=t.inputs[o];if(void 0!==l&&(e.inputs[o]=l,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const f=Array.isArray(l)?l[0]:l;if(!t.inputTransforms.hasOwnProperty(f))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[f]=t.inputTransforms[f]}}}function $y(e){return e===Xr?{}:e===Dr?[]:e}function Zb(e,t){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{t(o,l),r(o,l)}:t}function Qb(e,t){const r=e.contentQueries;e.contentQueries=r?(o,l,f)=>{t(o,l,f),r(o,l,f)}:t}function Yb(e,t){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{t(o,l),r(o,l)}:t}function GA(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const l=t[o];Array.isArray(l)&&l[3]&&(r[o]=l[3])}e.inputTransforms=r}class Of{}class WA{}function iD(e,t){return new WI(e,null!=t?t:null,[])}class WI extends Of{constructor(t,r,o,l=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pf(this);const f=Gi(t);this._bootstrapComponents=Wa(f.bootstrap),this._r3Injector=Al(t,r,[{provide:Of,useValue:this},{provide:_u,useValue:this.componentFactoryResolver},...o],In(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class KI extends WA{constructor(t){super(),this.moduleType=t}create(t){return new WI(this.moduleType,t,[])}}class KA extends Of{constructor(t){super(),this.componentFactoryResolver=new Pf(this),this.instance=null;const r=new jo([...t.providers,{provide:Of,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],t.parent||To(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function XI(e,t,r=null){return new KA({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function jy(e){return!!qI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function qI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ts(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function x_(e,t,r,o,l,f,v,w,R,G){const Y=r+wr,ae=t.firstCreatePass?function cD(e,t,r,o,l,f,v,w,R){const G=t.consts,Y=Jc(t,e,4,v||null,w||null);Yp(t,r,Y,la(G,R)),Dc(t,Y);const ae=Y.tView=ed(2,Y,o,l,f,t.directiveRegistry,t.pipeRegistry,null,t.schemas,G,null);return null!==t.queries&&(t.queries.template(t,Y),ae.queries=t.queries.embeddedTView(Y)),Y}(Y,t,e,o,l,f,v,w,R):t.data[Y];Zs(ae,!1);const Ve=XA(t,e,ae,r);gl()&&Hp(t,e,Ve,ae),$s(Ve,e);const Ye=i(Ve,e,Ve,ae);return e[Y]=Ye,c(e,Ye),function R_(e,t,r){return gg(e,t,r)}(Ye,ae,e),mo(ae)&&Qs(t,e,ae),null!=R&&Zp(e,ae,G),ae}function ZI(e,t,r,o,l,f,v,w){const R=dn(),G=ei();return x_(R,G,e,t,r,o,l,la(G.consts,f),v,w),ZI}let XA=function qA(e,t,r,o){return Ma(!0),t[Fr].createComment("")};var Ig=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ig||{});let tT=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=Vr({token:e,providedIn:"root",factory:()=>new e}),t})();class Ky{constructor(){this.ngZone=Rt(D),this.scheduler=Rt(sd),this.errorHandler=Rt(Ea,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of Ky.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(l){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(l)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Ne=Ky).PHASES=[Ig.EarlyRead,Ig.Write,Ig.MixedReadWrite,Ig.Read],Ne.\u0275prov=Vr({token:Ne,providedIn:"root",factory:()=>new Ne});class pD{constructor(t,r,o,l){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var t;this.impl.unregister(this),null===(t=this.unregisterOnDestroy)||void 0===t||t.call(this)}}function Xy(e,t){var r;(null==t||!t.injector)&&function b(e){if(!de())throw new St(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Rt(fs);return function ps(e){return"browser"===(null!=e?e:Rt(fs)).get(Ap)}(o)?(Xa("NgAfterNextRender"),function nT(e,t,r,o){var l,f;const v=t.get(tT);null!==(l=v.impl)&&void 0!==l||(v.impl=t.get(Ky));const w=null!==(f=null==r?void 0:r.phase)&&void 0!==f?f:Ig.MixedReadWrite,R=!0!==(null==r?void 0:r.manualCleanup)?t.get(Vc):null,G=new pD(v.impl,function mD(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,w),o,R);return v.impl.register(G),G}(e,o,t,!0)):rT}const rT={destroy(){}};function aE(e,t,r,o){const l=dn();return Ts(l,Ra(),t)&&(ei(),wl(_o(),l,e,t,r,o)),aE}function Sg(e,t,r,o,l,f){const w=function kf(e,t,r,o){const l=Ts(e,t,r);return Ts(e,t+1,o)||l}(e,function nl(){return Qr.lFrame.bindingIndex}(),r,l);return Pa(2),w?t+st(r)+o+st(l)+f:hi}function Qy(e,t){return e<<17|t<<2}function _h(e){return e>>17&32767}function lE(e){return 2|e}function Ff(e){return(131068&e)>>2}function uE(e,t){return-131069&e|t<<2}function cE(e){return 1|e}function RT(e,t,r,o){const l=e[r+1],f=null===t;let v=o?_h(l):Ff(l),w=!1;for(;0!==v&&(!1===w||f);){const G=e[v+1];YD(e[v],t)&&(w=!0,e[v+1]=o?cE(G):lE(G)),v=o?_h(G):Ff(G)}w&&(e[r+1]=o?lE(l):cE(l))}function YD(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ss(e,t)>=0}function dE(e,t,r){const o=dn();return Ts(o,Ra(),t)&&La(ei(),_o(),o,e,t,o[Fr],r,!1),dE}function hE(e,t,r,o,l){const v=l?"class":"style";Pe(e,r,t.inputs[v],v,o)}function fE(e,t){return function yu(e,t,r,o){const l=dn(),f=ei(),v=Pa(2);f.firstUpdatePass&&function VT(e,t,r,o){const l=e.data;if(null===l[r+1]){const f=l[us()],v=function FT(e,t){return t>=e.expandoStartIndex}(e,r);(function jT(e,t){return!!(e.flags&(t?8:16))})(f,o)&&null===t&&!v&&(t=!1),t=function aS(e,t,r,o){const l=function Id(e){const t=Qr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let f=o?t.residualClasses:t.residualStyles;if(null===l)0===(o?t.classBindings:t.styleBindings)&&(r=L_(r=pE(null,e,t,r,o),t.attrs,o),f=null);else{const v=t.directiveStylingLast;if(-1===v||e[v]!==l)if(r=pE(l,e,t,r,o),null===f){let R=function lS(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==Ff(o))return e[_h(o)]}(e,t,o);void 0!==R&&Array.isArray(R)&&(R=pE(null,e,t,R[1],o),R=L_(R,t.attrs,o),function uS(e,t,r,o){e[_h(r?t.classBindings:t.styleBindings)]=o}(e,t,o,R))}else f=function cS(e,t,r){let o;const l=t.directiveEnd;for(let f=1+t.directiveStylingLast;f<l;f++)o=L_(o,e[f].hostAttrs,r);return L_(o,t.attrs,r)}(e,t,o)}return void 0!==f&&(o?t.residualClasses=f:t.residualStyles=f),r}(l,f,t,o),function ZD(e,t,r,o,l,f){let v=f?t.classBindings:t.styleBindings,w=_h(v),R=Ff(v);e[o]=r;let Y,G=!1;if(Array.isArray(r)?(Y=r[1],(null===Y||ss(r,Y)>0)&&(G=!0)):Y=r,l)if(0!==R){const Ve=_h(e[w+1]);e[o+1]=Qy(Ve,w),0!==Ve&&(e[Ve+1]=uE(e[Ve+1],o)),e[w+1]=function XD(e,t){return 131071&e|t<<17}(e[w+1],o)}else e[o+1]=Qy(w,0),0!==w&&(e[w+1]=uE(e[w+1],o)),w=o;else e[o+1]=Qy(R,0),0===w?w=o:e[R+1]=uE(e[R+1],o),R=o;G&&(e[o+1]=lE(e[o+1])),RT(e,Y,o,!0),RT(e,Y,o,!1),function QD(e,t,r,o,l){const f=l?e.residualClasses:e.residualStyles;null!=f&&"string"==typeof t&&ss(f,t)>=0&&(r[o+1]=cE(r[o+1]))}(t,Y,e,o,f),v=Qy(w,R),f?t.classBindings=v:t.styleBindings=v}(l,f,t,r,v,o)}}(f,e,v,o),t!==hi&&Ts(l,v,t)&&function BT(e,t,r,o,l,f,v,w){if(!(3&t.type))return;const R=e.data,G=R[w+1],Y=function qD(e){return!(1&~e)}(G)?$T(R,t,r,l,Ff(G),v):void 0;Yy(Y)||(Yy(f)||function KD(e){return!(2&~e)}(G)&&(f=$T(R,null,r,l,w,v)),function Kp(e,t,r,o,l){if(t)l?e.addClass(r,o):e.removeClass(r,o);else{let f=-1===o.indexOf("-")?void 0:Bp.DashCase;null==l?e.removeStyle(r,o,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=Bp.Important),e.setStyle(r,o,l,f))}}(o,v,Tu(us(),r),l,f))}(f,f.data[us()],l,l[Fr],e,l[v+1]=function pS(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=In(Hu(e)))),e}(t,r),o,v)}(e,t,null,!0),fE}function pE(e,t,r,o,l){let f=null;const v=r.directiveEnd;let w=r.directiveStylingLast;for(-1===w?w=r.directiveStart:w++;w<v&&(f=t[w],o=L_(o,f.hostAttrs,l),f!==e);)w++;return null!==e&&(r.directiveStylingLast=w),o}function L_(e,t,r){const o=r?1:2;let l=-1;if(null!==t)for(let f=0;f<t.length;f++){const v=t[f];"number"==typeof v?l=v:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xi(e,v,!!r||t[++f]))}return void 0===e?null:e}function $T(e,t,r,o,l,f){const v=null===t;let w;for(;l>0;){const R=e[l],G=Array.isArray(R),Y=G?R[1]:R,ae=null===Y;let Ve=r[l+1];Ve===hi&&(Ve=ae?Dr:void 0);let Ye=ae?Uo(Ve,o):Y===o?Ve:void 0;if(G&&!Yy(Ye)&&(Ye=Uo(R,o)),Yy(Ye)&&(w=Ye,v))return w;const Xe=e[l+1];l=v?_h(Xe):Ff(Xe)}if(null!==t){let R=f?t.residualClasses:t.residualStyles;null!=R&&(w=Uo(R,o))}return w}function Yy(e){return void 0!==e}function e0(e,t,r,o){const l=dn(),f=ei(),v=wr+e,w=l[Fr],R=f.firstCreatePass?function FS(e,t,r,o,l,f){const v=t.consts,R=Jc(t,e,2,o,la(v,l));return Yp(t,r,R,la(v,f)),null!==R.attrs&&ph(R,R.attrs,!1),null!==R.mergedAttrs&&ph(R,R.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,R),R}(v,f,l,t,r,o):f.data[v],G=WT(f,l,R,w,t,e);l[v]=G;const Y=mo(R);return Zs(R,!0),Xp(w,G,R),!function vg(e){return!(32&~e.flags)}(R)&&gl()&&Hp(f,l,G,R),0===function Eh(){return Qr.lFrame.elementDepthCount}()&&$s(G,l),function Ah(){Qr.lFrame.elementDepthCount++}(),Y&&(Qs(f,l,R),ka(f,R,l)),null!==o&&Zp(l,R),e0}function t0(){let e=ai();Tc()?tl():(e=e.parent,Zs(e,!1));const t=e;(function Ec(e){return Qr.skipHydrationRootTNode===e})(t)&&function wu(){Qr.skipHydrationRootTNode=null}(),function gd(){Qr.lFrame.elementDepthCount--}();const r=ei();return r.firstCreatePass&&(Dc(r,e),Ya(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Kg(e){return!!(8&e.flags)}(t)&&hE(r,t,dn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Xg(e){return!!(16&e.flags)}(t)&&hE(r,t,dn(),t.stylesWithoutHost,!1),t0}function vE(e,t,r,o){return e0(e,t,r,o),t0(),vE}let WT=(e,t,r,o,l,f)=>(Ma(!0),jp(o,l,function Xf(){return Qr.lFrame.currentNamespace}()));function n0(e,t,r){const o=dn(),l=ei(),f=e+wr,v=l.firstCreatePass?function BS(e,t,r,o,l){const f=t.consts,v=la(f,o),w=Jc(t,e,8,"ng-container",v);return null!==v&&ph(w,v,!0),Yp(t,r,w,la(f,l)),null!==t.queries&&t.queries.elementStart(t,w),w}(f,l,o,t,r):l.data[f];Zs(v,!0);const w=KT(l,o,v,e);return o[f]=w,gl()&&Hp(l,o,w,v),$s(w,o),mo(v)&&(Qs(l,o,v),ka(l,v,o)),null!=r&&Zp(o,v),n0}function r0(){let e=ai();const t=ei();return Tc()?tl():(e=e.parent,Zs(e,!1)),t.firstCreatePass&&(Dc(t,e),Ya(e)&&t.queries.elementEnd(e)),r0}function yE(e,t,r){return n0(e,t,r),r0(),yE}let KT=(e,t,r,o)=>(Ma(!0),jm(t[Fr],""));function XT(){return dn()}const Vf=void 0;var HS=["en",[["a","p"],["AM","PM"],Vf],[["AM","PM"],Vf,Vf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vf,"{1} 'at' {0}",Vf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zS(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Lg={};function IE(e){const t=function GS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=YT(t);if(r)return r;const o=t.split("-")[0];if(r=YT(o),r)return r;if("en"===o)return HS;throw new St(701,!1)}function QT(e){return IE(e)[Fg.PluralCase]}function YT(e){return e in Lg||(Lg[e]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[e]),Lg[e]}var Fg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Fg||{});const o0="en-US";let JT=o0,_C=(e,t,r)=>{};function TE(e,t,r,o){const l=dn(),f=ei(),v=ai();return CE(f,l,l[Fr],v,e,t,o),TE}function CE(e,t,r,o,l,f,v){const w=mo(o),G=e.firstCreatePass&&U(e),Y=t[qr],ae=M(t);let Ve=!0;if(3&o.type||v){const sn=Us(o,t),An=v?v(sn):sn,kn=ae.length,fn=v?oi=>v(yi(oi[o.index])):o.index;let Gr=null;if(!v&&w&&(Gr=function NR(e,t,r,o){const l=e.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const v=l[f];if(v===r&&l[f+1]===o){const w=t[oa],R=l[f+2];return w.length>R?w[R]:null}"string"==typeof v&&(f+=2)}return null}(e,t,l,o.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=f,Gr.__ngLastListenerFn__=f,Ve=!1;else{f=EC(o,t,Y,f),_C(sn,l,f);const oi=r.listen(An,l,f);ae.push(f,oi),G&&G.push(l,fn,kn,kn+1)}}else f=EC(o,t,Y,f);const Ye=o.outputs;let Xe;if(Ve&&null!==Ye&&(Xe=Ye[l])){const sn=Xe.length;if(sn)for(let An=0;An<sn;An+=2){const So=t[Xe[An]][Xe[An+1]].subscribe(f),na=ae.length;ae.push(f,So),G&&G.push(l,o.index,na,-(na+1))}}}function IC(e,t,r,o){const l=ce(null);try{return Vs(6,t,r),!1!==r(o)}catch(f){return fe(e,f),!1}finally{Vs(7,t,r),ce(l)}}function EC(e,t,r,o){return function l(f){if(f===Function)return o;hu(e.componentOffset>-1?Bs(e.index,t):t,5);let w=IC(t,r,o,f),R=l.__ngNextListenerFn__;for(;R;)w=IC(t,r,R,f)&&w,R=R.__ngNextListenerFn__;return w}}function AC(e=1){return function zg(e){return(Qr.lFrame.contextLView=function hd(e,t){for(;e>0;)t=t[Ia],e--;return t}(e,Qr.lFrame.contextLView))[qr]}(e)}function OR(e,t){let r=null;const o=function Z(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let l=0;l<t.length;l++){const f=t[l];if("*"!==f){if(null===o?va(e,f,!0):X(o,f))return l}else r=l}return r}function TC(e){const t=dn()[lo][di];if(!t.projection){const o=t.projection=function Vo(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),l=o.slice();let f=t.child;for(;null!==f;){if(128!==f.type){const v=e?OR(f,e):0;null!==v&&(l[v]?l[v].projectionNext=f:o[v]=f,l[v]=f)}f=f.next}}}function CC(e,t=0,r,o,l,f){const v=dn(),w=ei(),R=o?e+1:null;null!==R&&x_(v,w,R,o,l,f,null,r);const G=Jc(w,wr+e,16,null,r||null);null===G.projection&&(G.projection=t),tl();const ae=!v[Ji]||nu();null===v[lo][di].projection[G.projection]&&null!==R?function kR(e,t,r){const o=wr+r,l=t.data[o],f=e[o],v=oc(f,l.tView.ssrId);jr(f,mr(e,l,void 0,{dehydratedView:v}),0,Ar(l,v))}(v,w,R):ae&&32&~G.flags&&function yA(e,t,r){pI(t[Fr],0,t,r,Gl(e,r,t),Hv(r.parent||t[di],r,t))}(w,v,G)}function OC(e,t,r,o){!function AA(e,t,r,o){const l=ei();if(l.firstCreatePass){const f=ai();TA(l,new hn(t,r,o),f.index),function Vb(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return mg(l,dn(),r)}(e,t,r,o)}function kC(e,t,r){!function EA(e,t,r){const o=ei();return o.firstCreatePass&&(TA(o,new hn(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),mg(o,dn(),t)}(e,t,r)}function LC(e){const t=dn(),r=ei(),o=Dh();wc(o+1);const l=jI(r,o);if(e.dirty&&function _c(e){return!(4&~e[Kn])}(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const f=CA(t,o);e.reset(f,ev),e.notifyOnChanges()}return!0}return!1}function FC(){return function gh(e,t){return e[no].queries[t].queryList}(dn(),Dh())}function KC(e,t=""){const r=dn(),o=ei(),l=e+wr,f=o.firstCreatePass?Jc(o,l,1,t,null):o.data[l],v=XC(o,r,f,t,e);r[l]=v,gl()&&Hp(o,r,v,f),Zs(f,!1)}let XC=(e,t,r,o,l)=>(Ma(!0),function Fv(e,t){return e.createText(t)}(t[Fr],o));function DE(e){return u0("",e,""),DE}function u0(e,t,r){const o=dn(),l=function Dg(e,t,r,o){return Ts(e,Ra(),r)?t+st(r)+o:hi}(o,e,t,r);return l!==hi&&nt(o,us(),l),u0}function SE(e,t,r,o,l){const f=dn(),v=Sg(f,e,t,r,o,l);return v!==hi&&nt(f,us(),v),SE}function RE(e,t,r){RA(t)&&(t=t());const o=dn();return Ts(o,Ra(),t)&&La(ei(),_o(),o,e,t,o[Fr],r,!1),RE}function nw(e,t){const r=RA(e);return r&&e.set(t),r}function PE(e,t){const r=dn(),o=ei(),l=ai();return CE(o,r,r[Fr],l,e,t),PE}function ME(e,t,r,o,l){if(e=dt(e),Array.isArray(e))for(let f=0;f<e.length;f++)ME(e[f],t,r,o,l);else{const f=ei(),v=dn(),w=ai();let R=xo(e)?e:dt(e.provide);const G=Xs(e),Y=1048575&w.providerIndexes,ae=w.directiveStart,Ve=w.providerIndexes>>20;if(xo(e)||!e.multi){const Ye=new Pc(G,l,Zu),Xe=NE(R,t,l?Y:Y+Ve,ae);-1===Xe?(su(vl(w,v),f,R),xE(f,e,t.length),t.push(R),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),r.push(Ye),v.push(Ye)):(r[Xe]=Ye,v[Xe]=Ye)}else{const Ye=NE(R,t,Y+Ve,ae),Xe=NE(R,t,Y,Y+Ve),An=Xe>=0&&r[Xe];if(l&&!An||!l&&!(Ye>=0&&r[Ye])){su(vl(w,v),f,R);const kn=function nP(e,t,r,o,l){const f=new Pc(e,r,Zu);return f.multi=[],f.index=t,f.componentProviders=0,ow(f,l,o&&!r),f}(l?tP:eP,r.length,l,o,G);!l&&An&&(r[Xe].providerFactory=kn),xE(f,e,t.length,0),t.push(R),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),r.push(kn),v.push(kn)}else xE(f,e,Ye>-1?Ye:Xe,ow(r[l?Xe:Ye],G,!l&&o));!l&&o&&An&&r[Xe].componentProviders++}}}function xE(e,t,r,o){const l=xo(t),f=function cl(e){return!!e.useClass}(t);if(l||f){const R=(f?dt(t.useClass):t).prototype.ngOnDestroy;if(R){const G=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const Y=G.indexOf(r);-1===Y?G.push(r,[o,R]):G[Y+1].push(o,R)}else G.push(r,R)}}}function ow(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function NE(e,t,r,o){for(let l=r;l<o;l++)if(t[l]===e)return l;return-1}function eP(e,t,r,o){return OE(this.multi,[])}function tP(e,t,r,o){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=No(r,r[rn],this.providerFactory.index,o);f=w.slice(0,v),OE(l,f);for(let R=v;R<w.length;R++)f.push(w[R])}else f=[],OE(l,f);return f}function OE(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sw(e,t=[]){return r=>{r.providersResolver=(o,l)=>function JR(e,t,r){const o=ei();if(o.firstCreatePass){const l=Es(e);ME(r,o.data,o.blueprint,l,!0),ME(t,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,t)}}let rP=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=Ba(0,o.type),f=l.length>0?XI([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,f)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Vr({token:e,providedIn:"environment",factory:()=>new e(it(es))}),t})();function aw(e){Xa("NgStandalone"),e.getStandaloneInjector=t=>t.get(rP).getOrCreateStandaloneInjector(e)}class Pw{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const WP=new Pw("18.2.13");let Mw=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const kw=new Er(""),Lw=new Er("");let $E,vM=(()=>{var e;class t{constructor(o,l,f){this._ngZone=o,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$E||(function yM(e){$E=e}(f),f.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{D.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,f){let v=-1;l&&l>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),o()},l)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:f})}whenStable(o,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,f),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,f){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(it(D),it(Fw),it(Lw))},e.\u0275prov=Vr({token:e,factory:e.\u0275fac}),t})(),Fw=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var f,v;return null!==(f=null===(v=$E)||void 0===v?void 0:v.findTestabilityInTree(this,o,l))&&void 0!==f?f:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function jE(e){return!!e&&"function"==typeof e.then}function Vw(e){return!!e&&"function"==typeof e.subscribe}const Uw=new Er("");let Bw=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f}),this.appInits=null!==(o=Rt(Uw,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const f of this.appInits){const v=f();if(jE(v))o.push(v);else if(Vw(v)){const w=new Promise((R,G)=>{v.subscribe({complete:R,error:G})});o.push(w)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(f=>{this.reject(f)}),0===o.length&&l(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const p0=new Er("");function jw(e,t){return Array.isArray(t)?t.reduce(jw,e):{...e,...t}}let hc=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Rt(Nd),this.afterRenderManager=Rt(tT),this.zonelessEnabled=Rt(Wl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ir.B,this.afterTick=new ir.B,this.componentTypes=[],this.components=[],this.isStable=Rt(Cl).hasPendingTasks.pipe((0,ln.T)(o=>!o)),this._injector=Rt(es)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(l=>{o=this.isStable.subscribe({next:f=>{f&&l()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,l){const f=o instanceof My;if(!this._injector.get(Bw).done)throw!f&&ao(o),new St(405,!1);let w;w=f?o:this._injector.get(_u).resolveComponentFactory(o),this.componentTypes.push(w.componentType);const R=function IM(e){return e.isBoundToModule}(w)?void 0:this._injector.get(Of),Y=w.create(fs.NULL,[],l||w.selector,R),ae=Y.location.nativeElement,Ve=Y.injector.get(kw,null);return null==Ve||Ve.registerApplication(ae),Y.onDestroy(()=>{this.detachView(Y.hostView),g0(this.components,Y),null==Ve||Ve.unregisterApplication(ae)}),this._loadComponent(Y),Y}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new St(101,!1);const o=ce(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,ce(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(ad,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const v=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(v);for(let{_lView:w,notifyErrorHandler:R}of this._views)TM(w,R,v,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,f;null==o||null===(l=o.begin)||void 0===l||l.call(o),null==o||null===(f=o.end)||void 0===f||f.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>fd(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;g0(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(p0,[]);[...this._bootstrapListeners,...l].forEach(f=>f(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>g0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new St(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function g0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function TM(e,t,r,o){(r||fd(e))&&Yu(e,t,r&&!o?0:1)}class CM{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let wM=(()=>{var e;class t{compileModuleSync(o){return new KI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),v=Wa(Gi(o).declarations).reduce((w,R)=>{const G=Mr(R);return G&&w.push(new Mf(G)),w},[]);return new CM(l,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),SM=(()=>{var e;class t{constructor(){this.zone=Rt(D),this.changeDetectionScheduler=Rt(sd),this.applicationRef=Rt(hc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function zE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new D({...HE(),scheduleInRootZone:r})),[{provide:D,useFactory:e},{provide:Bo,multi:!0,useFactory:()=>{const l=Rt(SM,{optional:!0});return()=>l.initialize()}},{provide:Bo,multi:!0,useFactory:()=>{const l=Rt(PM);return()=>{l.initialize()}}},!0===t?{provide:Py,useValue:!0}:[],{provide:__,useValue:null!=r?r:Nu}]}function HE(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let PM=(()=>{var e;class t{constructor(){this.subscription=new Jt.yU,this.initialized=!1,this.zone=Rt(D),this.pendingTasks=Rt(Cl)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{D.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;D.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),K_=(()=>{var e;class t{constructor(){var o,l,f;this.appRef=Rt(hc),this.taskService=Rt(Cl),this.ngZone=Rt(D),this.zonelessEnabled=Rt(Wl),this.disableScheduling=null!==(o=Rt(Py,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Jt.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(g):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(f=Rt(__,{optional:!0}))&&void 0!==f&&f,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof lr||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?Md:ip;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(g+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(o),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Md(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const WE=new Er("",{providedIn:"root",factory:()=>Rt(WE,bn.Optional|bn.SkipSelf)||function MM(){return typeof $localize<"u"&&$localize.locale||o0}()}),xM=new Er("",{providedIn:"root",factory:()=>"USD"}),m0=new Er("");function _0(e){return!e.moduleRef}let qw=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const f=null==l?void 0:l.scheduleInRootZone,R=[zE({ngZoneFactory:()=>function xd(e="zone.js",t){return"noop"===e?new lr:"zone.js"===e?new D(t):e}(null==l?void 0:l.ngZone,{...HE({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:f}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:sd,useExisting:K_}],G=function oD(e,t,r){return new WI(e,t,r,!1)}(o.moduleType,this.injector,R);return function Xw(e){const t=_0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(D);return r.run(()=>{_0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Ea,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:f=>{o.handleError(f)}})}),_0(e)){const f=()=>t.destroy(),v=e.platformInjector.get(m0);v.add(f),t.onDestroy(()=>{l.unsubscribe(),v.delete(f)})}else{const f=()=>e.moduleRef.destroy(),v=e.platformInjector.get(m0);v.add(f),e.moduleRef.onDestroy(()=>{g0(e.allPlatformModules,e.moduleRef),l.unsubscribe(),v.delete(f)})}return function AM(e,t,r){try{const o=r();return jE(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const f=t.get(Bw);return f.runInitializers(),f.donePromise.then(()=>{if(function qS(e){"string"==typeof e&&(JT=e.toLowerCase().replace(/_/g,"-"))}(t.get(WE,o0)||o0),_0(e)){const w=t.get(hc);return void 0!==e.rootComponent&&w.bootstrap(e.rootComponent),w}return function FM(e,t){const r=e.injector.get(hc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new St(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:G,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,l=[]){const f=jw({},l);return function DM(e,t,r){const o=new KI(r);return Promise.resolve(o)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,f))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new St(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(m0,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(it(fs))},e.\u0275prov=Vr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),vh=null;const Zw=new Er("");function Qw(e,t,r=[]){const o=`Platform: ${t}`,l=new Er(o);return(f=[])=>{let v=KE();if(!v||v.injector.get(Zw,!1)){const w=[...r,...f,{provide:l,useValue:!0}];e?e(w):function VM(e){if(vh&&!vh.get(Zw,!1))throw new St(400,!1);(function $w(){!function ye(e){qn=e}(()=>{throw new St(600,!1)})})(),vh=e;const t=e.get(qw);(function Jw(e){const t=e.get(Ep,null);null==t||t.forEach(r=>r())})(e)}(function Yw(e=[],t){return fs.create({name:t,providers:[{provide:_s,useValue:"platform"},{provide:m0,useValue:new Set([()=>vh=null])},...e]})}(w,o))}return function UM(){const t=KE();if(!t)throw new St(401,!1);return t}()}}function KE(){var e,t;return null!==(e=null===(t=vh)||void 0===t?void 0:t.get(qw))&&void 0!==e?e:null}function $M(){return!1}function jM(){}let tb=(()=>{class t{}return t.__NG_ELEMENT_ID__=zM,t})();function zM(e){return function HM(e,t,r){if(ba(e)&&!r){const o=Bs(e.index,t);return new pf(o,o)}return 175&e.type?new pf(t[lo],t):null}(ai(),dn(),!(16&~e))}class ob{constructor(){}supports(t){return jy(t)}create(t){return new qM(t)}}const XM=(e,t)=>t;class qM{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||XM}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,l=0,f=null;for(;r||o;){const v=!o||r&&r.currentIndex<ab(o,l,f)?r:o,w=ab(v,l,f),R=v.currentIndex;if(v===o)l--,o=o._nextRemoved;else if(r=r._next,null==v.previousIndex)l++;else{f||(f=[]);const G=w-l,Y=R-l;if(G!=Y){for(let Ve=0;Ve<G;Ve++){const Ye=Ve<f.length?f[Ve]:f[Ve]=0,Xe=Ye+Ve;Y<=Xe&&Xe<G&&(f[Ve]=Ye+1)}f[v.previousIndex]=Y-G}}w!==R&&t(v,w,R)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!jy(t))throw new St(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,f,v,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let w=0;w<this.length;w++)f=t[w],v=this._trackByFn(w,f),null!==r&&Object.is(r.trackById,v)?(o&&(r=this._verifyReinsertion(r,f,v,w)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,v,w),o=!0),r=r._next}else l=0,function lD(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,w=>{v=this._trackByFn(l,w),null!==r&&Object.is(r.trackById,v)?(o&&(r=this._verifyReinsertion(r,w,v,l)),Object.is(r.item,w)||this._addIdentityChange(r,w)):(r=this._mismatch(r,w,v,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,l){let f;return null===t?f=this._itTail:(f=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,f,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,f,l)):t=this._addAfter(new ZM(r,o),f,l),t}_verifyReinsertion(t,r,o,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==f?t=this._reinsertAfter(f,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,f=t._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const l=null===r?this._itHead:r._next;return t._next=l,t._prev=r,null===l?this._itTail=t:l._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new sb),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ZM{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QM{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class sb{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new QM,this.map.set(r,o)),o.add(t)}get(t,r){const l=this.map.get(t);return l?l.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ab(e,t,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+t+l}class lb{constructor(){}supports(t){return t instanceof Map||qI(t)}create(){return new YM}}class YM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||qI(t)))throw new St(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const f=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,f)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,r);const f=l._prev,v=l._next;return f&&(f._next=v),v&&(v._prev=f),l._next=null,l._prev=null,l}const o=new JM(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class JM{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ub(){return new YE([new ob])}let YE=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,l){if(null!=l){const f=l.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||ub()),deps:[[t,new ri,new mi]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(null!=l)return l;throw new St(901,!1)}}return(e=t).\u0275prov=Vr({token:e,providedIn:"root",factory:ub}),t})();function cb(){return new JE([new lb])}let JE=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,l){if(l){const f=l.factories.slice();o=o.concat(f)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||cb()),deps:[[t,new ri,new mi]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new St(901,!1)}}return(e=t).\u0275prov=Vr({token:e,providedIn:"root",factory:cb}),t})();const nx=Qw(null,"core",[]);let rx=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(it(hc))},e.\u0275mod=so({type:e}),e.\u0275inj=ht({}),t})();function Ox(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Lx(e,t){Xa("NgSignals");const r=function Gt(e){const t=Object.create(Cn);t.computation=e;const r=()=>{if(je(t),me(t),t.value===qt)throw t.error;return t.value};return r[Se]=t,r}(e);return null!=t&&t.equal&&(r[Se].equal=t.equal),r}function Fx(e){const t=ce(null);try{return e()}finally{ce(t)}}function zx(e,t){const r=Mr(e),o=t.elementInjector||To();return new Mf(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Hx(e){const t=Mr(e);if(!t)return null;const r=new Mf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Nn,wt,k)=>{"use strict";k.d(wt,{DS:()=>Le,$z:()=>Ce,UB:()=>te,yy:()=>At,ZP:()=>ye,AU:()=>Ie,CP:()=>qn,gF:()=>_e});var h=k(9842),Ee=(k(324),k(177)),le=k(4438),Se=k(574),ce=k(9253),Me=k(1413),We=k(7673),Ke=k(1985),be=k(8455),me=k(6365),Ge=k(8750),je=k(983),Ze=k(3794),vt=k(941),ot=k(5558),ft=k(6354),Dt=k(6129);class yt extends Me.B{constructor(rt=1/0,an=1/0,Kt=Dt.U){super(),this._bufferSize=rt,this._windowTime=an,this._timestampProvider=Kt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=an===1/0,this._bufferSize=Math.max(1,rt),this._windowTime=Math.max(1,an)}next(rt){const{isStopped:an,_buffer:Kt,_infiniteTimeWindow:$n,_timestampProvider:ut,_windowTime:Ct}=this;an||(Kt.push(rt),!$n&&Kt.push(ut.now()+Ct)),this._trimBuffer(),super.next(rt)}_subscribe(rt){this._throwIfClosed(),this._trimBuffer();const an=this._innerSubscribe(rt),{_infiniteTimeWindow:Kt,_buffer:$n}=this,ut=$n.slice();for(let Ct=0;Ct<ut.length&&!rt.closed;Ct+=Kt?1:2)rt.next(ut[Ct]);return this._checkFinalizedStatuses(rt),an}_trimBuffer(){const{_bufferSize:rt,_timestampProvider:an,_buffer:Kt,_infiniteTimeWindow:$n}=this,ut=($n?1:2)*rt;if(rt<1/0&&ut<Kt.length&&Kt.splice(0,Kt.length-ut),!$n){const Ct=an.now();let Gn=0;for(let ir=1;ir<Kt.length&&Kt[ir]<=Ct;ir+=2)Gn=ir;Gn&&Kt.splice(0,Gn+1)}}}var Ae=k(7707),Te=k(9974);function at($e,rt,...an){if(!0===rt)return void $e();if(!1===rt)return;const Kt=new Ae.Ms({next:()=>{Kt.unsubscribe(),$e()}});return(0,Ge.Tg)(rt(...an)).subscribe(Kt)}function Qe($e,rt,an){let Kt,$n=!1;return $e&&"object"==typeof $e?({bufferSize:Kt=1/0,windowTime:rt=1/0,refCount:$n=!1,scheduler:an}=$e):Kt=null!=$e?$e:1/0,function Oe($e={}){const{connector:rt=()=>new Me.B,resetOnError:an=!0,resetOnComplete:Kt=!0,resetOnRefCountZero:$n=!0}=$e;return ut=>{let Ct,Gn,ir,Jt=0,ln=!1,sr=!1;const cn=()=>{null==Gn||Gn.unsubscribe(),Gn=void 0},Ne=()=>{cn(),Ct=ir=void 0,ln=sr=!1},Fe=()=>{const Bt=Ct;Ne(),null==Bt||Bt.unsubscribe()};return(0,Te.N)((Bt,St)=>{Jt++,!sr&&!ln&&cn();const rr=ir=null!=ir?ir:rt();St.add(()=>{Jt--,0===Jt&&!sr&&!ln&&(Gn=at(Fe,$n))}),rr.subscribe(St),!Ct&&Jt>0&&(Ct=new Ae.Ms({next:dr=>rr.next(dr),error:dr=>{sr=!0,cn(),Gn=at(Ne,an,dr),rr.error(dr)},complete:()=>{ln=!0,cn(),Gn=at(Ne,Kt),rr.complete()}}),(0,Ge.Tg)(Bt).subscribe(Ct))})(ut)}}({connector:()=>new yt(Kt,rt,an),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:$n})}var Mt=k(1594),Gt=k(8071);function Re($e,rt){return(0,Gt.T)(rt)?(0,ot.n)(()=>$e,rt):(0,ot.n)(()=>$e)}var tn=k(6745),qt=k(5964);k(762);const qn=new le.nKC("angularfire2.auth.use-emulator"),At=new le.nKC("angularfire2.auth.settings"),ye=new le.nKC("angularfire2.auth.tenant-id"),Ce=new le.nKC("angularfire2.auth.langugage-code"),Ie=new le.nKC("angularfire2.auth.use-device-language"),te=new le.nKC("angularfire.auth.persistence"),_e=($e,rt,an,Kt,$n,ut,Ct,Gn)=>(0,ce.BM)(`${$e.name}.auth`,"AngularFireAuth",$e.name,()=>{const ir=rt.runOutsideAngular(()=>$e.auth());if(an&&ir.useEmulator(...an),Kt&&(ir.tenantId=Kt),ir.languageCode=$n,ut&&ir.useDeviceLanguage(),Ct)for(const[Jt,ln]of Object.entries(Ct))ir.settings[Jt]=ln;return Gn&&ir.setPersistence(Gn),ir},[an,Kt,$n,ut,Ct,Gn]);let Le=(()=>{var $e;class rt{constructor(Kt,$n,ut,Ct,Gn,ir,Jt,ln,sr,cn,Ne,Fe){(0,h.A)(this,"authState",void 0),(0,h.A)(this,"idToken",void 0),(0,h.A)(this,"user",void 0),(0,h.A)(this,"idTokenResult",void 0),(0,h.A)(this,"credential",void 0);const Bt=new Me.B,St=(0,We.of)(void 0).pipe((0,vt.Q)(Gn.outsideAngular),(0,ot.n)(()=>Ct.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,324)))),(0,ft.T)(()=>(0,ce.iB)(Kt,Ct,$n)),(0,ft.T)(rr=>_e(rr,Ct,ir,ln,sr,cn,Jt,Ne)),Qe({bufferSize:1,refCount:!1}));if((0,Ee.Vy)(ut))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,We.of)(null);else{St.pipe((0,Mt.$)()).subscribe();const rr=St.pipe((0,ot.n)(Pn=>Pn.getRedirectResult().then(Tr=>Tr,()=>null)),Se.U0,Qe({bufferSize:1,refCount:!1})),dr=St.pipe((0,ot.n)(Pn=>new Ke.c(Tr=>({unsubscribe:Ct.runOutsideAngular(()=>Pn.onAuthStateChanged(Ir=>Tr.next(Ir),Ir=>Tr.error(Ir),()=>Tr.complete()))})))),zn=St.pipe((0,ot.n)(Pn=>new Ke.c(Tr=>({unsubscribe:Ct.runOutsideAngular(()=>Pn.onIdTokenChanged(Ir=>Tr.next(Ir),Ir=>Tr.error(Ir),()=>Tr.complete()))}))));this.authState=rr.pipe(Re(dr),(0,tn._)(Gn.outsideAngular),(0,vt.Q)(Gn.insideAngular)),this.user=rr.pipe(Re(zn),(0,tn._)(Gn.outsideAngular),(0,vt.Q)(Gn.insideAngular)),this.idToken=this.user.pipe((0,ot.n)(Pn=>Pn?(0,be.H)(Pn.getIdToken()):(0,We.of)(null))),this.idTokenResult=this.user.pipe((0,ot.n)(Pn=>Pn?(0,be.H)(Pn.getIdTokenResult()):(0,We.of)(null))),this.credential=function gt(...$e){const rt=(0,Ze.lI)($e),an=(0,Ze.R0)($e,1/0),Kt=$e;return Kt.length?1===Kt.length?(0,Ge.Tg)(Kt[0]):(0,me.U)(an)((0,be.H)(Kt,rt)):je.w}(rr,Bt,this.authState.pipe((0,qt.p)(Pn=>!Pn))).pipe((0,ft.T)(Pn=>null!=Pn&&Pn.user?Pn:null),(0,tn._)(Gn.outsideAngular),(0,vt.Q)(Gn.insideAngular))}return(0,ce.Gt)(this,St,Ct,{spy:{apply:(rr,dr,zn)=>{(rr.startsWith("signIn")||rr.startsWith("createUser"))&&zn.then(Pn=>Bt.next(Pn))}}})}}return $e=rt,(0,h.A)(rt,"\u0275fac",function(Kt){return new(Kt||$e)(le.KVO(ce.rx),le.KVO(ce.uP,8),le.KVO(le.Agw),le.KVO(le.SKi),le.KVO(Se.u0),le.KVO(qn,8),le.KVO(At,8),le.KVO(ye,8),le.KVO(Ce,8),le.KVO(Ie,8),le.KVO(te,8),le.KVO(Se.Jv,8))}),(0,h.A)(rt,"\u0275prov",le.jDH({token:$e,factory:$e.\u0275fac,providedIn:"any"})),rt})()},8334:(Nn,wt,k)=>{"use strict";k.d(wt,{Qe:()=>wl,cM:()=>e_});var h=k(9842),p=k(177),Ee=k(4438),le=k(574),Se=k(9253),ce=k(1182),Me=k(3236),We=k(1985),Ke=k(8455),be=k(7673),me=k(9172),Ge=k(9974),je=k(4360);function Ze(){return(0,Ge.N)((u,n)=>{let i,a=!1;u.subscribe((0,je._)(n,c=>{const m=i;i=c,a&&n.next([m,c]),a=!0}))})}var Re,tn,gt=k(6354),vt=k(2816),ot=k(3294),ft=k(5964),yt=(k(324),k(9574)),Ae=k(467),Te=k(2979),Oe=k(8779),at=k(5398),Qe=k(1401),Mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gt={};(function(){var u;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(Nt,et,Et){Et||(Et=0);var Ft=Array(16);if("string"==typeof et)for(var $t=0;16>$t;++$t)Ft[$t]=et.charCodeAt(Et++)|et.charCodeAt(Et++)<<8|et.charCodeAt(Et++)<<16|et.charCodeAt(Et++)<<24;else for($t=0;16>$t;++$t)Ft[$t]=et[Et++]|et[Et++]<<8|et[Et++]<<16|et[Et++]<<24;var en=Nt.g[3],mt=(et=Nt.g[0])+(en^(Et=Nt.g[1])&(($t=Nt.g[2])^en))+Ft[0]+3614090360&4294967295;mt=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=(Et=($t=(en=(et=Et+(mt<<7&4294967295|mt>>>25))+((mt=en+($t^et&(Et^$t))+Ft[1]+3905402710&4294967295)<<12&4294967295|mt>>>20))+((mt=$t+(Et^en&(et^Et))+Ft[2]+606105819&4294967295)<<17&4294967295|mt>>>15))+((mt=Et+(et^$t&(en^et))+Ft[3]+3250441966&4294967295)<<22&4294967295|mt>>>10))+((mt=et+(en^Et&($t^en))+Ft[4]+4118548399&4294967295)<<7&4294967295|mt>>>25))+((mt=en+($t^et&(Et^$t))+Ft[5]+1200080426&4294967295)<<12&4294967295|mt>>>20))+((mt=$t+(Et^en&(et^Et))+Ft[6]+2821735955&4294967295)<<17&4294967295|mt>>>15))+((mt=Et+(et^$t&(en^et))+Ft[7]+4249261313&4294967295)<<22&4294967295|mt>>>10))+((mt=et+(en^Et&($t^en))+Ft[8]+1770035416&4294967295)<<7&4294967295|mt>>>25))+((mt=en+($t^et&(Et^$t))+Ft[9]+2336552879&4294967295)<<12&4294967295|mt>>>20))+((mt=$t+(Et^en&(et^Et))+Ft[10]+4294925233&4294967295)<<17&4294967295|mt>>>15))+((mt=Et+(et^$t&(en^et))+Ft[11]+2304563134&4294967295)<<22&4294967295|mt>>>10))+((mt=et+(en^Et&($t^en))+Ft[12]+1804603682&4294967295)<<7&4294967295|mt>>>25))+((mt=en+($t^et&(Et^$t))+Ft[13]+4254626195&4294967295)<<12&4294967295|mt>>>20))+((mt=$t+(Et^en&(et^Et))+Ft[14]+2792965006&4294967295)<<17&4294967295|mt>>>15))+((mt=Et+(et^$t&(en^et))+Ft[15]+1236535329&4294967295)<<22&4294967295|mt>>>10))+((mt=et+($t^en&(Et^$t))+Ft[1]+4129170786&4294967295)<<5&4294967295|mt>>>27))+((mt=en+(Et^$t&(et^Et))+Ft[6]+3225465664&4294967295)<<9&4294967295|mt>>>23))+((mt=$t+(et^Et&(en^et))+Ft[11]+643717713&4294967295)<<14&4294967295|mt>>>18))+((mt=Et+(en^et&($t^en))+Ft[0]+3921069994&4294967295)<<20&4294967295|mt>>>12))+((mt=et+($t^en&(Et^$t))+Ft[5]+3593408605&4294967295)<<5&4294967295|mt>>>27))+((mt=en+(Et^$t&(et^Et))+Ft[10]+38016083&4294967295)<<9&4294967295|mt>>>23))+((mt=$t+(et^Et&(en^et))+Ft[15]+3634488961&4294967295)<<14&4294967295|mt>>>18))+((mt=Et+(en^et&($t^en))+Ft[4]+3889429448&4294967295)<<20&4294967295|mt>>>12))+((mt=et+($t^en&(Et^$t))+Ft[9]+568446438&4294967295)<<5&4294967295|mt>>>27))+((mt=en+(Et^$t&(et^Et))+Ft[14]+3275163606&4294967295)<<9&4294967295|mt>>>23))+((mt=$t+(et^Et&(en^et))+Ft[3]+4107603335&4294967295)<<14&4294967295|mt>>>18))+((mt=Et+(en^et&($t^en))+Ft[8]+1163531501&4294967295)<<20&4294967295|mt>>>12))+((mt=et+($t^en&(Et^$t))+Ft[13]+2850285829&4294967295)<<5&4294967295|mt>>>27))+((mt=en+(Et^$t&(et^Et))+Ft[2]+4243563512&4294967295)<<9&4294967295|mt>>>23))+((mt=$t+(et^Et&(en^et))+Ft[7]+1735328473&4294967295)<<14&4294967295|mt>>>18))+((mt=Et+(en^et&($t^en))+Ft[12]+2368359562&4294967295)<<20&4294967295|mt>>>12))+((mt=et+(Et^$t^en)+Ft[5]+4294588738&4294967295)<<4&4294967295|mt>>>28))+((mt=en+(et^Et^$t)+Ft[8]+2272392833&4294967295)<<11&4294967295|mt>>>21))+((mt=$t+(en^et^Et)+Ft[11]+1839030562&4294967295)<<16&4294967295|mt>>>16))+((mt=Et+($t^en^et)+Ft[14]+4259657740&4294967295)<<23&4294967295|mt>>>9))+((mt=et+(Et^$t^en)+Ft[1]+2763975236&4294967295)<<4&4294967295|mt>>>28))+((mt=en+(et^Et^$t)+Ft[4]+1272893353&4294967295)<<11&4294967295|mt>>>21))+((mt=$t+(en^et^Et)+Ft[7]+4139469664&4294967295)<<16&4294967295|mt>>>16))+((mt=Et+($t^en^et)+Ft[10]+3200236656&4294967295)<<23&4294967295|mt>>>9))+((mt=et+(Et^$t^en)+Ft[13]+681279174&4294967295)<<4&4294967295|mt>>>28))+((mt=en+(et^Et^$t)+Ft[0]+3936430074&4294967295)<<11&4294967295|mt>>>21))+((mt=$t+(en^et^Et)+Ft[3]+3572445317&4294967295)<<16&4294967295|mt>>>16))+((mt=Et+($t^en^et)+Ft[6]+76029189&4294967295)<<23&4294967295|mt>>>9))+((mt=et+(Et^$t^en)+Ft[9]+3654602809&4294967295)<<4&4294967295|mt>>>28))+((mt=en+(et^Et^$t)+Ft[12]+3873151461&4294967295)<<11&4294967295|mt>>>21))+((mt=$t+(en^et^Et)+Ft[15]+530742520&4294967295)<<16&4294967295|mt>>>16))+((mt=Et+($t^en^et)+Ft[2]+3299628645&4294967295)<<23&4294967295|mt>>>9))+((mt=et+($t^(Et|~en))+Ft[0]+4096336452&4294967295)<<6&4294967295|mt>>>26))+((mt=en+(Et^(et|~$t))+Ft[7]+1126891415&4294967295)<<10&4294967295|mt>>>22))+((mt=$t+(et^(en|~Et))+Ft[14]+2878612391&4294967295)<<15&4294967295|mt>>>17))+((mt=Et+(en^($t|~et))+Ft[5]+4237533241&4294967295)<<21&4294967295|mt>>>11))+((mt=et+($t^(Et|~en))+Ft[12]+1700485571&4294967295)<<6&4294967295|mt>>>26))+((mt=en+(Et^(et|~$t))+Ft[3]+2399980690&4294967295)<<10&4294967295|mt>>>22))+((mt=$t+(et^(en|~Et))+Ft[10]+4293915773&4294967295)<<15&4294967295|mt>>>17))+((mt=Et+(en^($t|~et))+Ft[1]+2240044497&4294967295)<<21&4294967295|mt>>>11))+((mt=et+($t^(Et|~en))+Ft[8]+1873313359&4294967295)<<6&4294967295|mt>>>26))+((mt=en+(Et^(et|~$t))+Ft[15]+4264355552&4294967295)<<10&4294967295|mt>>>22))+((mt=$t+(et^(en|~Et))+Ft[6]+2734768916&4294967295)<<15&4294967295|mt>>>17))+((mt=Et+(en^($t|~et))+Ft[13]+1309151649&4294967295)<<21&4294967295|mt>>>11))+((en=(et=Et+((mt=et+($t^(Et|~en))+Ft[4]+4149444226&4294967295)<<6&4294967295|mt>>>26))+((mt=en+(Et^(et|~$t))+Ft[11]+3174756917&4294967295)<<10&4294967295|mt>>>22))^(($t=en+((mt=$t+(et^(en|~Et))+Ft[2]+718787259&4294967295)<<15&4294967295|mt>>>17))|~et))+Ft[9]+3951481745&4294967295,Nt.g[0]=Nt.g[0]+et&4294967295,Nt.g[1]=Nt.g[1]+($t+(mt<<21&4294967295|mt>>>11))&4294967295,Nt.g[2]=Nt.g[2]+$t&4294967295,Nt.g[3]=Nt.g[3]+en&4294967295}function E(Nt,et){this.h=et;for(var Et=[],Ft=!0,$t=Nt.length-1;0<=$t;$t--){var en=0|Nt[$t];Ft&&en==et||(Et[$t]=en,Ft=!1)}this.g=Et}(function n(Nt,et){function Et(){}Et.prototype=et.prototype,Nt.D=et.prototype,Nt.prototype=new Et,Nt.prototype.constructor=Nt,Nt.C=function(Ft,$t,en){for(var mt=Array(arguments.length-2),du=2;du<arguments.length;du++)mt[du-2]=arguments[du];return et.prototype[$t].apply(Ft,mt)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(Nt,et){void 0===et&&(et=Nt.length);for(var Et=et-this.blockSize,Ft=this.B,$t=this.h,en=0;en<et;){if(0==$t)for(;en<=Et;)c(this,Nt,en),en+=this.blockSize;if("string"==typeof Nt){for(;en<et;)if(Ft[$t++]=Nt.charCodeAt(en++),$t==this.blockSize){c(this,Ft),$t=0;break}}else for(;en<et;)if(Ft[$t++]=Nt[en++],$t==this.blockSize){c(this,Ft),$t=0;break}}this.h=$t,this.o+=et},a.prototype.v=function(){var Nt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Nt[0]=128;for(var et=1;et<Nt.length-8;++et)Nt[et]=0;var Et=8*this.o;for(et=Nt.length-8;et<Nt.length;++et)Nt[et]=255&Et,Et/=256;for(this.u(Nt),Nt=Array(16),et=Et=0;4>et;++et)for(var Ft=0;32>Ft;Ft+=8)Nt[Et++]=this.g[et]>>>Ft&255;return Nt};var M={};function U(Nt){return-128<=Nt&&128>Nt?function m(Nt,et){var Et=M;return Object.prototype.hasOwnProperty.call(Et,Nt)?Et[Nt]:Et[Nt]=et(Nt)}(Nt,function(et){return new E([0|et],0>et?-1:0)}):new E([0|Nt],0>Nt?-1:0)}function J(Nt){if(isNaN(Nt)||!isFinite(Nt))return Pe;if(0>Nt)return Rn(J(-Nt));for(var et=[],Et=1,Ft=0;Nt>=Et;Ft++)et[Ft]=Nt/Et|0,Et*=4294967296;return new E(et,0)}var Pe=U(0),nt=U(1),Qt=U(16777216);function En(Nt){if(0!=Nt.h)return!1;for(var et=0;et<Nt.g.length;et++)if(0!=Nt.g[et])return!1;return!0}function Vn(Nt){return-1==Nt.h}function Rn(Nt){for(var et=Nt.g.length,Et=[],Ft=0;Ft<et;Ft++)Et[Ft]=~Nt.g[Ft];return new E(Et,~Nt.h).add(nt)}function mr(Nt,et){return Nt.add(Rn(et))}function Or(Nt,et){for(;(65535&Nt[et])!=Nt[et];)Nt[et+1]+=Nt[et]>>>16,Nt[et]&=65535,et++}function Ar(Nt,et){this.g=Nt,this.h=et}function jr(Nt,et){if(En(et))throw Error("division by zero");if(En(Nt))return new Ar(Pe,Pe);if(Vn(Nt))return et=jr(Rn(Nt),et),new Ar(Rn(et.g),Rn(et.h));if(Vn(et))return et=jr(Nt,Rn(et)),new Ar(Rn(et.g),et.h);if(30<Nt.g.length){if(Vn(Nt)||Vn(et))throw Error("slowDivide_ only works with positive integers.");for(var Et=nt,Ft=et;0>=Ft.l(Nt);)Et=Mi(Et),Ft=Mi(Ft);var $t=ti(Et,1),en=ti(Ft,1);for(Ft=ti(Ft,2),Et=ti(Et,2);!En(Ft);){var mt=en.add(Ft);0>=mt.l(Nt)&&($t=$t.add(Et),en=mt),Ft=ti(Ft,1),Et=ti(Et,1)}return et=mr(Nt,$t.j(et)),new Ar($t,et)}for($t=Pe;0<=Nt.l(et);){for(Et=Math.max(1,Math.floor(Nt.m()/et.m())),Ft=48>=(Ft=Math.ceil(Math.log(Et)/Math.LN2))?1:Math.pow(2,Ft-48),mt=(en=J(Et)).j(et);Vn(mt)||0<mt.l(Nt);)mt=(en=J(Et-=Ft)).j(et);En(en)&&(en=nt),$t=$t.add(en),Nt=mr(Nt,mt)}return new Ar($t,Nt)}function Mi(Nt){for(var et=Nt.g.length+1,Et=[],Ft=0;Ft<et;Ft++)Et[Ft]=Nt.i(Ft)<<1|Nt.i(Ft-1)>>>31;return new E(Et,Nt.h)}function ti(Nt,et){var Et=et>>5;et%=32;for(var Ft=Nt.g.length-Et,$t=[],en=0;en<Ft;en++)$t[en]=0<et?Nt.i(en+Et)>>>et|Nt.i(en+Et+1)<<32-et:Nt.i(en+Et);return new E($t,Nt.h)}(u=E.prototype).m=function(){if(Vn(this))return-Rn(this).m();for(var Nt=0,et=1,Et=0;Et<this.g.length;Et++){var Ft=this.i(Et);Nt+=(0<=Ft?Ft:4294967296+Ft)*et,et*=4294967296}return Nt},u.toString=function(Nt){if(2>(Nt=Nt||10)||36<Nt)throw Error("radix out of range: "+Nt);if(En(this))return"0";if(Vn(this))return"-"+Rn(this).toString(Nt);for(var et=J(Math.pow(Nt,6)),Et=this,Ft="";;){var $t=jr(Et,et).g,en=((0<(Et=mr(Et,$t.j(et))).g.length?Et.g[0]:Et.h)>>>0).toString(Nt);if(En(Et=$t))return en+Ft;for(;6>en.length;)en="0"+en;Ft=en+Ft}},u.i=function(Nt){return 0>Nt?0:Nt<this.g.length?this.g[Nt]:this.h},u.l=function(Nt){return Vn(Nt=mr(this,Nt))?-1:En(Nt)?0:1},u.abs=function(){return Vn(this)?Rn(this):this},u.add=function(Nt){for(var et=Math.max(this.g.length,Nt.g.length),Et=[],Ft=0,$t=0;$t<=et;$t++){var en=Ft+(65535&this.i($t))+(65535&Nt.i($t)),mt=(en>>>16)+(this.i($t)>>>16)+(Nt.i($t)>>>16);Ft=mt>>>16,Et[$t]=(mt&=65535)<<16|(en&=65535)}return new E(Et,-2147483648&Et[Et.length-1]?-1:0)},u.j=function(Nt){if(En(this)||En(Nt))return Pe;if(Vn(this))return Vn(Nt)?Rn(this).j(Rn(Nt)):Rn(Rn(this).j(Nt));if(Vn(Nt))return Rn(this.j(Rn(Nt)));if(0>this.l(Qt)&&0>Nt.l(Qt))return J(this.m()*Nt.m());for(var et=this.g.length+Nt.g.length,Et=[],Ft=0;Ft<2*et;Ft++)Et[Ft]=0;for(Ft=0;Ft<this.g.length;Ft++)for(var $t=0;$t<Nt.g.length;$t++){var en=this.i(Ft)>>>16,mt=65535&this.i(Ft),du=Nt.i($t)>>>16,eh=65535&Nt.i($t);Et[2*Ft+2*$t]+=mt*eh,Or(Et,2*Ft+2*$t),Et[2*Ft+2*$t+1]+=en*eh,Or(Et,2*Ft+2*$t+1),Et[2*Ft+2*$t+1]+=mt*du,Or(Et,2*Ft+2*$t+1),Et[2*Ft+2*$t+2]+=en*du,Or(Et,2*Ft+2*$t+2)}for(Ft=0;Ft<et;Ft++)Et[Ft]=Et[2*Ft+1]<<16|Et[2*Ft];for(Ft=et;Ft<2*et;Ft++)Et[Ft]=0;return new E(Et,0)},u.A=function(Nt){return jr(this,Nt).h},u.and=function(Nt){for(var et=Math.max(this.g.length,Nt.g.length),Et=[],Ft=0;Ft<et;Ft++)Et[Ft]=this.i(Ft)&Nt.i(Ft);return new E(Et,this.h&Nt.h)},u.or=function(Nt){for(var et=Math.max(this.g.length,Nt.g.length),Et=[],Ft=0;Ft<et;Ft++)Et[Ft]=this.i(Ft)|Nt.i(Ft);return new E(Et,this.h|Nt.h)},u.xor=function(Nt){for(var et=Math.max(this.g.length,Nt.g.length),Et=[],Ft=0;Ft<et;Ft++)Et[Ft]=this.i(Ft)^Nt.i(Ft);return new E(Et,this.h^Nt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,tn=Gt.Md5=a,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=J,E.fromString=function fe(Nt,et){if(0==Nt.length)throw Error("number format error: empty string");if(2>(et=et||10)||36<et)throw Error("radix out of range: "+et);if("-"==Nt.charAt(0))return Rn(fe(Nt.substring(1),et));if(0<=Nt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Et=J(Math.pow(et,8)),Ft=Pe,$t=0;$t<Nt.length;$t+=8){var en=Math.min(8,Nt.length-$t),mt=parseInt(Nt.substring($t,$t+en),et);8>en?(en=J(Math.pow(et,en)),Ft=Ft.j(en).add(J(mt))):Ft=(Ft=Ft.j(Et)).add(J(mt))}return Ft},Re=Gt.Integer=E}).apply(typeof Mt<"u"?Mt:typeof self<"u"?self:typeof window<"u"?window:{});var jt,At,ye,Ce,Ie,te,_e,Le,qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={};(function(){var u,n="function"==typeof Object.defineProperties?Object.defineProperty:function(I,z,ee){return I==Array.prototype||I==Object.prototype||(I[z]=ee.value),I},a=function i(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof qt&&qt];for(var z=0;z<I.length;++z){var ee=I[z];if(ee&&ee.Math==Math)return ee}throw Error("Cannot find global object")}(this);!function c(I,z){if(z)e:{var ee=a;I=I.split(".");for(var we=0;we<I.length-1;we++){var Ht=I[we];if(!(Ht in ee))break e;ee=ee[Ht]}(z=z(we=ee[I=I[I.length-1]]))!=we&&null!=z&&n(ee,I,{configurable:!0,writable:!0,value:z})}}("Array.prototype.values",function(I){return I||function(){return function m(I,z){I instanceof String&&(I+="");var ee=0,we=!1,Ht={next:function(){if(!we&&ee<I.length){var hn=ee++;return{value:z(hn,I[hn]),done:!1}}return we=!0,{done:!0,value:void 0}}};return Ht[Symbol.iterator]=function(){return Ht},Ht}(this,function(z,ee){return ee})}});var E=E||{},M=this||self;function U(I){var z=typeof I;return"array"==(z="object"!=z?z:I?Array.isArray(I)?"array":z:"null")||"object"==z&&"number"==typeof I.length}function J(I){var z=typeof I;return"object"==z&&null!=I||"function"==z}function fe(I,z,ee){return I.call.apply(I.bind,arguments)}function Pe(I,z,ee){if(!I)throw Error();if(2<arguments.length){var we=Array.prototype.slice.call(arguments,2);return function(){var Ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ht,we),I.apply(z,Ht)}}return function(){return I.apply(z,arguments)}}function nt(I,z,ee){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fe:Pe).apply(null,arguments)}function Qt(I,z){var ee=Array.prototype.slice.call(arguments,1);return function(){var we=ee.slice();return we.push.apply(we,arguments),I.apply(this,we)}}function En(I,z){function ee(){}ee.prototype=z.prototype,I.aa=z.prototype,I.prototype=new ee,I.prototype.constructor=I,I.Qb=function(we,Ht,hn){for(var er=Array(arguments.length-2),co=2;co<arguments.length;co++)er[co-2]=arguments[co];return z.prototype[Ht].apply(we,er)}}function Vn(I){const z=I.length;if(0<z){const ee=Array(z);for(let we=0;we<z;we++)ee[we]=I[we];return ee}return[]}function Rn(I,z){for(let ee=1;ee<arguments.length;ee++){const we=arguments[ee];if(U(we)){const Ht=I.length||0,hn=we.length||0;I.length=Ht+hn;for(let er=0;er<hn;er++)I[Ht+er]=we[er]}else I.push(we)}}function Or(I){return/^[\s\xa0]*$/.test(I)}function Ar(){var I=M.navigator;return I&&(I=I.userAgent)?I:""}function jr(I){return jr[" "](I),I}jr[" "]=function(){};var Mi=!(-1==Ar().indexOf("Gecko")||-1!=Ar().toLowerCase().indexOf("webkit")&&-1==Ar().indexOf("Edge")||-1!=Ar().indexOf("Trident")||-1!=Ar().indexOf("MSIE")||-1!=Ar().indexOf("Edge"));function ti(I,z,ee){for(const we in I)z.call(ee,I[we],we,I)}function et(I){const z={};for(const ee in I)z[ee]=I[ee];return z}const Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ft(I,z){let ee,we;for(let Ht=1;Ht<arguments.length;Ht++){for(ee in we=arguments[Ht],we)I[ee]=we[ee];for(let hn=0;hn<Et.length;hn++)ee=Et[hn],Object.prototype.hasOwnProperty.call(we,ee)&&(I[ee]=we[ee])}}function $t(I){var z=1;I=I.split(":");const ee=[];for(;0<z&&I.length;)ee.push(I.shift()),z--;return I.length&&ee.push(I.join(":")),ee}function en(I){M.setTimeout(()=>{throw I},0)}function mt(){var I=Jp;let z=null;return I.g&&(z=I.g,I.g=I.g.next,I.g||(I.h=null),z.next=null),z}var eh=new class mr{constructor(z,ee){this.i=z,this.j=ee,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}(()=>new TI,I=>I.reset());class TI{constructor(){this.next=this.g=this.h=null}set(z,ee){this.h=z,this.g=ee,this.next=null}reset(){this.next=this.g=this.h=null}}let Yu,ff=!1,Jp=new class du{constructor(){this.h=this.g=null}add(z,ee){const we=eh.get();we.set(z,ee),this.h?this.h.next=we:this.g=we,this.h=we}},ly=()=>{const I=M.Promise.resolve(void 0);Yu=()=>{I.then(uy)}};var uy=()=>{for(var I;I=mt();){try{I.h.call(I.g)}catch(ee){en(ee)}var z=eh;z.j(I),100>z.h&&(z.h++,I.next=z.g,z.g=I)}ff=!1};function Ju(){this.s=this.s,this.C=this.C}function fa(I,z){this.type=I,this.g=this.target=z,this.defaultPrevented=!1}Ju.prototype.s=!1,Ju.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ju.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},fa.prototype.h=function(){this.defaultPrevented=!0};var cy=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var I=!1,z=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const ee=()=>{};M.addEventListener("test",ee,z),M.removeEventListener("test",ee,z)}catch{}return I}();function rd(I,z){if(fa.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var ee=this.type=I.type,we=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=z,z=I.relatedTarget){if(Mi){e:{try{jr(z.nodeName);var Ht=!0;break e}catch{}Ht=!1}Ht||(z=null)}}else"mouseover"==ee?z=I.fromElement:"mouseout"==ee&&(z=I.toElement);this.relatedTarget=z,we?(this.clientX=void 0!==we.clientX?we.clientX:we.pageX,this.clientY=void 0!==we.clientY?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:dy[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&rd.aa.h.call(this)}}En(rd,fa);var dy={2:"touch",3:"pen",4:"mouse"};rd.prototype.h=function(){rd.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var hu="closure_listenable_"+(1e6*Math.random()|0),pf=0;function gf(I,z,ee,we,Ht){this.listener=I,this.proxy=null,this.src=z,this.type=ee,this.capture=!!we,this.ha=Ht,this.key=++pf,this.da=this.fa=!1}function eg(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function tg(I){this.src=I,this.g={},this.h=0}function t_(I,z){var ee=z.type;if(ee in I.g){var hn,we=I.g[ee],Ht=Array.prototype.indexOf.call(we,z,void 0);(hn=0<=Ht)&&Array.prototype.splice.call(we,Ht,1),hn&&(eg(z),0==I.g[ee].length&&(delete I.g[ee],I.h--))}}function th(I,z,ee,we){for(var Ht=0;Ht<I.length;++Ht){var hn=I[Ht];if(!hn.da&&hn.listener==z&&hn.capture==!!ee&&hn.ha==we)return Ht}return-1}tg.prototype.add=function(I,z,ee,we,Ht){var hn=I.toString();(I=this.g[hn])||(I=this.g[hn]=[],this.h++);var er=th(I,z,we,Ht);return-1<er?(z=I[er],ee||(z.fa=!1)):((z=new gf(z,this.src,hn,!!we,Ht)).fa=ee,I.push(z)),z};var mf="closure_lm_"+(1e6*Math.random()|0),n_={};function CI(I,z,ee,we,Ht){if(we&&we.once)return hy(I,z,ee,we,Ht);if(Array.isArray(z)){for(var hn=0;hn<z.length;hn++)CI(I,z[hn],ee,we,Ht);return null}return ee=_f(ee),I&&I[hu]?I.K(z,ee,J(we)?!!we.capture:!!we,Ht):wI(I,z,ee,!1,we,Ht)}function wI(I,z,ee,we,Ht,hn){if(!z)throw Error("Invalid event type");var er=J(Ht)?!!Ht.capture:!!Ht,co=i_(I);if(co||(I[mf]=co=new tg(I)),(ee=co.add(z,ee,we,er,hn)).proxy)return ee;if(we=function bI(){const z=RI;return function I(ee){return z.call(I.src,I.listener,ee)}}(),ee.proxy=we,we.src=I,we.listener=ee,I.addEventListener)cy||(Ht=er),void 0===Ht&&(Ht=!1),I.addEventListener(z.toString(),we,Ht);else if(I.attachEvent)I.attachEvent(SI(z.toString()),we);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(we)}return ee}function hy(I,z,ee,we,Ht){if(Array.isArray(z)){for(var hn=0;hn<z.length;hn++)hy(I,z[hn],ee,we,Ht);return null}return ee=_f(ee),I&&I[hu]?I.L(z,ee,J(we)?!!we.capture:!!we,Ht):wI(I,z,ee,!0,we,Ht)}function DI(I,z,ee,we,Ht){if(Array.isArray(z))for(var hn=0;hn<z.length;hn++)DI(I,z[hn],ee,we,Ht);else we=J(we)?!!we.capture:!!we,ee=_f(ee),I&&I[hu]?(I=I.i,(z=String(z).toString())in I.g&&-1<(ee=th(hn=I.g[z],ee,we,Ht))&&(eg(hn[ee]),Array.prototype.splice.call(hn,ee,1),0==hn.length&&(delete I.g[z],I.h--))):I&&(I=i_(I))&&(z=I.g[z.toString()],I=-1,z&&(I=th(z,ee,we,Ht)),(ee=-1<I?z[I]:null)&&r_(ee))}function r_(I){if("number"!=typeof I&&I&&!I.da){var z=I.src;if(z&&z[hu])t_(z.i,I);else{var ee=I.type,we=I.proxy;z.removeEventListener?z.removeEventListener(ee,we,I.capture):z.detachEvent?z.detachEvent(SI(ee),we):z.addListener&&z.removeListener&&z.removeListener(we),(ee=i_(z))?(t_(ee,I),0==ee.h&&(ee.src=null,z[mf]=null)):eg(I)}}}function SI(I){return I in n_?n_[I]:n_[I]="on"+I}function RI(I,z){if(I.da)I=!0;else{z=new rd(z,this);var ee=I.listener,we=I.ha||I.src;I.fa&&r_(I),I=ee.call(we,z)}return I}function i_(I){return(I=I[mf])instanceof tg?I:null}var o_="__closure_events_fn_"+(1e9*Math.random()>>>0);function _f(I){return"function"==typeof I?I:(I[o_]||(I[o_]=function(z){return I.handleEvent(z)}),I[o_])}function gs(){Ju.call(this),this.i=new tg(this),this.M=this,this.F=null}function Ys(I,z){var ee,we=I.F;if(we)for(ee=[];we;we=we.F)ee.push(we);if(I=I.M,we=z.type||z,"string"==typeof z)z=new fa(z,I);else if(z instanceof fa)z.target=z.target||I;else{var Ht=z;Ft(z=new fa(we,I),Ht)}if(Ht=!0,ee)for(var hn=ee.length-1;0<=hn;hn--){var er=z.g=ee[hn];Ht=id(er,we,!0,z)&&Ht}if(Ht=id(er=z.g=I,we,!0,z)&&Ht,Ht=id(er,we,!1,z)&&Ht,ee)for(hn=0;hn<ee.length;hn++)Ht=id(er=z.g=ee[hn],we,!1,z)&&Ht}function id(I,z,ee,we){if(!(z=I.i.g[String(z)]))return!0;z=z.concat();for(var Ht=!0,hn=0;hn<z.length;++hn){var er=z[hn];if(er&&!er.da&&er.capture==ee){var co=er.listener,Js=er.ha||er.src;er.fa&&t_(I.i,er),Ht=!1!==co.call(Js,we)&&Ht}}return Ht&&!we.defaultPrevented}function s_(I,z,ee){if("function"==typeof I)ee&&(I=nt(I,ee));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=nt(I.handleEvent,I)}return 2147483647<Number(z)?-1:M.setTimeout(I,z||0)}function nh(I){I.g=s_(()=>{I.g=null,I.i&&(I.i=!1,nh(I))},I.l);const z=I.h;I.h=null,I.m.apply(null,z)}En(gs,Ju),gs.prototype[hu]=!0,gs.prototype.removeEventListener=function(I,z,ee,we){DI(this,I,z,ee,we)},gs.prototype.N=function(){if(gs.aa.N.call(this),this.i){var z,I=this.i;for(z in I.g){for(var ee=I.g[z],we=0;we<ee.length;we++)eg(ee[we]);delete I.g[z],I.h--}}this.F=null},gs.prototype.K=function(I,z,ee,we){return this.i.add(String(I),z,!1,ee,we)},gs.prototype.L=function(I,z,ee,we){return this.i.add(String(I),z,!0,ee,we)};class fy extends Ju{constructor(z,ee){super(),this.m=z,this.l=ee,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:nh(this)}N(){super.N(),this.g&&(M.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vf(I){Ju.call(this),this.h=I,this.g={}}En(vf,Ju);var rh=[];function a_(I){ti(I.g,function(z,ee){this.g.hasOwnProperty(ee)&&r_(z)},I),I.g={}}vf.prototype.N=function(){vf.aa.N.call(this),a_(this)},vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ng=M.JSON.stringify,py=M.JSON.parse,gy=class{stringify(I){return M.JSON.stringify(I,void 0)}parse(I){return M.JSON.parse(I,void 0)}};function l_(){}function _y(){}l_.prototype.h=null;var fu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function u_(){fa.call(this,"d")}function c_(){fa.call(this,"c")}En(u_,fa),En(c_,fa);var od={},yf=null;function If(){return yf=yf||new gs}function d_(I){fa.call(this,od.La,I)}function ih(I){const z=If();Ys(z,new d_(z))}function vy(I,z){fa.call(this,od.STAT_EVENT,I),this.stat=z}function pa(I){const z=If();Ys(z,new vy(z,I))}function rg(I,z){fa.call(this,od.Ma,I),this.size=z}function ec(I,z){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return M.setTimeout(function(){I()},z)}function Ef(){this.g=!0}function oh(I,z,ee,we){I.info(function(){return"XMLHTTP TEXT ("+z+"): "+function NI(I,z){if(!I.g)return z;if(!z)return null;try{var ee=JSON.parse(z);if(ee)for(I=0;I<ee.length;I++)if(Array.isArray(ee[I])){var we=ee[I];if(!(2>we.length)){var Ht=we[1];if(Array.isArray(Ht)&&!(1>Ht.length)){var hn=Ht[0];if("noop"!=hn&&"stop"!=hn&&"close"!=hn)for(var er=1;er<Ht.length;er++)Ht[er]=""}}}return ng(ee)}catch{return z}}(I,ee)+(we?" "+we:"")})}od.La="serverreachability",En(d_,fa),od.STAT_EVENT="statevent",En(vy,fa),od.Ma="timingevent",En(rg,fa),Ef.prototype.xa=function(){this.g=!1},Ef.prototype.info=function(){};var ig,sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ah={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Af(){}function tc(I,z,ee,we){this.j=I,this.i=z,this.l=ee,this.R=we||1,this.U=new vf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lh}function lh(){this.i=null,this.g="",this.h=!1}En(Af,l_),Af.prototype.g=function(){return new XMLHttpRequest},Af.prototype.i=function(){return{}},ig=new Af;var Tf={},yy={};function h_(I,z,ee){I.L=1,I.v=lg(gu(z)),I.m=ee,I.P=!0,f_(I,null)}function f_(I,z){I.F=Date.now(),Cf(I),I.A=gu(I.v);var ee=I.A,we=I.R;Array.isArray(we)||(we=[String(we)]),sd(ee.i,"t",we),I.C=0,ee=I.j.J,I.h=new lh,I.g=fg(I.j,ee?z:null,!I.m),0<I.O&&(I.M=new fy(nt(I.Y,I,I.g),I.O)),z=I.U,ee=I.g,we=I.ca;var Ht="readystatechange";Array.isArray(Ht)||(Ht&&(rh[0]=Ht.toString()),Ht=rh);for(var hn=0;hn<Ht.length;hn++){var er=CI(ee,Ht[hn],we||z.handleEvent,!1,z.h||z);if(!er)break;z.g[er.key]=er}z=I.H?et(I.H):{},I.m?(I.u||(I.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,z)):(I.u="GET",I.g.ea(I.A,I.u,null,z)),ih(),function PI(I,z,ee,we,Ht,hn){I.info(function(){if(I.g)if(hn)for(var er="",co=hn.split("&"),Js=0;Js<co.length;Js++){var Zi=co[Js].split("=");if(1<Zi.length){var ga=Zi[0];Zi=Zi[1];var ma=ga.split("_");er=2<=ma.length&&"type"==ma[1]?er+(ga+"=")+Zi+"&":er+(ga+"=redacted&")}}else er=null;else er=hn;return"XMLHTTP REQ ("+we+") [attempt "+Ht+"]: "+z+"\n"+ee+"\n"+er})}(I.i,I.u,I.A,I.l,I.R,I.m)}function og(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function OI(I,z){var ee=I.C,we=z.indexOf("\n",ee);return-1==we?yy:(ee=Number(z.substring(ee,we)),isNaN(ee)?Tf:(we+=1)+ee>z.length?yy:(z=z.slice(we,we+ee),I.C=we+ee,z))}function Cf(I){I.S=Date.now()+I.I,Iy(I,I.I)}function Iy(I,z){if(null!=I.B)throw Error("WatchDog timer not null");I.B=ec(nt(I.ba,I),z)}function sg(I){I.B&&(M.clearTimeout(I.B),I.B=null)}function uh(I){0==I.j.G||I.J||Nf(I.j,I)}function nc(I){sg(I);var z=I.M;z&&"function"==typeof z.ma&&z.ma(),I.M=null,a_(I.U),I.g&&(z=I.g,I.g=null,z.abort(),z.ma())}function wf(I,z){try{var ee=I.j;if(0!=ee.G&&(ee.g==I||p_(ee.h,I)))if(!I.K&&p_(ee.h,I)&&3==ee.G){try{var we=ee.Da.g.parse(z)}catch{we=null}if(Array.isArray(we)&&3==we.length){var Ht=we;if(0==Ht[0]){e:if(!ee.u){if(ee.g){if(!(ee.g.F+3e3<I.F))break e;hg(ee),Pf(ee)}C_(ee),pa(18)}}else ee.za=Ht[1],0<ee.za-ee.T&&37500>Ht[2]&&ee.F&&0==ee.v&&!ee.C&&(ee.C=ec(nt(ee.Za,ee),6e3));if(1>=Ty(ee.h)&&ee.ca){try{ee.ca()}catch{}ee.ca=void 0}}else ld(ee,11)}else if((I.K||ee.g==I)&&hg(ee),!Or(z))for(Ht=ee.Da.g.parse(z),z=0;z<Ht.length;z++){let Zi=Ht[z];if(ee.T=Zi[0],Zi=Zi[1],2==ee.G)if("c"==Zi[0]){ee.K=Zi[1],ee.ia=Zi[2];const ga=Zi[3];null!=ga&&(ee.la=ga,ee.j.info("VER="+ee.la));const ma=Zi[4];null!=ma&&(ee.Aa=ma,ee.j.info("SVER="+ee.Aa));const cd=Zi[5];null!=cd&&"number"==typeof cd&&0<cd&&(ee.L=we=1.5*cd,ee.j.info("backChannelRequestTimeoutMs_="+we)),we=ee;const Ka=I.g;if(Ka){const gh=Ka.g?Ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var hn=we.h;hn.g||-1==gh.indexOf("spdy")&&-1==gh.indexOf("quic")&&-1==gh.indexOf("h2")||(hn.j=hn.l,hn.g=new Set,hn.h&&(g_(hn,hn.h),hn.h=null))}if(we.D){const mg=Ka.g?Ka.g.getResponseHeader("X-HTTP-Session-Id"):null;mg&&(we.ya=mg,Lo(we.I,we.D,mg))}}ee.G=3,ee.l&&ee.l.ua(),ee.ba&&(ee.R=Date.now()-I.F,ee.j.info("Handshake RTT: "+ee.R+"ms"));var er=I;if((we=ee).qa=D_(we,we.J?we.ia:null,we.W),er.K){ag(we.h,er);var co=er,Js=we.L;Js&&(co.I=Js),co.B&&(sg(co),Cf(co)),we.g=er}else Fy(we);0<ee.i.length&&dg(ee)}else"stop"!=Zi[0]&&"close"!=Zi[0]||ld(ee,7);else 3==ee.G&&("stop"==Zi[0]||"close"==Zi[0]?"stop"==Zi[0]?ld(ee,7):ph(ee):"noop"!=Zi[0]&&ee.l&&ee.l.ta(Zi),ee.v=0)}ih()}catch{}}tc.prototype.ca=function(I){I=I.target;const z=this.M;z&&3==bl(I)?z.j():this.Y(I)},tc.prototype.Y=function(I){try{if(I==this.g)e:{const ma=bl(this.g);var z=this.g.Ba();if(this.g.Z(),!(3>ma)&&(3!=ma||this.g&&(this.h.h||this.g.oa()||A_(this.g)))){this.J||4!=ma||7==z||ih(),sg(this);var ee=this.g.Z();this.X=ee;t:if(og(this)){var we=A_(this.g);I="";var Ht=we.length,hn=4==bl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),uh(this);var er="";break t}this.h.i=new M.TextDecoder}for(z=0;z<Ht;z++)this.h.h=!0,I+=this.h.i.decode(we[z],{stream:!(hn&&z==Ht-1)});we.length=0,this.h.g+=I,this.C=0,er=this.h.g}else er=this.g.oa();if(this.o=200==ee,function MI(I,z,ee,we,Ht,hn,er){I.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+Ht+"]: "+z+"\n"+ee+"\n"+hn+" "+er})}(this.i,this.u,this.A,this.l,this.R,ma,ee),this.o){if(this.T&&!this.K){t:{if(this.g){var co,Js=this.g;if((co=Js.g?Js.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Or(co)){var Zi=co;break t}}Zi=null}if(!(ee=Zi)){this.o=!1,this.s=3,pa(12),nc(this),uh(this);break e}oh(this.i,this.l,ee,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,ee)}if(this.P){let Ka;for(ee=!0;!this.J&&this.C<er.length;){if(Ka=OI(this,er),Ka==yy){4==ma&&(this.s=4,pa(14),ee=!1),oh(this.i,this.l,null,"[Incomplete Response]");break}if(Ka==Tf){this.s=4,pa(15),oh(this.i,this.l,er,"[Invalid Chunk]"),ee=!1;break}oh(this.i,this.l,Ka,null),wf(this,Ka)}if(og(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ma||0!=er.length||this.h.h||(this.s=1,pa(16),ee=!1),this.o=this.o&&ee,ee){if(0<er.length&&!this.W){this.W=!0;var ga=this.j;ga.g==this&&ga.ba&&!ga.M&&(ga.j.info("Great, no buffering proxy detected. Bytes received: "+er.length),w_(ga),ga.M=!0,pa(11))}}else oh(this.i,this.l,er,"[Invalid Chunked Response]"),nc(this),uh(this)}else oh(this.i,this.l,er,null),wf(this,er);4==ma&&nc(this),this.o&&!this.J&&(4==ma?Nf(this.j,this):(this.o=!1,Cf(this)))}else(function lc(I){const z={};I=(I.g&&2<=bl(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let we=0;we<I.length;we++){if(Or(I[we]))continue;var ee=$t(I[we]);const Ht=ee[0];if("string"!=typeof(ee=ee[1]))continue;ee=ee.trim();const hn=z[Ht]||[];z[Ht]=hn,hn.push(ee)}!function Nt(I,z){for(const ee in I)z.call(void 0,I[ee],ee,I)}(z,function(we){return we.join(", ")})})(this.g),400==ee&&0<er.indexOf("Unknown SID")?(this.s=3,pa(12)):(this.s=0,pa(13)),nc(this),uh(this)}}}catch{}},tc.prototype.cancel=function(){this.J=!0,nc(this)},tc.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function xI(I,z){I.info(function(){return"TIMEOUT: "+z})}(this.i,this.A),2!=this.L&&(ih(),pa(17)),nc(this),this.s=2,uh(this)):Iy(this,this.S-I)};var kI=class{constructor(I,z){this.g=I,this.map=z}};function Ey(I){this.l=I||10,I=M.PerformanceNavigationTiming?0<(I=M.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(M.chrome&&M.chrome.loadTimes&&M.chrome.loadTimes()&&M.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ay(I){return!!I.h||!!I.g&&I.g.size>=I.j}function Ty(I){return I.h?1:I.g?I.g.size:0}function p_(I,z){return I.h?I.h==z:!!I.g&&I.g.has(z)}function g_(I,z){I.g?I.g.add(z):I.h=z}function ag(I,z){I.h&&I.h==z?I.h=null:I.g&&I.g.has(z)&&I.g.delete(z)}function Cy(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let z=I.i;for(const ee of I.g.values())z=z.concat(ee.D);return z}return Vn(I.i)}function rc(I,z){if(I.forEach&&"function"==typeof I.forEach)I.forEach(z,void 0);else if(U(I)||"string"==typeof I)Array.prototype.forEach.call(I,z,void 0);else for(var ee=function FI(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if(U(I)||"string"==typeof I){var z=[];I=I.length;for(var ee=0;ee<I;ee++)z.push(ee);return z}z=[],ee=0;for(const we in I)z[ee++]=we;return z}}}(I),we=function LI(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if(U(I)){for(var z=[],ee=I.length,we=0;we<ee;we++)z.push(I[we]);return z}for(we in z=[],ee=0,I)z[ee++]=I[we];return z}(I),Ht=we.length,hn=0;hn<Ht;hn++)z.call(void 0,we[hn],ee&&ee[hn],I)}Ey.prototype.cancel=function(){if(this.i=Cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var ch=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pu(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof pu){this.h=I.h,mu(this,I.j),this.o=I.o,this.g=I.g,bf(this,I.s),this.l=I.l;var z=I.i,ee=new dh;ee.i=z.i,z.g&&(ee.g=new Map(z.g),ee.h=z.h),wy(this,ee),this.m=I.m}else I&&(z=String(I).match(ch))?(this.h=!1,mu(this,z[1]||"",!0),this.o=Df(z[2]||""),this.g=Df(z[3]||"",!0),bf(this,z[4]),this.l=Df(z[5]||"",!0),wy(this,z[6]||"",!0),this.m=Df(z[7]||"")):(this.h=!1,this.i=new dh(null,this.h))}function gu(I){return new pu(I)}function mu(I,z,ee){I.j=ee?Df(z,!0):z,I.j&&(I.j=I.j.replace(/:$/,""))}function bf(I,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);I.s=z}else I.s=null}function wy(I,z,ee){z instanceof dh?(I.i=z,function IA(I,z){z&&!I.j&&(ic(I),I.i=null,I.g.forEach(function(ee,we){var Ht=we.toLowerCase();we!=Ht&&(Ry(this,we),sd(this,Ht,ee))},I)),I.j=z}(I.i,I.h)):(ee||(z=Sf(z,VI)),I.i=new dh(z,I.h))}function Lo(I,z,ee){I.i.set(z,ee)}function lg(I){return Lo(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function Df(I,z){return I?z?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function Sf(I,z,ee){return"string"==typeof I?(I=encodeURI(I).replace(z,by),ee&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function by(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}pu.prototype.toString=function(){var I=[],z=this.j;z&&I.push(Sf(z,Dy,!0),":");var ee=this.g;return(ee||"file"==z)&&(I.push("//"),(z=this.o)&&I.push(Sf(z,Dy,!0),"@"),I.push(encodeURIComponent(String(ee)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ee=this.s)&&I.push(":",String(ee))),(ee=this.l)&&(this.g&&"/"!=ee.charAt(0)&&I.push("/"),I.push(Sf(ee,"/"==ee.charAt(0)?ug:Sy,!0))),(ee=this.i.toString())&&I.push("?",ee),(ee=this.m)&&I.push("#",Sf(ee,UI)),I.join("")};var Dy=/[#\/\?@]/g,Sy=/[#\?:]/g,ug=/[#\?]/g,VI=/[#\?@]/g,UI=/#/g;function dh(I,z){this.h=this.g=null,this.i=I||null,this.j=!!z}function ic(I){I.g||(I.g=new Map,I.h=0,I.i&&function m_(I,z){if(I){I=I.split("&");for(var ee=0;ee<I.length;ee++){var we=I[ee].indexOf("="),Ht=null;if(0<=we){var hn=I[ee].substring(0,we);Ht=I[ee].substring(we+1)}else hn=I[ee];z(hn,Ht?decodeURIComponent(Ht.replace(/\+/g," ")):"")}}}(I.i,function(z,ee){I.add(decodeURIComponent(z.replace(/\+/g," ")),ee)}))}function Ry(I,z){ic(I),z=Wl(I,z),I.g.has(z)&&(I.i=null,I.h-=I.g.get(z).length,I.g.delete(z))}function oc(I,z){return ic(I),z=Wl(I,z),I.g.has(z)}function sd(I,z,ee){Ry(I,z),0<ee.length&&(I.i=null,I.g.set(Wl(I,z),Vn(ee)),I.h+=ee.length)}function Wl(I,z){return z=String(z),I.j&&(z=z.toLowerCase()),z}function sc(I,z,ee,we,Ht){try{Ht&&(Ht.onload=null,Ht.onerror=null,Ht.onabort=null,Ht.ontimeout=null),we(ee)}catch{}}function My(){this.g=new gy}function BI(I,z,ee){const we=ee||"";try{rc(I,function(Ht,hn){let er=Ht;J(Ht)&&(er=ng(Ht)),z.push(we+hn+"="+encodeURIComponent(er))})}catch(Ht){throw z.push(we+"type="+encodeURIComponent("_badmap")),Ht}}function hh(I){this.l=I.Ub||null,this.j=I.eb||!1}function v_(I,z){gs.call(this),this.D=I,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function xy(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function _u(I){I.readyState=4,I.l=null,I.j=null,I.v=null,ad(I)}function ad(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function Ny(I){let z="";return ti(I,function(ee,we){z+=we,z+=":",z+=ee,z+="\r\n"}),z}function y_(I,z,ee){e:{for(we in ee){var we=!1;break e}we=!0}we||(ee=Ny(ee),"string"==typeof I?null!=ee&&encodeURIComponent(String(ee)):Lo(I,z,ee))}function rs(I){gs.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=dh.prototype).add=function(I,z){ic(this),this.i=null,I=Wl(this,I);var ee=this.g.get(I);return ee||this.g.set(I,ee=[]),ee.push(z),this.h+=1,this},u.forEach=function(I,z){ic(this),this.g.forEach(function(ee,we){ee.forEach(function(Ht){I.call(z,Ht,we,this)},this)},this)},u.na=function(){ic(this);const I=Array.from(this.g.values()),z=Array.from(this.g.keys()),ee=[];for(let we=0;we<z.length;we++){const Ht=I[we];for(let hn=0;hn<Ht.length;hn++)ee.push(z[we])}return ee},u.V=function(I){ic(this);let z=[];if("string"==typeof I)oc(this,I)&&(z=z.concat(this.g.get(Wl(this,I))));else{I=Array.from(this.g.values());for(let ee=0;ee<I.length;ee++)z=z.concat(I[ee])}return z},u.set=function(I,z){return ic(this),this.i=null,oc(this,I=Wl(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[z]),this.h+=1,this},u.get=function(I,z){return I&&0<(I=this.V(I)).length?String(I[0]):z},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],z=Array.from(this.g.keys());for(var ee=0;ee<z.length;ee++){var we=z[ee];const hn=encodeURIComponent(String(we)),er=this.V(we);for(we=0;we<er.length;we++){var Ht=hn;""!==er[we]&&(Ht+="="+encodeURIComponent(String(er[we]))),I.push(Ht)}}return this.i=I.join("&")},En(hh,l_),hh.prototype.g=function(){return new v_(this.l,this.j)},hh.prototype.i=function(I){return function(){return I}}({}),En(v_,gs),(u=v_.prototype).open=function(I,z){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=z,this.readyState=1,ad(this)},u.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(z.body=I),(this.D||M).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_u(this)),this.readyState=0},u.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof M.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xy(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var z=I.value?I.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!I.done}))&&(this.response=this.responseText+=z)}I.done?_u(this):ad(this),3==this.readyState&&xy(this)}},u.Ra=function(I){this.g&&(this.response=this.responseText=I,_u(this))},u.Qa=function(I){this.g&&(this.response=I,_u(this))},u.ga=function(){this.g&&_u(this)},u.setRequestHeader=function(I,z){this.u.append(I,z)},u.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],z=this.h.entries();for(var ee=z.next();!ee.done;)I.push((ee=ee.value)[0]+": "+ee[1]),ee=z.next();return I.join("\r\n")},Object.defineProperty(v_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),En(rs,gs);var I_=/^https?$/i,ac=["POST","PUT"];function Rf(I,z){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=z,I.m=5,E_(I),cg(I)}function E_(I){I.A||(I.A=!0,Ys(I,"complete"),Ys(I,"error"))}function fh(I){if(I.h&&typeof E<"u"&&(!I.v[1]||4!=bl(I)||2!=I.Z()))if(I.u&&4==bl(I))s_(I.Ea,0,I);else if(Ys(I,"readystatechange"),4==bl(I)){I.h=!1;try{const er=I.Z();e:switch(er){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var ee;if(!(ee=z)){var we;if(we=0===er){var Ht=String(I.D).match(ch)[1]||null;!Ht&&M.self&&M.self.location&&(Ht=M.self.location.protocol.slice(0,-1)),we=!I_.test(Ht?Ht.toLowerCase():"")}ee=we}if(ee)Ys(I,"complete"),Ys(I,"success");else{I.m=6;try{var hn=2<bl(I)?I.g.statusText:""}catch{hn=""}I.l=hn+" ["+I.Z()+"]",E_(I)}}finally{cg(I)}}}function cg(I,z){if(I.g){Oy(I);const ee=I.g,we=I.v[0]?()=>{}:null;I.g=null,I.v=null,z||Ys(I,"ready");try{ee.onreadystatechange=we}catch{}}}function Oy(I){I.I&&(M.clearTimeout(I.I),I.I=null)}function bl(I){return I.g?I.g.readyState:0}function A_(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function vu(I,z,ee){return ee&&ee.internalChannelParams&&ee.internalChannelParams[I]||z}function $I(I){this.Aa=0,this.i=[],this.j=new Ef,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vu("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vu("baseRetryDelayMs",5e3,I),this.cb=vu("retryDelaySeedMs",1e4,I),this.Wa=vu("forwardChannelMaxRetries",2,I),this.wa=vu("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new Ey(I&&I.concurrentRequestLimit),this.Da=new My,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ph(I){if(T_(I),3==I.G){var z=I.U++,ee=gu(I.I);if(Lo(ee,"SID",I.K),Lo(ee,"RID",z),Lo(ee,"TYPE","terminate"),xf(I,ee),(z=new tc(I,I.j,z)).L=2,z.v=lg(gu(ee)),ee=!1,M.navigator&&M.navigator.sendBeacon)try{ee=M.navigator.sendBeacon(z.v.toString(),"")}catch{}!ee&&M.Image&&((new Image).src=z.v,ee=!0),ee||(z.g=fg(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Cf(z)}b_(I)}function Pf(I){I.g&&(w_(I),I.g.cancel(),I.g=null)}function T_(I){Pf(I),I.u&&(M.clearTimeout(I.u),I.u=null),hg(I),I.h.cancel(),I.s&&("number"==typeof I.s&&M.clearTimeout(I.s),I.s=null)}function dg(I){if(!Ay(I.h)&&!I.s){I.s=!0;var z=I.Ga;Yu||ly(),ff||(Yu(),ff=!0),Jp.add(z,I),I.B=0}}function ky(I,z){var ee;ee=z?z.l:I.U++;const we=gu(I.I);Lo(we,"SID",I.K),Lo(we,"RID",ee),Lo(we,"AID",I.T),xf(I,we),I.m&&I.o&&y_(we,I.m,I.o),ee=new tc(I,I.j,ee,I.B+1),null===I.m&&(ee.H=I.o),z&&(I.i=z.D.concat(I.i)),z=Ly(I,ee,1e3),ee.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),g_(I.h,ee),h_(ee,we,z)}function xf(I,z){I.H&&ti(I.H,function(ee,we){Lo(z,we,ee)}),I.l&&rc({},function(ee,we){Lo(z,we,ee)})}function Ly(I,z,ee){ee=Math.min(I.i.length,ee);var we=I.l?nt(I.l.Na,I.l,I):null;e:{var Ht=I.i;let hn=-1;for(;;){const er=["count="+ee];-1==hn?0<ee?(hn=Ht[0].g,er.push("ofs="+hn)):hn=0:er.push("ofs="+hn);let co=!0;for(let Js=0;Js<ee;Js++){let Zi=Ht[Js].g;const ga=Ht[Js].map;if(Zi-=hn,0>Zi)hn=Math.max(0,Ht[Js].g-100),co=!1;else try{BI(ga,er,"req"+Zi+"_")}catch{we&&we(ga)}}if(co){we=er.join("&");break e}}}return I=I.i.splice(0,ee),z.D=I,we}function Fy(I){if(!I.g&&!I.u){I.Y=1;var z=I.Fa;Yu||ly(),ff||(Yu(),ff=!0),Jp.add(z,I),I.v=0}}function C_(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=ec(nt(I.Fa,I),Uy(I,I.v)),I.v++,0))}function w_(I){null!=I.A&&(M.clearTimeout(I.A),I.A=null)}function Vy(I){I.g=new tc(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var z=gu(I.qa);Lo(z,"RID","rpc"),Lo(z,"SID",I.K),Lo(z,"AID",I.T),Lo(z,"CI",I.F?"0":"1"),!I.F&&I.ja&&Lo(z,"TO",I.ja),Lo(z,"TYPE","xmlhttp"),xf(I,z),I.m&&I.o&&y_(z,I.m,I.o),I.L&&(I.g.I=I.L);var ee=I.g;I=I.ia,ee.L=1,ee.v=lg(gu(z)),ee.m=null,ee.P=!0,f_(ee,I)}function hg(I){null!=I.C&&(M.clearTimeout(I.C),I.C=null)}function Nf(I,z){var ee=null;if(I.g==z){hg(I),w_(I),I.g=null;var we=2}else{if(!p_(I.h,z))return;ee=z.D,ag(I.h,z),we=1}if(0!=I.G)if(z.o)if(1==we){ee=z.m?z.m.length:0,z=Date.now()-z.F;var Ht=I.B;Ys(we=If(),new rg(we,ee)),dg(I)}else Fy(I);else if(3==(Ht=z.s)||0==Ht&&0<z.X||!(1==we&&function Mf(I,z){return!(Ty(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=z.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=ec(nt(I.Ga,I,z),Uy(I,I.B)),I.B++,0)))}(I,z)||2==we&&C_(I)))switch(ee&&0<ee.length&&(z=I.h,z.i=z.i.concat(ee)),Ht){case 1:ld(I,5);break;case 4:ld(I,10);break;case 3:ld(I,6);break;default:ld(I,2)}}function Uy(I,z){let ee=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(ee*=2),ee*z}function ld(I,z){if(I.j.info("Error code "+z),2==z){var ee=nt(I.fb,I),we=I.Xa;const Ht=!we;we=new pu(we||"//www.google.com/images/cleardot.gif"),M.location&&"http"==M.location.protocol||mu(we,"https"),lg(we),Ht?function Py(I,z){const ee=new Ef;if(M.Image){const we=new Image;we.onload=Qt(sc,ee,"TestLoadImage: loaded",!0,z,we),we.onerror=Qt(sc,ee,"TestLoadImage: error",!1,z,we),we.onabort=Qt(sc,ee,"TestLoadImage: abort",!1,z,we),we.ontimeout=Qt(sc,ee,"TestLoadImage: timeout",!1,z,we),M.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=I}else z(!1)}(we.toString(),ee):function __(I,z){new Ef;const we=new AbortController,Ht=setTimeout(()=>{we.abort(),sc(0,0,!1,z)},1e4);fetch(I,{signal:we.signal}).then(hn=>{clearTimeout(Ht),sc(0,0,!!hn.ok,z)}).catch(()=>{clearTimeout(Ht),sc(0,0,!1,z)})}(we.toString(),ee)}else pa(2);I.G=0,I.l&&I.l.sa(z),b_(I),T_(I)}function b_(I){if(I.G=0,I.ka=[],I.l){const z=Cy(I.h);(0!=z.length||0!=I.i.length)&&(Rn(I.ka,z),Rn(I.ka,I.i),I.h.i.length=0,Vn(I.i),I.i.length=0),I.l.ra()}}function D_(I,z,ee){var we=ee instanceof pu?gu(ee):new pu(ee);if(""!=we.g)z&&(we.g=z+"."+we.g),bf(we,we.s);else{var Ht=M.location;we=Ht.protocol,z=z?z+"."+Ht.hostname:Ht.hostname,Ht=+Ht.port;var hn=new pu(null);we&&mu(hn,we),z&&(hn.g=z),Ht&&bf(hn,Ht),ee&&(hn.l=ee),we=hn}return z=I.ya,(ee=I.D)&&z&&Lo(we,ee,z),Lo(we,"VER",I.la),xf(I,we),we}function fg(I,z,ee){if(z&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(z=new rs(I.Ca&&!I.pa?new hh({eb:ee}):I.pa)).Ha(I.J),z}function S_(){}function pg(){}function Fa(I,z){gs.call(this),this.g=new $I(z),this.l=I,this.h=z&&z.messageUrlParams||null,I=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(I?I["X-WebChannel-Content-Type"]=z.messageContentType:I={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(I?I["X-WebChannel-Client-Profile"]=z.va:I={"X-WebChannel-Client-Profile":z.va}),this.g.S=I,(I=z&&z.Sb)&&!Or(I)&&(this.g.m=I),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!Or(z)&&(this.g.D=z,null!==(I=this.h)&&z in I&&z in(I=this.h)&&delete I[z]),this.j=new ud(this)}function gg(I){u_.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var z=I.__sm__;if(z){e:{for(const ee in z){I=ee;break e}I=void 0}(this.i=I)&&(I=this.i,z=null!==z&&I in z?z[I]:void 0),this.data=z}else this.data=I}function R_(){c_.call(this),this.status=1}function ud(I){this.g=I}(u=rs.prototype).Ha=function(I){this.J=I},u.ea=function(I,z,ee,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);z=z?z.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ig.g(),this.v=function my(I){return I.h||(I.h=I.i())}(this.o?this.o:ig),this.g.onreadystatechange=nt(this.Ea,this);try{this.B=!0,this.g.open(z,String(I),!0),this.B=!1}catch(hn){return void Rf(this,hn)}if(I=ee||"",ee=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var Ht in we)ee.set(Ht,we[Ht]);else{if("function"!=typeof we.keys||"function"!=typeof we.get)throw Error("Unknown input type for opt_headers: "+String(we));for(const hn of we.keys())ee.set(hn,we.get(hn))}we=Array.from(ee.keys()).find(hn=>"content-type"==hn.toLowerCase()),Ht=M.FormData&&I instanceof M.FormData,!(0<=Array.prototype.indexOf.call(ac,z,void 0))||we||Ht||ee.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[hn,er]of ee)this.g.setRequestHeader(hn,er);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oy(this),this.u=!0,this.g.send(I),this.u=!1}catch(hn){Rf(this,hn)}},u.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,Ys(this,"complete"),Ys(this,"abort"),cg(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cg(this,!0)),rs.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?fh(this):this.bb())},u.bb=function(){fh(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<bl(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(I){if(this.g){var z=this.g.responseText;return I&&0==z.indexOf(I)&&(z=z.substring(I.length)),py(z)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=$I.prototype).la=8,u.G=1,u.connect=function(I,z,ee,we){pa(0),this.W=I,this.H=z||{},ee&&void 0!==we&&(this.H.OSID=ee,this.H.OAID=we),this.F=this.X,this.I=D_(this,null,this.W),dg(this)},u.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const Ht=new tc(this,this.j,I);let hn=this.o;if(this.S&&(hn?(hn=et(hn),Ft(hn,this.S)):hn=this.S),null!==this.m||this.O||(Ht.H=hn,hn=null),this.P)e:{for(var z=0,ee=0;ee<this.i.length;ee++){var we=this.i[ee];if(void 0===(we="__data__"in we.map&&"string"==typeof(we=we.map.__data__)?we.length:void 0))break;if(4096<(z+=we)){z=ee;break e}if(4096===z||ee===this.i.length-1){z=ee+1;break e}}z=1e3}else z=1e3;z=Ly(this,Ht,z),Lo(ee=gu(this.I),"RID",I),Lo(ee,"CVER",22),this.D&&Lo(ee,"X-HTTP-Session-Id",this.D),xf(this,ee),hn&&(this.O?z="headers="+encodeURIComponent(String(Ny(hn)))+"&"+z:this.m&&y_(ee,this.m,hn)),g_(this.h,Ht),this.Ua&&Lo(ee,"TYPE","init"),this.P?(Lo(ee,"$req",z),Lo(ee,"SID","null"),Ht.T=!0,h_(Ht,ee,null)):h_(Ht,ee,z),this.G=2}}else 3==this.G&&(I?ky(this,I):0==this.i.length||Ay(this.h)||ky(this))},u.Fa=function(){if(this.u=null,Vy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=ec(nt(this.ab,this),I)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pa(10),Pf(this),Vy(this))},u.Za=function(){null!=this.C&&(this.C=null,Pf(this),C_(this),pa(19))},u.fb=function(I){I?(this.j.info("Successfully pinged google.com"),pa(2)):(this.j.info("Failed to ping google.com"),pa(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=S_.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},pg.prototype.g=function(I,z){return new Fa(I,z)},En(Fa,gs),Fa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fa.prototype.close=function(){ph(this.g)},Fa.prototype.o=function(I){var z=this.g;if("string"==typeof I){var ee={};ee.__data__=I,I=ee}else this.u&&((ee={}).__data__=ng(I),I=ee);z.i.push(new kI(z.Ya++,I)),3==z.G&&dg(z)},Fa.prototype.N=function(){this.g.l=null,delete this.j,ph(this.g),delete this.g,Fa.aa.N.call(this)},En(gg,u_),En(R_,c_),En(ud,S_),ud.prototype.ua=function(){Ys(this.g,"a")},ud.prototype.ta=function(I){Ys(this.g,new gg(I))},ud.prototype.sa=function(I){Ys(this.g,new R_)},ud.prototype.ra=function(){Ys(this.g,"b")},pg.prototype.createWebChannel=pg.prototype.g,Fa.prototype.send=Fa.prototype.o,Fa.prototype.open=Fa.prototype.m,Fa.prototype.close=Fa.prototype.close,Le=Cn.createWebChannelTransport=function(){return new pg},_e=Cn.getStatEventTarget=function(){return If()},te=Cn.Event=od,Ie=Cn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,Ce=Cn.ErrorCode=sh,ah.COMPLETE="complete",ye=Cn.EventType=ah,_y.EventType=fu,fu.OPEN="a",fu.CLOSE="b",fu.ERROR="c",fu.MESSAGE="d",gs.prototype.listen=gs.prototype.K,At=Cn.WebChannel=_y,Cn.FetchXmlHttpFactory=hh,rs.prototype.listenOnce=rs.prototype.L,rs.prototype.getLastError=rs.prototype.Ka,rs.prototype.getLastErrorCode=rs.prototype.Ba,rs.prototype.getStatus=rs.prototype.Z,rs.prototype.getResponseJson=rs.prototype.Oa,rs.prototype.getResponseText=rs.prototype.oa,rs.prototype.send=rs.prototype.ea,rs.prototype.setWithCredentials=rs.prototype.Ha,jt=Cn.XhrIo=rs}).apply(typeof qt<"u"?qt:typeof self<"u"?self:typeof window<"u"?window:{});const He="@firebase/firestore";class $e{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let rt="10.14.0";const an=new at.Vy("@firebase/firestore");function Kt(){return an.logLevel}function ut(u,...n){if(an.logLevel<=at.$b.DEBUG){const i=n.map(ir);an.debug(`Firestore (${rt}): ${u}`,...i)}}function Ct(u,...n){if(an.logLevel<=at.$b.ERROR){const i=n.map(ir);an.error(`Firestore (${rt}): ${u}`,...i)}}function Gn(u,...n){if(an.logLevel<=at.$b.WARN){const i=n.map(ir);an.warn(`Firestore (${rt}): ${u}`,...i)}}function ir(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Jt(u="Unexpected state"){const n=`FIRESTORE (${rt}) INTERNAL ASSERTION FAILED: `+u;throw Ct(n),new Error(n)}function ln(u,n){u||Jt()}function cn(u,n){return u}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Qe.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bt{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class St{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class rr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i($e.UNAUTHENTICATED))}shutdown(){}}class dr{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class zn{constructor(n){this.t=n,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;ln(void 0===this.o);let c=this.i;const m=J=>this.i!==c?(c=this.i,i(J)):Promise.resolve();let E=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Bt,n.enqueueRetryable(()=>m(this.currentUser))};const M=()=>{const J=E;n.enqueueRetryable((0,Ae.A)(function*(){yield J.promise,yield m(a.currentUser)}))},U=J=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.o&&(this.auth.addAuthTokenListener(this.o),M())};this.t.onInit(J=>U(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?U(J):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Bt)}},0),M()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ln("string"==typeof a.accessToken),new St(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return ln(null===n||"string"==typeof n),new $e(n)}}class Pn{constructor(n,i,a){this.l=n,this.h=i,this.P=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tr{constructor(n,i,a){this.l=n,this.h=i,this.P=a}getToken(){return Promise.resolve(new Pn(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ir{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cr{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){ln(void 0===this.o);const a=m=>{null!=m.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.R;return this.R=m.token,ut("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(m.token):Promise.resolve()};this.o=m=>{n.enqueueRetryable(()=>a(m))};const c=m=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.A.getImmediate({optional:!0});m?c(m):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(ln("string"==typeof i.token),this.R=i.token,new Ir(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wr(u){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(u);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<u;a++)i[a]=Math.floor(256*Math.random());return i}class Ei{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const c=Wr(40);for(let m=0;m<c.length;++m)a.length<20&&c[m]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[m]%62))}return a}}function Ln(u,n){return u<n?-1:u>n?1:0}function vi(u,n,i){return u.length===n.length&&u.every((a,c)=>i(a,n[c]))}function pr(u){return u+"\0"}class kr{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Fe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Fe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Fe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return kr.fromMillis(Date.now())}static fromDate(n){return kr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new kr(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Ln(this.nanoseconds,n.nanoseconds):Ln(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Mn(n)}static min(){return new Mn(new kr(0,0))}static max(){return new Mn(new kr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Fi{constructor(n,i,a){void 0===i?i=0:i>n.length&&Jt(),void 0===a?a=n.length-i:a>n.length-i&&Jt(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Fi.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Fi?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let c=0;c<a;c++){const m=n.get(c),E=i.get(c);if(m<E)return-1;if(m>E)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class or extends Fi{construct(n,i,a){return new or(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new Fe(Ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(c=>c.length>0))}return new or(i)}static emptyPath(){return new or([])}}const xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends Fi{construct(n,i,a){return new Nr(n,i,a)}static isValidIdentifier(n){return xr.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nr(["__name__"])}static fromServerFormat(n){const i=[];let a="",c=0;const m=()=>{if(0===a.length)throw new Fe(Ne.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let E=!1;for(;c<n.length;){const M=n[c];if("\\"===M){if(c+1===n.length)throw new Fe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const U=n[c+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Fe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=U,c+=2}else"`"===M?(E=!E,c++):"."!==M||E?(a+=M,c++):(m(),c++)}if(m(),E)throw new Fe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Nr(i)}static emptyPath(){return new Nr([])}}class In{constructor(n){this.path=n}static fromPath(n){return new In(or.fromString(n))}static fromName(n){return new In(or.fromString(n).popFirst(5))}static empty(){return new In(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===or.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return or.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new In(new or(n.slice()))}}class Wt{constructor(n,i,a,c){this.indexId=n,this.collectionGroup=i,this.fields=a,this.indexState=c}}function _t(u){return u.fields.find(n=>2===n.kind)}function Xt(u){return u.fields.filter(n=>2!==n.kind)}Wt.UNKNOWN_ID=-1;class dt{constructor(n,i){this.fieldPath=n,this.kind=i}}class De{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new De(0,kt.min())}}function xe(u,n){const i=u.toTimestamp().seconds,a=u.toTimestamp().nanoseconds+1,c=Mn.fromTimestamp(1e9===a?new kr(i+1,0):new kr(i,a));return new kt(c,In.empty(),n)}function tt(u){return new kt(u.readTime,u.key,-1)}class kt{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new kt(Mn.min(),In.empty(),-1)}static max(){return new kt(Mn.max(),In.empty(),-1)}}function qe(u,n){let i=u.readTime.compareTo(n.readTime);return 0!==i?i:(i=In.comparator(u.documentKey,n.documentKey),0!==i?i:Ln(u.largestBatchId,n.largestBatchId))}const Dn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Br(u){return fi.apply(this,arguments)}function fi(){return(fi=(0,Ae.A)(function*(u){if(u.code!==Ne.FAILED_PRECONDITION||u.message!==Dn)throw u;ut("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class lt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new lt((a,c)=>{this.nextCallback=m=>{this.wrapSuccess(n,m).next(a,c)},this.catchCallback=m=>{this.wrapFailure(i,m).next(a,c)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof lt?i:lt.resolve(i)}catch(i){return lt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):lt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):lt.reject(i)}static resolve(n){return new lt((i,a)=>{i(n)})}static reject(n){return new lt((i,a)=>{a(n)})}static waitFor(n){return new lt((i,a)=>{let c=0,m=0,E=!1;n.forEach(M=>{++c,M.next(()=>{++m,E&&m===c&&i()},U=>a(U))}),E=!0,m===c&&i()})}static or(n){let i=lt.resolve(!1);for(const a of n)i=i.next(c=>c?lt.resolve(c):a());return i}static forEach(n,i){const a=[];return n.forEach((c,m)=>{a.push(i.call(this,c,m))}),this.waitFor(a)}static mapArray(n,i){return new lt((a,c)=>{const m=n.length,E=new Array(m);let M=0;for(let U=0;U<m;U++){const J=U;i(n[J]).next(fe=>{E[J]=fe,++M,M===m&&a(E)},fe=>c(fe))}})}static doWhile(n,i){return new lt((a,c)=>{const m=()=>{!0===n()?i().next(()=>{m()},c):a()};m()})}}class zr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new Bt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new tr(n,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const c=Ki(a.target.error);this.V.reject(new tr(n,c))}}static open(n,i,a,c){try{return new zr(i,n.transaction(c,a))}catch(m){throw new tr(i,m)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(ut("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new ho(i)}}class Jn{constructor(n,i,a){this.name=n,this.version=i,this.p=a,12.2===Jn.S((0,Qe.ZQ)())&&Ct("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return ut("SimpleDb","Removing database:",n),Bi(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,Qe.zW)())return!1;if(Jn.v())return!0;const n=(0,Qe.ZQ)(),i=Jn.S(n),a=0<i&&i<10,c=pi(n),m=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||m)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(n){var i=this;return(0,Ae.A)(function*(){return i.db||(ut("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,c)=>{const m=indexedDB.open(i.name,i.version);m.onsuccess=E=>{a(E.target.result)},m.onblocked=()=>{c(new tr(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const M=E.target.error;c("VersionError"===M.name?new Fe(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new Fe(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new tr(n,M))},m.onupgradeneeded=E=>{ut("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.p.O(E.target.result,m.transaction,E.oldVersion,i.version).next(()=>{ut("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,c){var m=this;return(0,Ae.A)(function*(){const E="readonly"===i;let M=0;for(;;){++M;try{m.db=yield m.M(n);const U=zr.open(m.db,n,E?"readonly":"readwrite",a),J=c(U).next(fe=>(U.g(),fe)).catch(fe=>(U.abort(fe),lt.reject(fe))).toPromise();return J.catch(()=>{}),yield U.m,J}catch(U){const J=U,fe="FirebaseError"!==J.name&&M<3;if(ut("SimpleDb","Transaction failed with error:",J.message,"Retrying:",fe),m.close(),!fe)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function pi(u){const n=u.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Ii{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Bi(this.B.delete())}}class tr extends Fe{constructor(n,i){super(Ne.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Wi(u){return"IndexedDbTransactionError"===u.name}class ho{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(ut("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Bi(a)}add(n){return ut("SimpleDb","ADD",this.store.name,n,n),Bi(this.store.add(n))}get(n){return Bi(this.store.get(n)).next(i=>(void 0===i&&(i=null),ut("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return ut("SimpleDb","DELETE",this.store.name,n),Bi(this.store.delete(n))}count(){return ut("SimpleDb","COUNT",this.store.name),Bi(this.store.count())}U(n,i){const a=this.options(n,i),c=a.index?this.store.index(a.index):this.store;if("function"==typeof c.getAll){const m=c.getAll(a.range);return new lt((E,M)=>{m.onerror=U=>{M(U.target.error)},m.onsuccess=U=>{E(U.target.result)}})}{const m=this.cursor(a),E=[];return this.W(m,(M,U)=>{E.push(U)}).next(()=>E)}}G(n,i){const a=this.store.getAll(n,null===i?void 0:i);return new lt((c,m)=>{a.onerror=E=>{m(E.target.error)},a.onsuccess=E=>{c(E.target.result)}})}j(n,i){ut("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.H=!1;const c=this.cursor(a);return this.W(c,(m,E,M)=>M.delete())}J(n,i){let a;i?a=n:(a={},i=n);const c=this.cursor(a);return this.W(c,i)}Y(n){const i=this.cursor({});return new lt((a,c)=>{i.onerror=m=>{const E=Ki(m.target.error);c(E)},i.onsuccess=m=>{const E=m.target.result;E?n(E.primaryKey,E.value).next(M=>{M?E.continue():a()}):a()}})}W(n,i){const a=[];return new lt((c,m)=>{n.onerror=E=>{m(E.target.error)},n.onsuccess=E=>{const M=E.target.result;if(!M)return void c();const U=new Ii(M),J=i(M.primaryKey,M.value,U);if(J instanceof lt){const fe=J.catch(Pe=>(U.done(),lt.reject(Pe)));a.push(fe)}U.isDone?c():null===U.K?M.continue():M.continue(U.K)}}).next(()=>lt.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.H?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Bi(u){return new lt((n,i)=>{u.onsuccess=a=>{n(a.target.result)},u.onerror=a=>{const c=Ki(a.target.error);i(c)}})}let Fo=!1;function Ki(u){const n=Jn.S((0,Qe.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(i)>=0){const a=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fo||(Fo=!0,setTimeout(()=>{throw a},0)),a}}return u}class Vr{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;ut("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ae.A)(function*(){i.task=null;try{ut("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){Wi(a)?ut("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Br(a)}yield i.X(6e4)}))}}class zt{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,Ae.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,n))})()}te(n,i){const a=new Set;let c=i,m=!0;return lt.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(E=>{if(null!==E&&!a.has(E))return ut("IndexBackfiller",`Processing collection: ${E}`),this.ne(n,E,c).next(M=>{c-=M,a.add(E)});m=!1})).next(()=>i-c)}ne(n,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(c=>this.localStore.localDocuments.getNextDocuments(n,i,c,a).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(n,E).next(()=>this.re(c,m)).next(M=>(ut("IndexBackfiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(n,i,M))).next(()=>E.size)}))}re(n,i){let a=n;return i.changes.forEach((c,m)=>{const E=tt(m);qe(E,a)>0&&(a=E)}),new kt(a.readTime,a.documentKey,Math.max(i.batchId,n.largestBatchId))}}let ht=(()=>{class u{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=c=>this.ie(c),this.se=c=>a.writeSequenceNumber(c))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return u.oe=-1,u})();function on(u){return null==u}function xn(u){return 0===u&&1/u==-1/0}function bt(u){return"number"==typeof u&&Number.isInteger(u)&&!xn(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}function Zt(u){let n="";for(let i=0;i<u.length;i++)n.length>0&&(n=ur(n)),n=Sn(u.get(i),n);return ur(n)}function Sn(u,n){let i=n;const a=u.length;for(let c=0;c<a;c++){const m=u.charAt(c);switch(m){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=m}}return i}function ur(u){return u+"\x01\x01"}function cr(u){const n=u.length;if(ln(n>=2),2===n)return ln("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),or.emptyPath();const i=n-2,a=[];let c="";for(let m=0;m<n;){const E=u.indexOf("\x01",m);switch((E<0||E>i)&&Jt(),u.charAt(E+1)){case"\x01":const M=u.substring(m,E);let U;0===c.length?U=M:(c+=M,U=c,c=""),a.push(U);break;case"\x10":c+=u.substring(m,E),c+="\0";break;case"\x11":c+=u.substring(m,E+1);break;default:Jt()}m=E+2}return new or(a)}const ar=["userId","batchId"];function Qn(u,n){return[u,Zt(n)]}function Er(u,n,i){return[u,Zt(n),i]}const Vi={},Ur=["prefixPath","collectionGroup","readTime","documentId"],eo=["prefixPath","collectionGroup","documentId"],Pr=["collectionGroup","readTime","prefixPath","documentId"],gi=["canonicalId","targetId"],Ni=["targetId","path"],Ro=["path","targetId"],Di=["collectionId","parent"],Ho=["indexId","uid"],Go=["uid","sequenceNumber"],Io=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oe=["indexId","uid","orderedDocumentKey"],Ue=["userId","collectionPath","documentId"],xt=["userId","collectionPath","largestBatchId"],It=["userId","collectionGroup","largestBatchId"],nn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...nn,"documentOverlays"],Hn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],st=Hn,Yn=[...st,"indexConfiguration","indexState","indexEntries"],vr=Yn,Ai=[...Yn,"globals"];class Oi extends Bn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Lr(u,n){const i=cn(u);return Jn.F(i._e,n)}function $i(u){let n=0;for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n++;return n}function Ti(u,n){for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&n(i,u[i])}function Rr(u){for(const n in u)if(Object.prototype.hasOwnProperty.call(u,n))return!1;return!0}class Un{constructor(n,i){this.comparator=n,this.root=i||Kr.EMPTY}insert(n,i){return new Un(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(n){return new Un(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(n,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ui(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ui(this.root,n,this.comparator,!1)}getReverseIterator(){return new ui(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ui(this.root,n,this.comparator,!0)}}class ui{constructor(n,i,a,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!n.isEmpty();)if(m=i?a(n.key,i):1,i&&c&&(m*=-1),m<0)n=this.isReverse?n.left:n.right;else{if(0===m){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Kr{constructor(n,i,a,c,m){this.key=n,this.value=i,this.color=null!=a?a:Kr.RED,this.left=null!=c?c:Kr.EMPTY,this.right=null!=m?m:Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,c,m){return new Kr(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=m?m:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let c=this;const m=a(n,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(n,i,a),null):0===m?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(n,i,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,c=this;if(i(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(n,c.key)){if(c.right.isEmpty())return Kr.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const n=this.left.check();if(n!==this.right.check())throw Jt();return n+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(n,i,a,c,m){return this}insert(n,i,a){return new Kr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(n){this.comparator=n,this.data=new Un(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,n[1])>=0)return;i(c.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new to(this.data.getIterator())}getIteratorFrom(n){return new to(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof yr)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,m=a.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new yr(this.comparator);return i.data=n,i}}class to{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hr(u){return u.hasNext()?u.getNext():void 0}class Yr{constructor(n){this.fields=n,n.sort(Nr.comparator)}static empty(){return new Yr([])}unionWith(n){let i=new yr(Nr.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new Yr(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return vi(this.fields,n.fields,(i,a)=>i.isEqual(a))}}class wn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ci{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(c){try{return atob(c)}catch(m){throw typeof DOMException<"u"&&m instanceof DOMException?new wn("Invalid base64 string: "+m):m}}(n);return new ci(i)}static fromUint8Array(n){const i=function(c){let m="";for(let E=0;E<c.length;++E)m+=String.fromCharCode(c[E]);return m}(n);return new ci(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let c=0;c<i.length;c++)a[c]=i.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ln(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Q(u){if(ln(!!u),"string"==typeof u){let n=0;const i=ro.exec(u);if(ln(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),n=Number(c)}const a=new Date(u);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:ie(u.seconds),nanos:ie(u.nanos)}}function ie(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function ke(u){return"string"==typeof u?ci.fromBase64String(u):ci.fromUint8Array(u)}function ze(u){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==u?void 0:u.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function pt(u){const n=u.mapValue.fields.__previous_value__;return ze(n)?pt(n):n}function it(u){const n=Q(u.mapValue.fields.__local_write_time__.timestampValue);return new kr(n.seconds,n.nanos)}class Ut{constructor(n,i,a,c,m,E,M,U,J){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=c,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=M,this.longPollingOptions=U,this.useFetchStreams=J}}class Rt{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Rt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Rt&&n.projectId===this.projectId&&n.database===this.database}}const Yt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},un={nullValue:"NULL_VALUE"};function Tn(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ze(u)?4:Zo(u)?9007199254740991:Vo(u)?10:11:Jt()}function On(u,n){if(u===n)return!0;const i=Tn(u);if(i!==Tn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===n.booleanValue;case 4:return it(u).isEqual(it(n));case 3:return function(c,m){if("string"==typeof c.timestampValue&&"string"==typeof m.timestampValue&&c.timestampValue.length===m.timestampValue.length)return c.timestampValue===m.timestampValue;const E=Q(c.timestampValue),M=Q(m.timestampValue);return E.seconds===M.seconds&&E.nanos===M.nanos}(u,n);case 5:return u.stringValue===n.stringValue;case 6:return m=n,ke(u.bytesValue).isEqual(ke(m.bytesValue));case 7:return u.referenceValue===n.referenceValue;case 8:return function(c,m){return ie(c.geoPointValue.latitude)===ie(m.geoPointValue.latitude)&&ie(c.geoPointValue.longitude)===ie(m.geoPointValue.longitude)}(u,n);case 2:return function(c,m){if("integerValue"in c&&"integerValue"in m)return ie(c.integerValue)===ie(m.integerValue);if("doubleValue"in c&&"doubleValue"in m){const E=ie(c.doubleValue),M=ie(m.doubleValue);return E===M?xn(E)===xn(M):isNaN(E)&&isNaN(M)}return!1}(u,n);case 9:return vi(u.arrayValue.values||[],n.arrayValue.values||[],On);case 10:case 11:return function(c,m){const E=c.mapValue.fields||{},M=m.mapValue.fields||{};if($i(E)!==$i(M))return!1;for(const U in E)if(E.hasOwnProperty(U)&&(void 0===M[U]||!On(E[U],M[U])))return!1;return!0}(u,n);default:return Jt()}var m}function nr(u,n){return void 0!==(u.values||[]).find(i=>On(i,n))}function Zn(u,n){if(u===n)return 0;const i=Tn(u),a=Tn(n);if(i!==a)return Ln(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ln(u.booleanValue,n.booleanValue);case 2:return function(m,E){const M=ie(m.integerValue||m.doubleValue),U=ie(E.integerValue||E.doubleValue);return M<U?-1:M>U?1:M===U?0:isNaN(M)?isNaN(U)?0:-1:1}(u,n);case 3:return ni(u.timestampValue,n.timestampValue);case 4:return ni(it(u),it(n));case 5:return Ln(u.stringValue,n.stringValue);case 6:return function(m,E){const M=ke(m),U=ke(E);return M.compareTo(U)}(u.bytesValue,n.bytesValue);case 7:return function(m,E){const M=m.split("/"),U=E.split("/");for(let J=0;J<M.length&&J<U.length;J++){const fe=Ln(M[J],U[J]);if(0!==fe)return fe}return Ln(M.length,U.length)}(u.referenceValue,n.referenceValue);case 8:return function(m,E){const M=Ln(ie(m.latitude),ie(E.latitude));return 0!==M?M:Ln(ie(m.longitude),ie(E.longitude))}(u.geoPointValue,n.geoPointValue);case 9:return mi(u.arrayValue,n.arrayValue);case 10:return function(m,E){var M,U,J,fe;const Qt=null===(M=(m.fields||{}).value)||void 0===M?void 0:M.arrayValue,En=null===(U=(E.fields||{}).value)||void 0===U?void 0:U.arrayValue,Vn=Ln((null===(J=null==Qt?void 0:Qt.values)||void 0===J?void 0:J.length)||0,(null===(fe=null==En?void 0:En.values)||void 0===fe?void 0:fe.length)||0);return 0!==Vn?Vn:mi(Qt,En)}(u.mapValue,n.mapValue);case 11:return function(m,E){if(m===Yt.mapValue&&E===Yt.mapValue)return 0;if(m===Yt.mapValue)return 1;if(E===Yt.mapValue)return-1;const M=m.fields||{},U=Object.keys(M),J=E.fields||{},fe=Object.keys(J);U.sort(),fe.sort();for(let Pe=0;Pe<U.length&&Pe<fe.length;++Pe){const nt=Ln(U[Pe],fe[Pe]);if(0!==nt)return nt;const Qt=Zn(M[U[Pe]],J[fe[Pe]]);if(0!==Qt)return Qt}return Ln(U.length,fe.length)}(u.mapValue,n.mapValue);default:throw Jt()}}function ni(u,n){if("string"==typeof u&&"string"==typeof n&&u.length===n.length)return Ln(u,n);const i=Q(u),a=Q(n),c=Ln(i.seconds,a.seconds);return 0!==c?c:Ln(i.nanos,a.nanos)}function mi(u,n){const i=u.values||[],a=n.values||[];for(let c=0;c<i.length&&c<a.length;++c){const m=Zn(i[c],a[c]);if(m)return m}return Ln(i.length,a.length)}function Ci(u){return ri(u)}function ri(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(i){const a=Q(i);return`time(${a.seconds},${a.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?ke(u.bytesValue).toBase64():"referenceValue"in u?In.fromName(u.referenceValue).toString():"geoPointValue"in u?function(i){return`geo(${i.latitude},${i.longitude})`}(u.geoPointValue):"arrayValue"in u?function(i){let a="[",c=!0;for(const m of i.values||[])c?c=!1:a+=",",a+=ri(m);return a+"]"}(u.arrayValue):"mapValue"in u?function(i){const a=Object.keys(i.fields||{}).sort();let c="{",m=!0;for(const E of a)m?m=!1:c+=",",c+=`${E}:${ri(i.fields[E])}`;return c+"}"}(u.mapValue):Jt()}function bi(u,n){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${n.path.canonicalString()}`}}function fo(u){return!!u&&"integerValue"in u}function Qi(u){return!!u&&"arrayValue"in u}function Yi(u){return!!u&&"nullValue"in u}function po(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function is(u){return!!u&&"mapValue"in u}function Vo(u){var n,i;return"__vector__"===(null===(i=((null===(n=null==u?void 0:u.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Eo(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const n={mapValue:{fields:{}}};return Ti(u.mapValue.fields,(i,a)=>n.mapValue.fields[i]=Eo(a)),n}if(u.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(u.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Eo(u.arrayValue.values[i]);return n}return Object.assign({},u)}function Zo(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}const bs={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function os(u){return"nullValue"in u?un:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?bi(Rt.empty(),In.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?Vo(u)?bs:{mapValue:{}}:Jt()}function Xi(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?bi(Rt.empty(),In.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?bs:"mapValue"in u?Vo(u)?{mapValue:{}}:Yt:Jt()}function Uo(u,n){const i=Zn(u.value,n.value);return 0!==i?i:u.inclusive&&!n.inclusive?-1:!u.inclusive&&n.inclusive?1:0}function ss(u,n){const i=Zn(u.value,n.value);return 0!==i?i:u.inclusive&&!n.inclusive?1:!u.inclusive&&n.inclusive?-1:0}class io{constructor(n){this.value=n}static empty(){return new io({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!is(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Eo(i)}setAll(n){let i=Nr.emptyPath(),a={},c=[];n.forEach((E,M)=>{if(!i.isImmediateParentOf(M)){const U=this.getFieldsMap(i);this.applyChanges(U,a,c),a={},c=[],i=M.popLast()}E?a[M.lastSegment()]=Eo(E):c.push(M.lastSegment())});const m=this.getFieldsMap(i);this.applyChanges(m,a,c)}delete(n){const i=this.field(n.popLast());is(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return On(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let c=i.mapValue.fields[n.get(a)];is(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=c),i=c}return i.mapValue.fields}applyChanges(n,i,a){Ti(i,(c,m)=>n[c]=m);for(const c of a)delete n[c]}clone(){return new io(Eo(this.value))}}function cs(u){const n=[];return Ti(u.fields,(i,a)=>{const c=new Nr([i]);if(is(a)){const m=cs(a.mapValue).fields;if(0===m.length)n.push(c);else for(const E of m)n.push(c.child(E))}else n.push(c)}),new Yr(n)}class Xr{constructor(n,i,a,c,m,E,M){this.key=n,this.documentType=i,this.version=a,this.readTime=c,this.createTime=m,this.data=E,this.documentState=M}static newInvalidDocument(n){return new Xr(n,0,Mn.min(),Mn.min(),Mn.min(),io.empty(),0)}static newFoundDocument(n,i,a,c){return new Xr(n,1,i,Mn.min(),a,c,0)}static newNoDocument(n,i){return new Xr(n,2,i,Mn.min(),Mn.min(),io.empty(),0)}static newUnknownDocument(n,i){return new Xr(n,3,i,Mn.min(),Mn.min(),io.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Xr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dr{constructor(n,i){this.position=n,this.inclusive=i}}function Bo(u,n,i){let a=0;for(let c=0;c<u.position.length;c++){const m=n[c],E=u.position[c];if(a=m.field.isKeyField()?In.comparator(In.fromName(E.referenceValue),i.key):Zn(E,i.data.field(m.field)),"desc"===m.dir&&(a*=-1),0!==a)break}return a}function yo(u,n){if(null===u)return null===n;if(null===n||u.inclusive!==n.inclusive||u.position.length!==n.position.length)return!1;for(let i=0;i<u.position.length;i++)if(!On(u.position[i],n.position[i]))return!1;return!0}class ki{constructor(n,i="asc"){this.field=n,this.dir=i}}function Ds(u,n){return u.dir===n.dir&&u.field.isEqual(n.field)}class as{}class gr extends as{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,a):new oo(n,i,a):"array-contains"===i?new xs(n,a):"in"===i?new va(n,a):"not-in"===i?new Z(n,a):"array-contains-any"===i?new V(n,a):new gr(n,i,a)}static createKeyFieldInFilter(n,i,a){return"in"===i?new _a(n,a):new Ms(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Zn(i,this.value)):null!==i&&Tn(this.value)===Tn(i)&&this.matchesComparison(Zn(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends as{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new $r(n,i)}matches(n){return Ss(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ss(u){return"and"===u.op}function Rs(u){return"or"===u.op}function Ps(u){return zs(u)&&Ss(u)}function zs(u){for(const n of u.filters)if(n instanceof $r)return!1;return!0}function ms(u){if(u instanceof gr)return u.field.canonicalString()+u.op.toString()+Ci(u.value);if(Ps(u))return u.filters.map(n=>ms(n)).join(",");{const n=u.filters.map(i=>ms(i)).join(",");return`${u.op}(${n})`}}function Po(u,n){return u instanceof gr?(a=u,(c=n)instanceof gr&&a.op===c.op&&a.field.isEqual(c.field)&&On(a.value,c.value)):u instanceof $r?function(a,c){return c instanceof $r&&a.op===c.op&&a.filters.length===c.filters.length&&a.filters.reduce((m,E,M)=>m&&Po(E,c.filters[M]),!0)}(u,n):void Jt();var a,c}function Qo(u,n){const i=u.filters.concat(n);return $r.create(i,u.op)}function _i(u){return u instanceof gr?`${(i=u).field.canonicalString()} ${i.op} ${Ci(i.value)}`:u instanceof $r?function(i){return i.op.toString()+" {"+i.getFilters().map(_i).join(" ,")+"}"}(u):"Filter";var i}class oo extends gr{constructor(n,i,a){super(n,i,a),this.key=In.fromName(a.referenceValue)}matches(n){const i=In.comparator(n.key,this.key);return this.matchesComparison(i)}}class _a extends gr{constructor(n,i){super(n,"in",i),this.keys=Wo(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Ms extends gr{constructor(n,i){super(n,"not-in",i),this.keys=Wo(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function Wo(u,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>In.fromName(a.referenceValue))}class xs extends gr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Qi(i)&&nr(i.arrayValue,this.value)}}class va extends gr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&nr(this.value.arrayValue,i)}}class Z extends gr{constructor(n,i){super(n,"not-in",i)}matches(n){if(nr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!nr(this.value.arrayValue,i)}}class V extends gr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Qi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>nr(this.value.arrayValue,a))}}class re{constructor(n,i=null,a=[],c=[],m=null,E=null,M=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=c,this.limit=m,this.startAt=E,this.endAt=M,this.ue=null}}function X(u,n=null,i=[],a=[],c=null,m=null,E=null){return new re(u,n,i,a,c,m,E)}function ve(u){const n=cn(u);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>ms(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(m=a).field.canonicalString()+m.dir;var m}).join(","),on(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Ci(a)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Ci(a)).join(",")),n.ue=i}return n.ue}function yn(u,n){if(u.limit!==n.limit||u.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<u.orderBy.length;i++)if(!Ds(u.orderBy[i],n.orderBy[i]))return!1;if(u.filters.length!==n.filters.length)return!1;for(let i=0;i<u.filters.length;i++)if(!Po(u.filters[i],n.filters[i]))return!1;return u.collectionGroup===n.collectionGroup&&!!u.path.isEqual(n.path)&&!!yo(u.startAt,n.startAt)&&yo(u.endAt,n.endAt)}function _r(u){return In.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function li(u,n){return u.filters.filter(i=>i instanceof gr&&i.field.isEqual(n))}function zi(u,n,i){let a=un,c=!0;for(const m of li(u,n)){let E=un,M=!0;switch(m.op){case"<":case"<=":E=os(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,M=!1;break;case"!=":case"not-in":E=un}Uo({value:a,inclusive:c},{value:E,inclusive:M})<0&&(a=E,c=M)}if(null!==i)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(n)){const E=i.position[m];Uo({value:a,inclusive:c},{value:E,inclusive:i.inclusive})<0&&(a=E,c=i.inclusive);break}return{value:a,inclusive:c}}function ji(u,n,i){let a=Yt,c=!0;for(const m of li(u,n)){let E=Yt,M=!0;switch(m.op){case">=":case">":E=Xi(m.value),M=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,M=!1;break;case"!=":case"not-in":E=Yt}ss({value:a,inclusive:c},{value:E,inclusive:M})>0&&(a=E,c=M)}if(null!==i)for(let m=0;m<u.orderBy.length;++m)if(u.orderBy[m].field.isEqual(n)){const E=i.position[m];ss({value:a,inclusive:c},{value:E,inclusive:i.inclusive})>0&&(a=E,c=i.inclusive);break}return{value:a,inclusive:c}}class go{constructor(n,i=null,a=[],c=[],m=null,E="F",M=null,U=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=m,this.limitType=E,this.startAt=M,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function so(u,n,i,a,c,m,E,M){return new go(u,n,i,a,c,m,E,M)}function Ao(u){return new go(u)}function Hs(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ls(u){return null!==u.collectionGroup}function Mr(u){const n=cn(u);if(null===n.ce){n.ce=[];const i=new Set;for(const m of n.explicitOrderBy)n.ce.push(m),i.add(m.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(E){let M=new yr(Nr.comparator);return E.filters.forEach(U=>{U.getFlattenedFilters().forEach(J=>{J.isInequality()&&(M=M.add(J.field))})}),M})(n).forEach(m=>{i.has(m.canonicalString())||m.isKeyField()||n.ce.push(new ki(m,a))}),i.has(Nr.keyField().canonicalString())||n.ce.push(new ki(Nr.keyField(),a))}return n.ce}function si(u){const n=cn(u);return n.le||(n.le=function ao(u,n){if("F"===u.limitType)return X(u.path,u.collectionGroup,n,u.filters,u.limit,u.startAt,u.endAt);{n=n.map(c=>new ki(c.field,"desc"===c.dir?"asc":"desc"));const i=u.endAt?new Dr(u.endAt.position,u.endAt.inclusive):null,a=u.startAt?new Dr(u.startAt.position,u.startAt.inclusive):null;return X(u.path,u.collectionGroup,n,u.filters,u.limit,i,a)}}(n,Mr(u))),n.le}function Gi(u,n){const i=u.filters.concat([n]);return new go(u.path,u.collectionGroup,u.explicitOrderBy.slice(),i,u.limit,u.limitType,u.startAt,u.endAt)}function ds(u,n,i){return new go(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),n,i,u.startAt,u.endAt)}function Ns(u,n){return yn(si(u),si(n))&&u.limitType===n.limitType}function Yo(u){return`${ve(si(u))}|lt:${u.limitType}`}function Ko(u){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(c=>_i(c)).join(", ")}]`),on(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(c=>{return`${(E=c).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(c=>Ci(c)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(c=>Ci(c)).join(",")),`Target(${a})`}(si(u))}; limitType=${u.limitType})`}function hs(u,n){return n.isFoundDocument()&&function(a,c){const m=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(m):In.isDocumentKey(a.path)?a.path.isEqual(m):a.path.isImmediateParentOf(m)}(u,n)&&function(a,c){for(const m of Mr(a))if(!m.field.isKeyField()&&null===c.data.field(m.field))return!1;return!0}(u,n)&&function(a,c){for(const m of a.filters)if(!m.matches(c))return!1;return!0}(u,n)&&(c=n,!((a=u).startAt&&!function(E,M,U){const J=Bo(E,M,U);return E.inclusive?J<=0:J<0}(a.startAt,Mr(a),c)||a.endAt&&!function(E,M,U){const J=Bo(E,M,U);return E.inclusive?J>=0:J>0}(a.endAt,Mr(a),c)));var a,c}function ra(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Ua(u){return(n,i)=>{let a=!1;for(const c of Mr(u)){const m=Ba(c,n,i);if(0!==m)return m;a=a||c.field.isKeyField()}return 0}}function Ba(u,n,i){const a=u.field.isKeyField()?In.comparator(n.key,i.key):function(m,E,M){const U=E.data.field(m),J=M.data.field(m);return null!==U&&null!==J?Zn(U,J):Jt()}(u.field,n,i);switch(u.dir){case"asc":return a;case"desc":return-1*a;default:return Jt()}}class Jo{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[c,m]of a)if(this.equalsFn(c,n))return m}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),c=this.inner[a];if(void 0===c)return this.inner[a]=[[n,i]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],n))return void(c[m]=[n,i]);c.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],n))return 1===a.length?delete this.inner[i]:a.splice(c,1),this.innerSize--,!0;return!1}forEach(n){Ti(this.inner,(i,a)=>{for(const[c,m]of a)n(c,m)})}isEmpty(){return Rr(this.inner)}size(){return this.innerSize}}const Xo=new Un(In.comparator);function Mo(){return Xo}const Gs=new Un(In.comparator);function Ws(...u){let n=Gs;for(const i of u)n=n.insert(i.key,i);return n}function ia(u){let n=Gs;return u.forEach((i,a)=>n=n.insert(i,a.overlayedDocument)),n}function $o(){return xo()}function Ta(){return xo()}function xo(){return new Jo(u=>u.toString(),(u,n)=>u.isEqual(n))}const cl=new Un(In.comparator),_s=new yr(In.comparator);function Hr(...u){let n=_s;for(const i of u)n=n.add(i);return n}const Za=new yr(Ln);function ya(){return Za}function To(u,n){if(u.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xn(n)?"-0":n}}function es(u){return{integerValue:""+u}}function jo(u,n){return bt(n)?es(n):To(u,n)}class vs{constructor(){this._=void 0}}function Ca(u,n,i){return u instanceof ts?function(c,m){const E={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return m&&ze(m)&&(m=pt(m)),m&&(E.fields.__previous_value__=m),{mapValue:E}}(i,n):u instanceof C?O(u,n):u instanceof W?A(u,n):function(c,m){const E=Xs(c,m),M=de(E)+de(c.Pe);return fo(E)&&fo(c.Pe)?es(M):To(c.serializer,M)}(u,n)}function Ks(u,n,i){return u instanceof C?O(u,n):u instanceof W?A(u,n):i}function Xs(u,n){return u instanceof H?fo(a=n)||(m=a)&&"doubleValue"in m?n:{integerValue:0}:null;var a,m}class ts extends vs{}class C extends vs{constructor(n){super(),this.elements=n}}function O(u,n){const i=b(n);for(const a of u.elements)i.some(c=>On(c,a))||i.push(a);return{arrayValue:{values:i}}}class W extends vs{constructor(n){super(),this.elements=n}}function A(u,n){let i=b(n);for(const a of u.elements)i=i.filter(c=>!On(c,a));return{arrayValue:{values:i}}}class H extends vs{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function de(u){return ie(u.integerValue||u.doubleValue)}function b(u){return Qi(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class F{constructor(n,i){this.field=n,this.transform=i}}class ${constructor(n,i){this.version=n,this.transformResults=i}}class ne{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new ne}static exists(n){return new ne(void 0,n)}static updateTime(n){return new ne(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function s(u,n){return void 0!==u.updateTime?n.isFoundDocument()&&n.version.isEqual(u.updateTime):void 0===u.exists||u.exists===n.isFoundDocument()}class d{}function y(u,n){if(!u.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return u.isNoDocument()?new rn(u.key,ne.none()):new Tt(u.key,u.data,ne.none());{const i=u.data,a=io.empty();let c=new yr(Nr.comparator);for(let m of n.fields)if(!c.has(m)){let E=i.field(m);null===E&&m.length>1&&(m=m.popLast(),E=i.field(m)),null===E?a.delete(m):a.set(m,E),c=c.add(m)}return new Pt(u.key,a,new Yr(c.toArray()),ne.none())}}function N(u,n,i){u instanceof Tt?function(c,m,E){const M=c.value.clone(),U=Fn(c.fieldTransforms,m,E.transformResults);M.setAll(U),m.convertToFoundDocument(E.version,M).setHasCommittedMutations()}(u,n,i):u instanceof Pt?function(c,m,E){if(!s(c.precondition,m))return void m.convertToUnknownDocument(E.version);const M=Fn(c.fieldTransforms,m,E.transformResults),U=m.data;U.setAll(pn(c)),U.setAll(M),m.convertToFoundDocument(E.version,U).setHasCommittedMutations()}(u,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function K(u,n,i,a){return u instanceof Tt?function(m,E,M,U){if(!s(m.precondition,E))return M;const J=m.value.clone(),fe=jn(m.fieldTransforms,U,E);return J.setAll(fe),E.convertToFoundDocument(E.version,J).setHasLocalMutations(),null}(u,n,i,a):u instanceof Pt?function(m,E,M,U){if(!s(m.precondition,E))return M;const J=jn(m.fieldTransforms,U,E),fe=E.data;return fe.setAll(pn(m)),fe.setAll(J),E.convertToFoundDocument(E.version,fe).setHasLocalMutations(),null===M?null:M.unionWith(m.fieldMask.fields).unionWith(m.fieldTransforms.map(Pe=>Pe.field))}(u,n,i,a):(M=i,s(u.precondition,E=n)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):M);var E,M}function se(u,n){let i=null;for(const a of u.fieldTransforms){const c=n.data.field(a.field),m=Xs(a.transform,c||null);null!=m&&(null===i&&(i=io.empty()),i.set(a.field,m))}return i||null}function Be(u,n){return u.type===n.type&&!!u.key.isEqual(n.key)&&!!u.precondition.isEqual(n.precondition)&&(c=n.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&vi(a,c,(m,E)=>function pe(u,n){return u.field.isEqual(n.field)&&(c=n.transform,(a=u.transform)instanceof C&&c instanceof C||a instanceof W&&c instanceof W?vi(a.elements,c.elements,On):a instanceof H&&c instanceof H?On(a.Pe,c.Pe):a instanceof ts&&c instanceof ts);var a,c}(m,E))))&&(0===u.type?u.value.isEqual(n.value):1!==u.type||u.data.isEqual(n.data)&&u.fieldMask.isEqual(n.fieldMask));var a,c}class Tt extends d{constructor(n,i,a,c=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Pt extends d{constructor(n,i,a,c,m=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function pn(u){const n=new Map;return u.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=u.data.field(i);n.set(i,a)}}),n}function Fn(u,n,i){const a=new Map;ln(u.length===i.length);for(let c=0;c<i.length;c++){const m=u[c],E=m.transform,M=n.data.field(m.field);a.set(m.field,Ks(E,M,i[c]))}return a}function jn(u,n,i){const a=new Map;for(const c of u){const m=c.transform,E=i.data.field(c.field);a.set(c.field,Ca(m,E,n))}return a}class rn extends d{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kn extends d{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jr{constructor(n,i,a,c){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(n.key)&&N(m,n,a[c])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=K(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=K(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=Ta();return this.mutations.forEach(c=>{const m=n.get(c.key),E=m.overlayedDocument;let M=this.applyToLocalView(E,m.mutatedFields);M=i.has(c.key)?null:M;const U=y(E,M);null!==U&&a.set(c.key,U),E.isValidDocument()||E.convertToNoDocument(Mn.min())}),a}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Hr())}isEqual(n){return this.batchId===n.batchId&&vi(this.mutations,n.mutations,(i,a)=>Be(i,a))&&vi(this.baseMutations,n.baseMutations,(i,a)=>Be(i,a))}}class Si{constructor(n,i,a,c){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}static from(n,i,a){ln(n.mutations.length===a.length);let c=function(){return cl}();const m=n.mutations;for(let E=0;E<m.length;E++)c=c.insert(m[E].key,a[E].version);return new Si(n,i,a,c)}}class di{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oa{constructor(n,i){this.count=n,this.unchangedNames=i}}var qr,Sr;function ys(u){switch(u){default:return Jt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function Fr(u){if(void 0===u)return Ct("GRPC error has no .code"),Ne.UNKNOWN;switch(u){case qr.OK:return Ne.OK;case qr.CANCELLED:return Ne.CANCELLED;case qr.UNKNOWN:return Ne.UNKNOWN;case qr.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case qr.INTERNAL:return Ne.INTERNAL;case qr.UNAVAILABLE:return Ne.UNAVAILABLE;case qr.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case qr.NOT_FOUND:return Ne.NOT_FOUND;case qr.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case qr.ABORTED:return Ne.ABORTED;case qr.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case qr.DATA_LOSS:return Ne.DATA_LOSS;default:return Jt()}}(Sr=qr||(qr={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";function xi(){return new TextEncoder}const Ia=new Re([4294967295,4294967295],0);function lo(u){const n=xi().encode(u),i=new tn;return i.update(n),new Uint8Array(i.digest())}function sa(u){const n=new DataView(u.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),c=n.getUint32(8,!0),m=n.getUint32(12,!0);return[new Re([i,a],0),new Re([c,m],0)]}class Qa{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new no(`Invalid padding: ${i}`);if(a<0)throw new no(`Invalid hash count: ${a}`);if(n.length>0&&0===this.hashCount)throw new no(`Invalid hash count: ${a}`);if(0===n.length&&0!==i)throw new no(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Re.fromNumber(this.Ie)}Ee(n,i,a){let c=n.add(i.multiply(Re.fromNumber(a)));return 1===c.compare(Ia)&&(c=new Re([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=lo(n),[a,c]=sa(i);for(let m=0;m<this.hashCount;m++){const E=this.Ee(a,c,m);if(!this.de(E))return!1}return!0}static create(n,i,a){const c=n%8==0?0:8-n%8,m=new Uint8Array(Math.ceil(n/8)),E=new Qa(m,c,i);return a.forEach(M=>E.insert(M)),E}insert(n){if(0===this.Ie)return;const i=lo(n),[a,c]=sa(i);for(let m=0;m<this.hashCount;m++){const E=this.Ee(a,c,m);this.Ae(E)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Os{constructor(n,i,a,c,m){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const c=new Map;return c.set(n,wa.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new Os(Mn.min(),c,new Un(Ln),Mo(),Hr())}}class wa{constructor(n,i,a,c,m){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new wa(a,i,Hr(),Hr(),Hr())}}class Is{constructor(n,i,a,c){this.Re=n,this.removedTargetIds=i,this.key=a,this.Ve=c}}class Rl{constructor(n,i){this.targetId=n,this.me=i}}class Ui{constructor(n,i,a=ci.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=c}}class wr{constructor(){this.fe=0,this.ge=aa(),this.pe=ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Hr(),i=Hr(),a=Hr();return this.ge.forEach((c,m)=>{switch(m){case 0:n=n.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Jt()}}),new wa(this.pe,this.ye,n,i,a)}Ce(){this.we=!1,this.ge=aa()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,ln(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xl{constructor(n){this.Le=n,this.Be=new Map,this.ke=Mo(),this.qe=ql(),this.Qe=new Un(Ln)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const a=this.Ge(i);switch(n.state){case 0:this.ze(i)&&a.De(n.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(n.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(n.resumeToken));break;default:Jt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((a,c)=>{this.ze(c)&&i(c)})}He(n){const i=n.targetId,a=n.me.count,c=this.Je(i);if(c){const m=c.target;if(_r(m))if(0===a){const E=new In(m.path);this.Ue(i,E,Xr.newNoDocument(E,Mn.min()))}else ln(1===a);else{const E=this.Ye(i);if(E!==a){const M=this.Ze(n),U=M?this.Xe(M,n,E):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:c=0},hashCount:m=0}=i;let E,M;try{E=ke(a).toUint8Array()}catch(U){if(U instanceof wn)return Gn("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{M=new Qa(E,c,m)}catch(U){return Gn(U instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===M.Ie?null:M}Xe(n,i,a){return i.me.count===a-this.nt(n,i.targetId)?0:2}nt(n,i){const a=this.Le.getRemoteKeysForTarget(i);let c=0;return a.forEach(m=>{const E=this.Le.tt(),M=`projects/${E.projectId}/databases/${E.database}/documents/${m.path.canonicalString()}`;n.mightContain(M)||(this.Ue(i,m,null),c++)}),c}rt(n){const i=new Map;this.Be.forEach((m,E)=>{const M=this.Je(E);if(M){if(m.current&&_r(M.target)){const U=new In(M.target.path);null!==this.ke.get(U)||this.it(E,U)||this.Ue(E,U,Xr.newNoDocument(U,n))}m.be&&(i.set(E,m.ve()),m.Ce())}});let a=Hr();this.qe.forEach((m,E)=>{let M=!0;E.forEachWhile(U=>{const J=this.Je(U);return!J||"TargetPurposeLimboResolution"===J.purpose||(M=!1,!1)}),M&&(a=a.add(m))}),this.ke.forEach((m,E)=>E.setReadTime(n));const c=new Os(n,i,this.Qe,this.ke,a);return this.ke=Mo(),this.qe=ql(),this.Qe=new Un(Ln),c}$e(n,i){if(!this.ze(n))return;const a=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,a){if(!this.ze(n))return;const c=this.Ge(n);this.it(n,i)?c.Fe(i,1):c.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new wr,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new yr(Ln),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||ut("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new wr),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function ql(){return new Un(In.comparator)}function aa(){return new Un(In.comparator)}const fc={asc:"ASCENDING",desc:"DESCENDING"},Pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Co={and:"AND",or:"OR"};class pc{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function uo(u,n){return u.useProto3Json||on(n)?n:{value:n}}function wo(u,n){return u.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ya(u,n){return u.useProto3Json?n.toBase64():n.toUint8Array()}function ba(u,n){return wo(u,n.toTimestamp())}function mo(u){return ln(!!u),Mn.fromTimestamp(function(i){const a=Q(i);return new kr(a.seconds,a.nanos)}(u))}function Es(u,n){return Ja(u,n).canonicalString()}function Ja(u,n){const i=(c=u,new or(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===n?i:i.child(n)}function Zl(u){const n=or.fromString(u);return ln(Ls(n)),n}function Ml(u,n){return Es(u.databaseId,n.path)}function ks(u,n){const i=Zl(n);if(i.get(1)!==u.databaseId.projectId)throw new Fe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+u.databaseId.projectId);if(i.get(3)!==u.databaseId.database)throw new Fe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+u.databaseId.database);return new In(Bg(i))}function gc(u,n){return Es(u.databaseId,n)}function yh(u){const n=Zl(u);return 4===n.length?or.emptyPath():Bg(n)}function Eu(u){return new or(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function Bg(u){return ln(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Ql(u,n,i){return{name:Ml(u,n),fields:i.value.mapValue.fields}}function $f(u,n,i){const a=ks(u,n.name),c=mo(n.updateTime),m=n.createTime?mo(n.createTime):Mn.min(),E=new io({mapValue:{fields:n.fields}}),M=Xr.newFoundDocument(a,c,m,E);return i&&M.setHasCommittedMutations(),i?M.setHasCommittedMutations():M}function B(u,n){let i;if(n instanceof Tt)i={update:Ql(u,n.key,n.value)};else if(n instanceof rn)i={delete:Ml(u,n.key)};else if(n instanceof Pt)i={update:Ql(u,n.key,n.data),updateMask:$a(n.fieldMask)};else{if(!(n instanceof Kn))return Jt();i={verify:Ml(u,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(m,E){const M=E.transform;if(M instanceof ts)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(M instanceof C)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:M.elements}};if(M instanceof W)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:M.elements}};if(M instanceof H)return{fieldPath:E.field.canonicalString(),increment:M.Pe};throw Jt()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(m=n.precondition).updateTime?{updateTime:ba(u,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Jt()),i;var m}function P(u,n){const i=n.currentDocument?void 0!==(m=n.currentDocument).updateTime?ne.updateTime(mo(m.updateTime)):void 0!==m.exists?ne.exists(m.exists):ne.none():ne.none(),a=n.updateTransforms?n.updateTransforms.map(c=>function(E,M){let U=null;"setToServerValue"in M?(ln("REQUEST_TIME"===M.setToServerValue),U=new ts):"appendMissingElements"in M?U=new C(M.appendMissingElements.values||[]):"removeAllFromArray"in M?U=new W(M.removeAllFromArray.values||[]):"increment"in M?U=new H(E,M.increment):Jt();const J=Nr.fromServerFormat(M.fieldPath);return new F(J,U)}(u,c)):[];var m;if(n.update){const c=ks(u,n.update.name),m=new io({mapValue:{fields:n.update.fields}});if(n.updateMask){const E=new Yr((n.updateMask.fieldPaths||[]).map(fe=>Nr.fromServerFormat(fe)));return new Pt(c,m,E,i,a)}return new Tt(c,m,i,a)}if(n.delete){const c=ks(u,n.delete);return new rn(c,i)}if(n.verify){const c=ks(u,n.verify);return new Kn(c,i)}return Jt()}function he(u,n){return{documents:[gc(u,n.path)]}}function ge(u,n){const i={structuredQuery:{}},a=n.path;let c;null!==n.collectionGroup?(c=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(c=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gc(u,c);const m=function(J){if(0!==J.length)return As($r.create(J,"and"))}(n.filters);m&&(i.structuredQuery.where=m);const E=function(J){if(0!==J.length)return J.map(fe=>{return{field:qi((nt=fe).field),direction:Zr(nt.dir)};var nt})}(n.orderBy);E&&(i.structuredQuery.orderBy=E);const M=uo(u,n.limit);return null!==M&&(i.structuredQuery.limit=M),n.startAt&&(i.structuredQuery.startAt={before:(J=n.startAt).inclusive,values:J.position}),n.endAt&&(i.structuredQuery.endAt=function(J){return{before:!J.inclusive,values:J.position}}(n.endAt)),{_t:i,parent:c};var J}function mn(u){let n=yh(u.parent);const i=u.structuredQuery,a=i.from?i.from.length:0;let c=null;if(a>0){ln(1===a);const fe=i.from[0];fe.allDescendants?c=fe.collectionId:n=n.child(fe.collectionId)}let m=[];i.where&&(m=function(Pe){const nt=Xn(Pe);return nt instanceof $r&&Ps(nt)?nt.getFilters():[nt]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(nt=>{return new ki(qo((En=nt).field),function(Rn){switch(Rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(En.direction));var En}));let M=null;i.limit&&(M=function(Pe){let nt;return nt="object"==typeof Pe?Pe.value:Pe,on(nt)?null:nt}(i.limit));let U=null;var Pe;i.startAt&&(U=new Dr((Pe=i.startAt).values||[],!!Pe.before));let J=null;return i.endAt&&(J=function(Pe){return new Dr(Pe.values||[],!Pe.before)}(i.endAt)),so(n,c,E,m,M,"F",U,J)}function Xn(u){return void 0!==u.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qo(i.unaryFilter.field);return gr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const c=qo(i.unaryFilter.field);return gr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const m=qo(i.unaryFilter.field);return gr.create(m,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=qo(i.unaryFilter.field);return gr.create(E,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(u):void 0!==u.fieldFilter?gr.create(qo((i=u).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==u.compositeFilter?function(i){return $r.create(i.compositeFilter.filters.map(a=>Xn(a)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Jt()}}(i.compositeFilter.op))}(u):Jt();var i}function Zr(u){return fc[u]}function Li(u){return Pl[u]}function ii(u){return Co[u]}function qi(u){return{fieldPath:u.canonicalString()}}function qo(u){return Nr.fromServerFormat(u.fieldPath)}function As(u){return u instanceof gr?function(i){if("=="===i.op){if(po(i.value))return{unaryFilter:{field:qi(i.field),op:"IS_NAN"}};if(Yi(i.value))return{unaryFilter:{field:qi(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(po(i.value))return{unaryFilter:{field:qi(i.field),op:"IS_NOT_NAN"}};if(Yi(i.value))return{unaryFilter:{field:qi(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(i.field),op:Li(i.op),value:i.value}}}(u):u instanceof $r?function(i){const a=i.getFilters().map(c=>As(c));return 1===a.length?a[0]:{compositeFilter:{op:ii(i.op),filters:a}}}(u):Jt()}function $a(u){const n=[];return u.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Ls(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class Fs{constructor(n,i,a,c,m=Mn.min(),E=Mn.min(),M=ci.EMPTY_BYTE_STRING,U=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=M,this.expectedCount=U}withSequenceNumber(n){return new Fs(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Au{constructor(n){this.ct=n}}function mc(u,n){const i=n.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:ja(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())a.document={name:Ml(m=u.ct,(E=n).key),fields:E.data.value.mapValue.fields,updateTime:wo(m,E.version.toTimestamp()),createTime:wo(m,E.createTime.toTimestamp())};else if(n.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:Da(n.version)};else{if(!n.isUnknownDocument())return Jt();a.unknownDocument={path:i.path.toArray(),version:Da(n.version)}}var m,E;return a}function ja(u){const n=u.toTimestamp();return[n.seconds,n.nanoseconds]}function Da(u){const n=u.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function dl(u){const n=new kr(u.seconds,u.nanoseconds);return Mn.fromTimestamp(n)}function Vs(u,n){const i=(n.baseMutations||[]).map(m=>P(u.ct,m));for(let m=0;m<n.mutations.length-1;++m)m+1<n.mutations.length&&void 0!==n.mutations[m+1].transform&&(n.mutations[m].updateTransforms=n.mutations[m+1].transform.fieldTransforms,n.mutations.splice(m+1,1),++m);const a=n.mutations.map(m=>P(u.ct,m)),c=kr.fromMillis(n.localWriteTimeMs);return new Jr(n.batchId,c,i,a)}function Nl(u){const n=dl(u.readTime),i=void 0!==u.lastLimboFreeSnapshotVersion?dl(u.lastLimboFreeSnapshotVersion):Mn.min();let a;return a=void 0!==u.query.documents?(ln(1===(m=u.query).documents.length),si(Ao(yh(m.documents[0])))):function(m){return si(mn(m))}(u.query),new Fs(a,u.targetId,"TargetPurposeListen",u.lastListenSequenceNumber,n,i,ci.fromBase64String(u.resumeToken));var m}function Yl(u,n){const i=Da(n.snapshotVersion),a=Da(n.lastLimboFreeSnapshotVersion);let c;c=_r(n.target)?he(u.ct,n.target):ge(u.ct,n.target)._t;const m=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:ve(n.target),readTime:i,resumeToken:m,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:c}}function yi(u){const n=mn({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?ds(n,n.limit,"L"):n}function Jl(u,n){return new di(n.largestBatchId,P(u.ct,n.overlayMutation))}function Tu(u,n){const i=n.path.lastSegment();return[u,Zt(n.path.popLast()),i]}function Us(u,n,i,a){return{indexId:u,uid:n,sequenceNumber:i,readTime:Da(a.readTime),documentKey:Zt(a.documentKey.path),largestBatchId:a.largestBatchId}}class $g{getBundleMetadata(n,i){return Ol(n).get(i).next(a=>{if(a)return{id:(m=a).bundleId,createTime:dl(m.createTime),version:m.version};var m})}saveBundleMetadata(n,i){return Ol(n).put({bundleId:(c=i).id,createTime:Da(mo(c.createTime)),version:c.version});var c}getNamedQuery(n,i){return hl(n).get(i).next(a=>{if(a)return{name:(m=a).name,query:yi(m.bundledQuery),readTime:dl(m.readTime)};var m})}saveNamedQuery(n,i){return hl(n).put({name:(c=i).name,readTime:Da(mo(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Ol(u){return Lr(u,"bundles")}function hl(u){return Lr(u,"namedQueries")}class Bs{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Bs(n,i.uid||"")}getOverlay(n,i){return _c(n).get(Tu(this.userId,i)).next(a=>a?Jl(this.serializer,a):null)}getOverlays(n,i){const a=$o();return lt.forEach(i,c=>this.getOverlay(n,c).next(m=>{null!==m&&a.set(c,m)})).next(()=>a)}saveOverlays(n,i,a){const c=[];return a.forEach((m,E)=>{const M=new di(i,E);c.push(this.ht(n,M))}),lt.waitFor(c)}removeOverlaysForBatchId(n,i,a){const c=new Set;i.forEach(E=>c.add(Zt(E.getCollectionPath())));const m=[];return c.forEach(E=>{const M=IDBKeyRange.bound([this.userId,E,a],[this.userId,E,a+1],!1,!0);m.push(_c(n).j("collectionPathOverlayIndex",M))}),lt.waitFor(m)}getOverlaysForCollection(n,i,a){const c=$o(),m=Zt(i),E=IDBKeyRange.bound([this.userId,m,a],[this.userId,m,Number.POSITIVE_INFINITY],!0);return _c(n).U("collectionPathOverlayIndex",E).next(M=>{for(const U of M){const J=Jl(this.serializer,U);c.set(J.getKey(),J)}return c})}getOverlaysForCollectionGroup(n,i,a,c){const m=$o();let E;const M=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return _c(n).J({index:"collectionGroupOverlayIndex",range:M},(U,J,fe)=>{const Pe=Jl(this.serializer,J);m.size()<c||Pe.largestBatchId===E?(m.set(Pe.getKey(),Pe),E=Pe.largestBatchId):fe.done()}).next(()=>m)}ht(n,i){return _c(n).put(function(c,m,E){const[M,U,J]=Tu(m,E.mutation.key);return{userId:m,collectionPath:U,documentId:J,collectionGroup:E.mutation.key.getCollectionGroup(),largestBatchId:E.largestBatchId,overlayMutation:B(c.ct,E.mutation)}}(this.serializer,this.userId,i))}}function _c(u){return Lr(u,"documentOverlays")}class vc{Pt(n){return Lr(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const a=null==i?void 0:i.value;return a?ci.fromUint8Array(a):ci.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class eu{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(ie(n.integerValue));else if("doubleValue"in n){const a=ie(n.doubleValue);isNaN(a)?this.dt(i,13):(this.dt(i,15),xn(a)?i.At(0):i.At(a))}else if("timestampValue"in n){let a=n.timestampValue;this.dt(i,20),"string"==typeof a&&(a=Q(a)),i.Rt(`${a.seconds||""}`),i.At(a.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(ke(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const a=n.geoPointValue;this.dt(i,45),i.At(a.latitude||0),i.At(a.longitude||0)}else"mapValue"in n?Zo(n)?this.dt(i,Number.MAX_SAFE_INTEGER):Vo(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Jt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const a=n.fields||{};this.dt(i,55);for(const c of Object.keys(a))this.Vt(c,i),this.Tt(a[c],i)}wt(n,i){var a,c;const m=n.fields||{};this.dt(i,53);const E="value",M=(null===(c=null===(a=m[E].arrayValue)||void 0===a?void 0:a.values)||void 0===c?void 0:c.length)||0;this.dt(i,15),i.At(ie(M)),this.Vt(E,i),this.Tt(m[E],i)}bt(n,i){const a=n.values||[];this.dt(i,50);for(const c of a)this.Tt(c,i)}yt(n,i){this.dt(i,37),In.fromName(n).path.forEach(a=>{this.dt(i,60),this.Dt(a,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function la(u){if(0===u)return 8;let n=0;return!(u>>4)&&(n+=4,u<<=4),!(u>>6)&&(n+=2,u<<=2),!(u>>7)&&(n+=1),n}function Ih(u){const n=64-function(a){let c=0;for(let m=0;m<8;++m){const E=la(255&a[m]);if(c+=E,8!==E)break}return c}(u);return Math.ceil(n/8)}eu.vt=new eu;class dd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ft(a.value),a=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ot(a.value),a=i.next();this.Nt()}Lt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const c=i.codePointAt(0);this.Ft(240|c>>>18),this.Ft(128|63&c>>>12),this.Ft(128|63&c>>>6),this.Ft(128|63&c)}}this.Mt()}Bt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const c=i.codePointAt(0);this.Ot(240|c>>>18),this.Ot(128|63&c>>>12),this.Ot(128|63&c>>>6),this.Ot(128|63&c)}}this.Nt()}kt(n){const i=this.qt(n),a=Ih(i);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let c=i.length-a;c<i.length;++c)this.buffer[this.position++]=255&i[c]}Kt(n){const i=this.qt(n),a=Ih(i);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let c=i.length-a;c<i.length;++c)this.buffer[this.position++]=~(255&i[c])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(m){const E=new DataView(new ArrayBuffer(8));return E.setFloat64(0,m,!1),new Uint8Array(E.buffer)}(n),a=!!(128&i[0]);i[0]^=a?255:128;for(let c=1;c<i.length;++c)i[c]^=a?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const c=new Uint8Array(a);c.set(this.buffer),this.buffer=c}}class hd{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class fd{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class za{constructor(){this.jt=new dd,this.Ht=new hd(this.jt),this.Jt=new fd(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class el{constructor(n,i,a,c){this.indexId=n,this.documentKey=i,this.arrayValue=a,this.directionalValue=c}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==n?a.set([0],this.directionalValue.length):++a[a.length-1],new el(this.indexId,this.documentKey,this.arrayValue,a)}}function Ha(u,n){let i=u.indexId-n.indexId;return 0!==i?i:(i=Cu(u.arrayValue,n.arrayValue),0!==i?i:(i=Cu(u.directionalValue,n.directionalValue),0!==i?i:In.comparator(u.documentKey,n.documentKey)))}function Cu(u,n){for(let i=0;i<u.length&&i<n.length;++i){const a=u[i]-n[i];if(0!==a)return a}return u.length-n.length}class Sa{constructor(n){this.Xt=new yr((i,a)=>Nr.comparator(i.field,a.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const a=i;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(n){if(ln(n.collectionGroup===this.collectionId),this.nn)return!1;const i=_t(n);if(void 0!==i&&!this.sn(i))return!1;const a=Xt(n);let c=new Set,m=0,E=0;for(;m<a.length&&this.sn(a[m]);++m)c=c.add(a[m].fieldPath.canonicalString());if(m===a.length)return!0;if(this.Xt.size>0){const M=this.Xt.getIterator().getNext();if(!c.has(M.field.canonicalString())){const U=a[m];if(!this.on(M,U)||!this._n(this.en[E++],U))return!1}++m}for(;m<a.length;++m)if(E>=this.en.length||!this._n(this.en[E++],a[m]))return!1;return!0}an(){if(this.nn)return null;let n=new yr(Nr.comparator);const i=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new dt(a.field,2));else{if(n.has(a.field))continue;n=n.add(a.field),i.push(new dt(a.field,0))}for(const a of this.en)a.field.isKeyField()||n.has(a.field)||(n=n.add(a.field),i.push(new dt(a.field,"asc"===a.dir?0:1)));return new Wt(Wt.UNKNOWN_ID,this.collectionId,i,De.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Qr(u){var n,i;if(ln(u instanceof gr||u instanceof $r),u instanceof gr){if(u instanceof va){const c=(null===(i=null===(n=u.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(m=>gr.create(u.field,"==",m)))||[];return $r.create(c,"or")}return u}const a=u.filters.map(c=>Qr(c));return $r.create(a,u.op)}function pd(u){if(0===u.getFilters().length)return[];const n=Eh(Qr(u));return ln(jf(n)),tu(n)||yc(n)?[n]:n.getFilters()}function tu(u){return u instanceof gr}function yc(u){return u instanceof $r&&Ps(u)}function jf(u){return tu(u)||yc(u)||function(i){if(i instanceof $r&&Rs(i)){for(const a of i.getFilters())if(!tu(a)&&!yc(a))return!1;return!0}return!1}(u)}function Eh(u){if(ln(u instanceof gr||u instanceof $r),u instanceof gr)return u;if(1===u.filters.length)return Eh(u.filters[0]);const n=u.filters.map(a=>Eh(a));let i=$r.create(n,u.op);return i=Ic(i),jf(i)?i:(ln(i instanceof $r),ln(Ss(i)),ln(i.filters.length>1),i.filters.reduce((a,c)=>Ah(a,c)))}function Ah(u,n){let i;return ln(u instanceof gr||u instanceof $r),ln(n instanceof gr||n instanceof $r),i=u instanceof gr?n instanceof gr?$r.create([u,n],"and"):gd(u,n):n instanceof gr?gd(n,u):function(c,m){if(ln(c.filters.length>0&&m.filters.length>0),Ss(c)&&Ss(m))return Qo(c,m.getFilters());const E=Rs(c)?c:m,M=Rs(c)?m:c,U=E.filters.map(J=>Ah(J,M));return $r.create(U,"or")}(u,n),Ic(i)}function gd(u,n){if(Ss(n))return Qo(n,u.getFilters());{const i=n.filters.map(a=>Ah(u,a));return $r.create(i,"or")}}function Ic(u){if(ln(u instanceof gr||u instanceof $r),u instanceof gr)return u;const n=u.getFilters();if(1===n.length)return Ic(n[0]);if(zs(u))return u;const i=n.map(c=>Ic(c)),a=[];return i.forEach(c=>{c instanceof gr?a.push(c):c instanceof $r&&(c.op===u.op?a.push(...c.filters):a.push(c))}),1===a.length?a[0]:$r.create(a,u.op)}class nu{constructor(){this.un=new Ec}addToCollectionParentIndex(n,i){return this.un.add(i),lt.resolve()}getCollectionParents(n,i){return lt.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return lt.resolve()}deleteFieldIndex(n,i){return lt.resolve()}deleteAllFieldIndexes(n){return lt.resolve()}createTargetIndexes(n,i){return lt.resolve()}getDocumentsMatchingTarget(n,i){return lt.resolve(null)}getIndexType(n,i){return lt.resolve(0)}getFieldIndexes(n,i){return lt.resolve([])}getNextCollectionGroupToUpdate(n){return lt.resolve(null)}getMinOffset(n,i){return lt.resolve(kt.min())}getMinOffsetFromCollectionGroup(n,i){return lt.resolve(kt.min())}updateCollectionGroup(n,i,a){return lt.resolve()}updateIndexEntries(n,i){return lt.resolve()}}class Ec{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),c=this.index[i]||new yr(or.comparator),m=!c.has(a);return this.index[i]=c.add(a),m}has(n){const i=n.lastSegment(),a=n.popLast(),c=this.index[i];return c&&c.has(a)}getEntries(n){return(this.index[n]||new yr(or.comparator)).toArray()}}const md=new Uint8Array(0);class jg{constructor(n,i){this.databaseId=i,this.cn=new Ec,this.ln=new Jo(a=>ve(a),(a,c)=>yn(a,c)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const a=i.lastSegment(),c=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const m={collectionId:a,parent:Zt(c)};return _d(n).put(m)}return lt.resolve()}getCollectionParents(n,i){const a=[],c=IDBKeyRange.bound([i,""],[pr(i),""],!1,!0);return _d(n).U(c).next(m=>{for(const E of m){if(E.collectionId!==i)break;a.push(cr(E.parent))}return a})}addFieldIndex(n,i){const a=dn(n),c={indexId:(M=i).indexId,collectionGroup:M.collectionGroup,fields:M.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var M;delete c.indexId;const m=a.add(c);if(i.indexState){const E=ei(n);return m.next(M=>{E.put(Us(M,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return m.next()}deleteFieldIndex(n,i){const a=dn(n),c=ei(n),m=wu(n);return a.delete(i.indexId).next(()=>c.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=dn(n),a=wu(n),c=ei(n);return i.j().next(()=>a.j()).next(()=>c.j())}createTargetIndexes(n,i){return lt.forEach(this.hn(i),a=>this.getIndexType(n,a).next(c=>{if(0===c||1===c){const m=new Sa(a).an();if(null!=m)return this.addFieldIndex(n,m)}}))}getDocumentsMatchingTarget(n,i){const a=wu(n);let c=!0;const m=new Map;return lt.forEach(this.hn(i),E=>this.Pn(n,E).next(M=>{c&&(c=!!M),m.set(E,M)})).next(()=>{if(c){let E=Hr();const M=[];return lt.forEach(m,(U,J)=>{var Ar;ut("IndexedDbIndexManager",`Using index ${Ar=U,`id=${Ar.indexId}|cg=${Ar.collectionGroup}|f=${Ar.fields.map(jr=>`${jr.fieldPath}:${jr.kind}`).join(",")}`} to execute ${ve(i)}`);const fe=function(Ar,jr){const Mi=_t(jr);if(void 0===Mi)return null;for(const ti of li(Ar,Mi.fieldPath))switch(ti.op){case"array-contains-any":return ti.value.arrayValue.values||[];case"array-contains":return[ti.value]}return null}(J,U),Pe=function(Ar,jr){const Mi=new Map;for(const ti of Xt(jr))for(const Nt of li(Ar,ti.fieldPath))switch(Nt.op){case"==":case"in":Mi.set(ti.fieldPath.canonicalString(),Nt.value);break;case"not-in":case"!=":return Mi.set(ti.fieldPath.canonicalString(),Nt.value),Array.from(Mi.values())}return null}(J,U),nt=function(Ar,jr){const Mi=[];let ti=!0;for(const Nt of Xt(jr)){const et=0===Nt.kind?zi(Ar,Nt.fieldPath,Ar.startAt):ji(Ar,Nt.fieldPath,Ar.startAt);Mi.push(et.value),ti&&(ti=et.inclusive)}return new Dr(Mi,ti)}(J,U),Qt=function(Ar,jr){const Mi=[];let ti=!0;for(const Nt of Xt(jr)){const et=0===Nt.kind?ji(Ar,Nt.fieldPath,Ar.endAt):zi(Ar,Nt.fieldPath,Ar.endAt);Mi.push(et.value),ti&&(ti=et.inclusive)}return new Dr(Mi,ti)}(J,U),En=this.In(U,J,nt),Vn=this.In(U,J,Qt),Rn=this.Tn(U,J,Pe),mr=this.En(U.indexId,fe,En,nt.inclusive,Vn,Qt.inclusive,Rn);return lt.forEach(mr,Or=>a.G(Or,i.limit).next(Ar=>{Ar.forEach(jr=>{const Mi=In.fromSegments(jr.documentKey);E.has(Mi)||(E=E.add(Mi),M.push(Mi))})}))}).next(()=>M)}return lt.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:pd($r.create(n.filters,"and")).map(a=>X(n.path,n.collectionGroup,n.orderBy,a.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,a,c,m,E,M){const U=(null!=i?i.length:1)*Math.max(a.length,m.length),J=U/(null!=i?i.length:1),fe=[];for(let Pe=0;Pe<U;++Pe){const nt=i?this.dn(i[Pe/J]):md,Qt=this.An(n,nt,a[Pe%J],c),En=this.Rn(n,nt,m[Pe%J],E),Vn=M.map(Rn=>this.An(n,nt,Rn,!0));fe.push(...this.createRange(Qt,En,Vn))}return fe}An(n,i,a,c){const m=new el(n,In.empty(),i,a);return c?m:m.Zt()}Rn(n,i,a,c){const m=new el(n,In.empty(),i,a);return c?m.Zt():m}Pn(n,i){const a=new Sa(i),c=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,c).next(m=>{let E=null;for(const M of m)a.rn(M)&&(!E||M.fields.length>E.fields.length)&&(E=M);return E})}getIndexType(n,i){let a=2;const c=this.hn(i);return lt.forEach(c,m=>this.Pn(n,m).next(E=>{E?0!==a&&E.fields.length<function(U){let J=new yr(Nr.comparator),fe=!1;for(const Pe of U.filters)for(const nt of Pe.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?fe=!0:J=J.add(nt.field));for(const Pe of U.orderBy)Pe.field.isKeyField()||(J=J.add(Pe.field));return J.size+(fe?1:0)}(m)&&(a=1):a=0})).next(()=>null!==i.limit&&c.length>1&&2===a?1:a)}Vn(n,i){const a=new za;for(const c of Xt(n)){const m=i.data.field(c.fieldPath);if(null==m)return null;const E=a.Yt(c.kind);eu.vt.It(m,E)}return a.zt()}dn(n){const i=new za;return eu.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const a=new za;return eu.vt.It(bi(this.databaseId,i),a.Yt(function(m){const E=Xt(m);return 0===E.length?0:E[E.length-1].kind}(n))),a.zt()}Tn(n,i,a){if(null===a)return[];let c=[];c.push(new za);let m=0;for(const E of Xt(n)){const M=a[m++];for(const U of c)if(this.fn(i,E.fieldPath)&&Qi(M))c=this.gn(c,E,M);else{const J=U.Yt(E.kind);eu.vt.It(M,J)}}return this.pn(c)}In(n,i,a){return this.Tn(n,i,a.position)}pn(n){const i=[];for(let a=0;a<n.length;++a)i[a]=n[a].zt();return i}gn(n,i,a){const c=[...n],m=[];for(const E of a.arrayValue.values||[])for(const M of c){const U=new za;U.seed(M.zt()),eu.vt.It(E,U.Yt(i.kind)),m.push(U)}return m}fn(n,i){return!!n.filters.find(a=>a instanceof gr&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(n,i){const a=dn(n),c=ei(n);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(m=>{const E=[];return lt.forEach(m,M=>c.get([M.indexId,this.uid]).next(U=>{E.push(function(fe,Pe){const nt=Pe?new De(Pe.sequenceNumber,new kt(dl(Pe.readTime),new In(cr(Pe.documentKey)),Pe.largestBatchId)):De.empty(),Qt=fe.fields.map(([En,Vn])=>new dt(Nr.fromServerFormat(En),Vn));return new Wt(fe.indexId,fe.collectionGroup,Qt,nt)}(M,U))})).next(()=>E)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((a,c)=>{const m=a.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:Ln(a.collectionGroup,c.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,a){const c=dn(n),m=ei(n);return this.yn(n).next(E=>c.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(M=>lt.forEach(M,U=>m.put(Us(U.indexId,this.uid,E,a)))))}updateIndexEntries(n,i){const a=new Map;return lt.forEach(i,(c,m)=>{const E=a.get(c.collectionGroup);return(E?lt.resolve(E):this.getFieldIndexes(n,c.collectionGroup)).next(M=>(a.set(c.collectionGroup,M),lt.forEach(M,U=>this.wn(n,c,U).next(J=>{const fe=this.Sn(m,U);return J.isEqual(fe)?lt.resolve():this.bn(n,m,U,J,fe)}))))})}Dn(n,i,a,c){return wu(n).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.mn(a,i.key),documentKey:i.key.path.toArray()})}vn(n,i,a,c){return wu(n).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.mn(a,i.key),i.key.path.toArray()])}wn(n,i,a){const c=wu(n);let m=new yr(Ha);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,i)])},(E,M)=>{m=m.add(new el(a.indexId,i,M.arrayValue,M.directionalValue))}).next(()=>m)}Sn(n,i){let a=new yr(Ha);const c=this.Vn(i,n);if(null==c)return a;const m=_t(i);if(null!=m){const E=n.data.field(m.fieldPath);if(Qi(E))for(const M of E.arrayValue.values||[])a=a.add(new el(i.indexId,n.key,this.dn(M),c))}else a=a.add(new el(i.indexId,n.key,md,c));return a}bn(n,i,a,c,m){ut("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const E=[];return function(U,J,fe,Pe,nt){const Qt=U.getIterator(),En=J.getIterator();let Vn=hr(Qt),Rn=hr(En);for(;Vn||Rn;){let mr=!1,Or=!1;if(Vn&&Rn){const Ar=fe(Vn,Rn);Ar<0?Or=!0:Ar>0&&(mr=!0)}else null!=Vn?Or=!0:mr=!0;mr?(Pe(Rn),Rn=hr(En)):Or?(nt(Vn),Vn=hr(Qt)):(Vn=hr(Qt),Rn=hr(En))}}(c,m,Ha,M=>{E.push(this.Dn(n,i,a,M))},M=>{E.push(this.vn(n,i,a,M))}),lt.waitFor(E)}yn(n){let i=1;return ei(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,m)=>{m.done(),i=c.sequenceNumber+1}).next(()=>i)}createRange(n,i,a){a=a.sort((E,M)=>Ha(E,M)).filter((E,M,U)=>!M||0!==Ha(E,U[M-1]));const c=[];c.push(n);for(const E of a){const M=Ha(E,n),U=Ha(E,i);if(0===M)c[0]=n.Zt();else if(M>0&&U<0)c.push(E),c.push(E.Zt());else if(U>0)break}c.push(i);const m=[];for(let E=0;E<c.length;E+=2){if(this.Cn(c[E],c[E+1]))return[];m.push(IDBKeyRange.bound([c[E].indexId,this.uid,c[E].arrayValue,c[E].directionalValue,md,[]],[c[E+1].indexId,this.uid,c[E+1].arrayValue,c[E+1].directionalValue,md,[]]))}return m}Cn(n,i){return Ha(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Ac)}getMinOffset(n,i){return lt.mapArray(this.hn(i),a=>this.Pn(n,a).next(c=>c||Jt())).next(Ac)}}function _d(u){return Lr(u,"collectionParents")}function wu(u){return Lr(u,"indexEntries")}function dn(u){return Lr(u,"indexConfiguration")}function ei(u){return Lr(u,"indexState")}function Ac(u){ln(0!==u.length);let n=u[0].indexState.offset,i=n.largestBatchId;for(let a=1;a<u.length;a++){const c=u[a].indexState.offset;qe(c,n)<0&&(n=c),i<c.largestBatchId&&(i=c.largestBatchId)}return new kt(n.readTime,n.documentKey,i)}const vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ai{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new ai(n,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Th(u,n,i){const a=u.store("mutations"),c=u.store("documentMutations"),m=[],E=IDBKeyRange.only(i.batchId);let M=0;const U=a.J({range:E},(fe,Pe,nt)=>(M++,nt.delete()));m.push(U.next(()=>{ln(1===M)}));const J=[];for(const fe of i.mutations){const Pe=Er(n,fe.key.path,i.batchId);m.push(c.delete(Pe)),J.push(fe.key)}return lt.waitFor(m).next(()=>J)}function fl(u){if(!u)return 0;let n;if(u.document)n=u.document;else if(u.unknownDocument)n=u.unknownDocument;else{if(!u.noDocument)throw Jt();n=u.noDocument}return JSON.stringify(n).length}ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(41943040,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);class Zs{constructor(n,i,a,c){this.userId=n,this.serializer=i,this.indexManager=a,this.referenceDelegate=c,this.Fn={}}static lt(n,i,a,c){ln(""!==n.uid);const m=n.isAuthenticated()?n.uid:"";return new Zs(m,i,a,c)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tl(n).J({index:"userMutationsIndex",range:a},(c,m,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(n,i,a,c){const m=kl(n),E=tl(n);return E.add({}).next(M=>{ln("number"==typeof M);const U=new Jr(M,i,a,c),J=function(Qt,En,Vn){const Rn=Vn.baseMutations.map(Or=>B(Qt.ct,Or)),mr=Vn.mutations.map(Or=>B(Qt.ct,Or));return{userId:En,batchId:Vn.batchId,localWriteTimeMs:Vn.localWriteTime.toMillis(),baseMutations:Rn,mutations:mr}}(this.serializer,this.userId,U),fe=[];let Pe=new yr((nt,Qt)=>Ln(nt.canonicalString(),Qt.canonicalString()));for(const nt of c){const Qt=Er(this.userId,nt.key.path,M);Pe=Pe.add(nt.key.path.popLast()),fe.push(E.put(J)),fe.push(m.put(Qt,Vi))}return Pe.forEach(nt=>{fe.push(this.indexManager.addToCollectionParentIndex(n,nt))}),n.addOnCommittedListener(()=>{this.Fn[M]=U.keys()}),lt.waitFor(fe).next(()=>U)})}lookupMutationBatch(n,i){return tl(n).get(i).next(a=>a?(ln(a.userId===this.userId),Vs(this.serializer,a)):null)}Mn(n,i){return this.Fn[i]?lt.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const c=a.keys();return this.Fn[i]=c,c}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,c=IDBKeyRange.lowerBound([this.userId,a]);let m=null;return tl(n).J({index:"userMutationsIndex",range:c},(E,M,U)=>{M.userId===this.userId&&(ln(M.batchId>=a),m=Vs(this.serializer,M)),U.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return tl(n).J({index:"userMutationsIndex",range:i,reverse:!0},(c,m,E)=>{a=m.batchId,E.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tl(n).U("userMutationsIndex",i).next(a=>a.map(c=>Vs(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=Qn(this.userId,i.path),c=IDBKeyRange.lowerBound(a),m=[];return kl(n).J({range:c},(E,M,U)=>{const[J,fe,Pe]=E,nt=cr(fe);if(J===this.userId&&i.path.isEqual(nt))return tl(n).get(Pe).next(Qt=>{if(!Qt)throw Jt();ln(Qt.userId===this.userId),m.push(Vs(this.serializer,Qt))});U.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new yr(Ln);const c=[];return i.forEach(m=>{const E=Qn(this.userId,m.path),M=IDBKeyRange.lowerBound(E),U=kl(n).J({range:M},(J,fe,Pe)=>{const[nt,Qt,En]=J,Vn=cr(Qt);nt===this.userId&&m.path.isEqual(Vn)?a=a.add(En):Pe.done()});c.push(U)}),lt.waitFor(c).next(()=>this.xn(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,c=a.length+1,m=Qn(this.userId,a),E=IDBKeyRange.lowerBound(m);let M=new yr(Ln);return kl(n).J({range:E},(U,J,fe)=>{const[Pe,nt,Qt]=U,En=cr(nt);Pe===this.userId&&a.isPrefixOf(En)?En.length===c&&(M=M.add(Qt)):fe.done()}).next(()=>this.xn(n,M))}xn(n,i){const a=[],c=[];return i.forEach(m=>{c.push(tl(n).get(m).next(E=>{if(null===E)throw Jt();ln(E.userId===this.userId),a.push(Vs(this.serializer,E))}))}),lt.waitFor(c).next(()=>a)}removeMutationBatch(n,i){return Th(n._e,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),lt.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return lt.resolve();const a=IDBKeyRange.lowerBound(function(E){return[E]}(this.userId)),c=[];return kl(n).J({range:a},(m,E,M)=>{if(m[0]===this.userId){const U=cr(m[1]);c.push(U)}else M.done()}).next(()=>{ln(0===c.length)})})}containsKey(n,i){return Tc(n,this.userId,i)}Nn(n){return Ch(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tc(u,n,i){const a=Qn(n,i.path),c=a[1],m=IDBKeyRange.lowerBound(a);let E=!1;return kl(u).J({range:m,H:!0},(M,U,J)=>{const[fe,Pe,nt]=M;fe===n&&Pe===c&&(E=!0),J.done()}).next(()=>E)}function tl(u){return Lr(u,"mutations")}function kl(u){return Lr(u,"documentMutations")}function Ch(u){return Lr(u,"mutationQueues")}class bu{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new bu(0)}static kn(){return new bu(-1)}}class zf{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const a=new bu(i.highestTargetId);return i.highestTargetId=a.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Mn.fromTimestamp(new kr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.qn(n).next(c=>(c.highestListenSequenceNumber=i,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.Qn(n,c)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(a=>(a.targetCount+=1,this.$n(i,a),this.Qn(n,a))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>ru(n).delete(i.targetId)).next(()=>this.qn(n)).next(a=>(ln(a.targetCount>0),a.targetCount-=1,this.Qn(n,a)))}removeTargets(n,i,a){let c=0;const m=[];return ru(n).J((E,M)=>{const U=Nl(M);U.sequenceNumber<=i&&null===a.get(U.targetId)&&(c++,m.push(this.removeTargetData(n,U)))}).next(()=>lt.waitFor(m)).next(()=>c)}forEachTarget(n,i){return ru(n).J((a,c)=>{const m=Nl(c);i(m)})}qn(n){return Cc(n).get("targetGlobalKey").next(i=>(ln(null!==i),i))}Qn(n,i){return Cc(n).put("targetGlobalKey",i)}Kn(n,i){return ru(n).put(Yl(this.serializer,i))}$n(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const a=ve(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let m=null;return ru(n).J({range:c,index:"queryTargetsIndex"},(E,M,U)=>{const J=Nl(M);yn(i,J.target)&&(m=J,U.done())}).next(()=>m)}addMatchingKeys(n,i,a){const c=[],m=zo(n);return i.forEach(E=>{const M=Zt(E.path);c.push(m.put({targetId:a,path:M})),c.push(this.referenceDelegate.addReference(n,a,E))}),lt.waitFor(c)}removeMatchingKeys(n,i,a){const c=zo(n);return lt.forEach(i,m=>{const E=Zt(m.path);return lt.waitFor([c.delete([a,E]),this.referenceDelegate.removeReference(n,a,m)])})}removeMatchingKeysForTargetId(n,i){const a=zo(n),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),c=zo(n);let m=Hr();return c.J({range:a,H:!0},(E,M,U)=>{const J=cr(E[1]),fe=new In(J);m=m.add(fe)}).next(()=>m)}containsKey(n,i){const a=Zt(i.path),c=IDBKeyRange.bound([a],[pr(a)],!1,!0);let m=0;return zo(n).J({index:"documentTargetsIndex",H:!0,range:c},([E,M],U,J)=>{0!==E&&(m++,J.done())}).next(()=>m>0)}ot(n,i){return ru(n).get(i).next(a=>a?Nl(a):null)}}function ru(u){return Lr(u,"targets")}function Cc(u){return Lr(u,"targetGlobal")}function zo(u){return Lr(u,"targetDocuments")}function nl([u,n],[i,a]){const c=Ln(u,i);return 0===c?Ln(n,a):c}class wh{constructor(n){this.Un=n,this.buffer=new yr(nl),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();nl(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ra{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;ut("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ae.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){Wi(a)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Br(a)}yield i.Hn(3e5)}))}}class Pa{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return lt.resolve(ht.oe);const a=new wh(i);return this.Jn.forEachTarget(n,c=>a.zn(c.sequenceNumber)).next(()=>this.Jn.Zn(n,c=>a.zn(c))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.Jn.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(vd)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vd):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let a,c,m,E,M,U,J;const fe=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),c=this.params.maximumSequenceNumbersToCollect):c=Pe,E=Date.now(),this.nthSequenceNumber(n,c))).next(Pe=>(a=Pe,M=Date.now(),this.removeTargets(n,a,i))).next(Pe=>(m=Pe,U=Date.now(),this.removeOrphanedDocuments(n,a))).next(Pe=>(J=Date.now(),Kt()<=at.$b.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-fe}ms\n\tDetermined least recently used ${c} in `+(M-E)+`ms\n\tRemoved ${m} targets in `+(U-M)+`ms\n\tRemoved ${Pe} documents in `+(J-U)+`ms\nTotal Duration: ${J-fe}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:Pe})))}}class Gf{constructor(n,i){this.db=n,this.garbageCollector=function Hf(u,n){return new Pa(u,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(c=>a+c))}er(n){let i=0;return this.Zn(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(a,c)=>i(c))}addReference(n,i,a){return yd(n,a)}removeReference(n,i,a){return yd(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return yd(n,i)}nr(n,i){return function(c,m){let E=!1;return Ch(c).Y(M=>Tc(c,M,m).next(U=>(U&&(E=!0),lt.resolve(!U)))).next(()=>E)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.tr(n,(E,M)=>{if(M<=i){const U=this.nr(n,E).next(J=>{if(!J)return m++,a.getEntry(n,E).next(()=>(a.removeEntry(E,Mn.min()),zo(n).delete([0,Zt(E.path)])))});c.push(U)}}).next(()=>lt.waitFor(c)).next(()=>a.apply(n)).next(()=>m)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return yd(n,i)}tr(n,i){const a=zo(n);let c,m=ht.oe;return a.J({index:"documentTargetsIndex"},([E,M],{path:U,sequenceNumber:J})=>{0===E?(m!==ht.oe&&i(new In(cr(c)),m),m=J,c=U):m=ht.oe}).next(()=>{m!==ht.oe&&i(new In(cr(c)),m)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function yd(u,n){return zo(u).put((c=u.currentSequenceNumber,{targetId:0,path:Zt(n.path),sequenceNumber:c}));var c}class Wf{constructor(){this.changes=new Jo(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Xr.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?lt.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class bh{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,a){return pl(n).put(a)}removeEntry(n,i,a){return pl(n).delete(function(m,E){const M=m.path.toArray();return[M.slice(0,M.length-2),M[M.length-2],ja(E),M[M.length-1]]}(i,a))}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.rr(n,a)))}getEntry(n,i){let a=Xr.newInvalidDocument(i);return pl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Du(i))},(c,m)=>{a=this.ir(i,m)}).next(()=>a)}sr(n,i){let a={size:0,document:Xr.newInvalidDocument(i)};return pl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Du(i))},(c,m)=>{a={document:this.ir(i,m),size:fl(m)}}).next(()=>a)}getEntries(n,i){let a=Mo();return this._r(n,i,(c,m)=>{const E=this.ir(c,m);a=a.insert(c,E)}).next(()=>a)}ar(n,i){let a=Mo(),c=new Un(In.comparator);return this._r(n,i,(m,E)=>{const M=this.ir(m,E);a=a.insert(m,M),c=c.insert(m,fl(E))}).next(()=>({documents:a,ur:c}))}_r(n,i,a){if(i.isEmpty())return lt.resolve();let c=new yr(Sh);i.forEach(U=>c=c.add(U));const m=IDBKeyRange.bound(Du(c.first()),Du(c.last())),E=c.getIterator();let M=E.getNext();return pl(n).J({index:"documentKeyIndex",range:m},(U,J,fe)=>{const Pe=In.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;M&&Sh(M,Pe)<0;)a(M,null),M=E.getNext();M&&M.isEqual(Pe)&&(a(M,J),M=E.hasNext()?E.getNext():null),M?fe.$(Du(M)):fe.done()}).next(()=>{for(;M;)a(M,null),M=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(n,i,a,c,m){const E=i.path,M=[E.popLast().toArray(),E.lastSegment(),ja(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],U=[E.popLast().toArray(),E.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pl(n).U(IDBKeyRange.bound(M,U,!0)).next(J=>{null==m||m.incrementDocumentReadCount(J.length);let fe=Mo();for(const Pe of J){const nt=this.ir(In.fromSegments(Pe.prefixPath.concat(Pe.collectionGroup,Pe.documentId)),Pe);nt.isFoundDocument()&&(hs(i,nt)||c.has(nt.key))&&(fe=fe.insert(nt.key,nt))}return fe})}getAllFromCollectionGroup(n,i,a,c){let m=Mo();const E=Ed(i,a),M=Ed(i,kt.max());return pl(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,M,!0)},(U,J,fe)=>{const Pe=this.ir(In.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);m=m.insert(Pe.key,Pe),m.size===c&&fe.done()}).next(()=>m)}newChangeBuffer(n){return new Dh(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return wc(n).get("remoteDocumentGlobalKey").next(i=>(ln(!!i),i))}rr(n,i){return wc(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const a=function xl(u,n){let i;if(n.document)i=$f(u.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const a=In.fromSegments(n.noDocument.path),c=dl(n.noDocument.readTime);i=Xr.newNoDocument(a,c),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Jt();{const a=In.fromSegments(n.unknownDocument.path),c=dl(n.unknownDocument.version);i=Xr.newUnknownDocument(a,c)}}return n.readTime&&i.setReadTime(function(c){const m=new kr(c[0],c[1]);return Mn.fromTimestamp(m)}(n.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(Mn.min()))return a}return Xr.newInvalidDocument(n)}}function Id(u){return new bh(u)}class Dh extends Wf{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Jo(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(n){const i=[];let a=0,c=new yr((m,E)=>Ln(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const M=this.lr.get(m);if(i.push(this.cr.removeEntry(n,m,M.readTime)),E.isValidDocument()){const U=mc(this.cr.serializer,E);c=c.add(m.path.popLast());const J=fl(U);a+=J-M.size,i.push(this.cr.addEntry(n,m,U))}else if(a-=M.size,this.trackRemovals){const U=mc(this.cr.serializer,E.convertToNoDocument(Mn.min()));i.push(this.cr.addEntry(n,m,U))}}),c.forEach(m=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,m))}),i.push(this.cr.updateMetadata(n,a)),lt.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(a=>(this.lr.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:a,ur:c})=>(c.forEach((m,E)=>{this.lr.set(m,{size:E,readTime:a.get(m).readTime})}),a))}}function wc(u){return Lr(u,"remoteDocumentGlobal")}function pl(u){return Lr(u,"remoteDocumentsV14")}function Du(u){const n=u.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Ed(u,n){const i=n.documentKey.path.toArray();return[u,ja(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Sh(u,n){const i=u.path.toArray(),a=n.path.toArray();let c=0;for(let m=0;m<i.length-2&&m<a.length-2;++m)if(c=Ln(i[m],a[m]),c)return c;return c=Ln(i.length,a.length),c||(c=Ln(i[i.length-2],a[a.length-2]),c||Ln(i[i.length-1],a[a.length-1]))}class Kf{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Rh{constructor(n,i,a,c){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=c}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next(c=>(a=c,this.remoteDocumentCache.getEntry(n,i))).next(c=>(null!==a&&K(a.mutation,c,Yr.empty(),kr.now()),c))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.getLocalViewOfDocuments(n,a,Hr()).next(()=>a))}getLocalViewOfDocuments(n,i,a=Hr()){const c=$o();return this.populateOverlays(n,c,i).next(()=>this.computeViews(n,i,c,a).next(m=>{let E=Ws();return m.forEach((M,U)=>{E=E.insert(M,U.overlayedDocument)}),E}))}getOverlayedDocuments(n,i){const a=$o();return this.populateOverlays(n,a,i).next(()=>this.computeViews(n,i,a,Hr()))}populateOverlays(n,i,a){const c=[];return a.forEach(m=>{i.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(n,c).next(m=>{m.forEach((E,M)=>{i.set(E,M)})})}computeViews(n,i,a,c){let m=Mo();const E=xo(),M=xo();return i.forEach((U,J)=>{const fe=a.get(J.key);c.has(J.key)&&(void 0===fe||fe.mutation instanceof Pt)?m=m.insert(J.key,J):void 0!==fe?(E.set(J.key,fe.mutation.getFieldMask()),K(fe.mutation,J,fe.mutation.getFieldMask(),kr.now())):E.set(J.key,Yr.empty())}),this.recalculateAndSaveOverlays(n,m).next(U=>(U.forEach((J,fe)=>E.set(J,fe)),i.forEach((J,fe)=>{var Pe;return M.set(J,new Kf(fe,null!==(Pe=E.get(J))&&void 0!==Pe?Pe:null))}),M))}recalculateAndSaveOverlays(n,i){const a=xo();let c=new Un((E,M)=>E-M),m=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(E=>{for(const M of E)M.keys().forEach(U=>{const J=i.get(U);if(null===J)return;let fe=a.get(U)||Yr.empty();fe=M.applyToLocalView(J,fe),a.set(U,fe);const Pe=(c.get(M.batchId)||Hr()).add(U);c=c.insert(M.batchId,Pe)})}).next(()=>{const E=[],M=c.getReverseIterator();for(;M.hasNext();){const U=M.getNext(),J=U.key,fe=U.value,Pe=Ta();fe.forEach(nt=>{if(!m.has(nt)){const Qt=y(i.get(nt),a.get(nt));null!==Qt&&Pe.set(nt,Qt),m=m.add(nt)}}),E.push(this.documentOverlayCache.saveOverlays(n,J,Pe))}return lt.waitFor(E)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.recalculateAndSaveOverlays(n,a))}getDocumentsMatchingQuery(n,i,a,c){return In.isDocumentKey((E=i).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):ls(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,c):this.getDocumentsMatchingCollectionQuery(n,i,a,c);var E}getNextDocuments(n,i,a,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,c).next(m=>{const E=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,c-m.size):lt.resolve($o());let M=-1,U=m;return E.next(J=>lt.forEach(J,(fe,Pe)=>(M<Pe.largestBatchId&&(M=Pe.largestBatchId),m.get(fe)?lt.resolve():this.remoteDocumentCache.getEntry(n,fe).next(nt=>{U=U.insert(fe,nt)}))).next(()=>this.populateOverlays(n,J,m)).next(()=>this.computeViews(n,U,J,Hr())).next(fe=>({batchId:M,changes:ia(fe)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new In(i)).next(a=>{let c=Ws();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}getDocumentsMatchingCollectionGroupQuery(n,i,a,c){const m=i.collectionGroup;let E=Ws();return this.indexManager.getCollectionParents(n,m).next(M=>lt.forEach(M,U=>{const J=(Pe=i,nt=U.child(m),new go(nt,null,Pe.explicitOrderBy.slice(),Pe.filters.slice(),Pe.limit,Pe.limitType,Pe.startAt,Pe.endAt));var Pe,nt;return this.getDocumentsMatchingCollectionQuery(n,J,a,c).next(fe=>{fe.forEach((Pe,nt)=>{E=E.insert(Pe,nt)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(n,i,a,c){let m;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next(E=>(m=E,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,m,c))).next(E=>{m.forEach((U,J)=>{const fe=J.getKey();null===E.get(fe)&&(E=E.insert(fe,Xr.newInvalidDocument(fe)))});let M=Ws();return E.forEach((U,J)=>{const fe=m.get(U);void 0!==fe&&K(fe.mutation,J,Yr.empty(),kr.now()),hs(i,J)&&(M=M.insert(U,J))}),M})}}class Ph{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return lt.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(c=i).id,version:c.version,createTime:mo(c.createTime)}),lt.resolve();var c}getNamedQuery(n,i){return lt.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(c=i).name,query:yi(c.bundledQuery),readTime:mo(c.readTime)}),lt.resolve();var c}}class Mh{constructor(){this.overlays=new Un(In.comparator),this.Ir=new Map}getOverlay(n,i){return lt.resolve(this.overlays.get(i))}getOverlays(n,i){const a=$o();return lt.forEach(i,c=>this.getOverlay(n,c).next(m=>{null!==m&&a.set(c,m)})).next(()=>a)}saveOverlays(n,i,a){return a.forEach((c,m)=>{this.ht(n,i,m)}),lt.resolve()}removeOverlaysForBatchId(n,i,a){const c=this.Ir.get(a);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.Ir.delete(a)),lt.resolve()}getOverlaysForCollection(n,i,a){const c=$o(),m=i.length+1,E=new In(i.child("")),M=this.overlays.getIteratorFrom(E);for(;M.hasNext();){const U=M.getNext().value,J=U.getKey();if(!i.isPrefixOf(J.path))break;J.path.length===m&&U.largestBatchId>a&&c.set(U.getKey(),U)}return lt.resolve(c)}getOverlaysForCollectionGroup(n,i,a,c){let m=new Un((J,fe)=>J-fe);const E=this.overlays.getIterator();for(;E.hasNext();){const J=E.getNext().value;if(J.getKey().getCollectionGroup()===i&&J.largestBatchId>a){let fe=m.get(J.largestBatchId);null===fe&&(fe=$o(),m=m.insert(J.largestBatchId,fe)),fe.set(J.getKey(),J)}}const M=$o(),U=m.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((J,fe)=>M.set(J,fe)),!(M.size()>=c)););return lt.resolve(M)}ht(n,i,a){const c=this.overlays.get(a.key);if(null!==c){const E=this.Ir.get(c.largestBatchId).delete(a.key);this.Ir.set(c.largestBatchId,E)}this.overlays=this.overlays.insert(a.key,new di(i,a));let m=this.Ir.get(i);void 0===m&&(m=Hr(),this.Ir.set(i,m)),this.Ir.set(i,m.add(a.key))}}class zg{constructor(){this.sessionToken=ci.EMPTY_BYTE_STRING}getSessionToken(n){return lt.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,lt.resolve()}}class us{constructor(){this.Tr=new yr(bo.Er),this.dr=new yr(bo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const a=new bo(n,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.Vr(new bo(n,i))}mr(n,i){n.forEach(a=>this.removeReference(a,i))}gr(n){const i=new In(new or([])),a=new bo(i,n),c=new bo(i,n+1),m=[];return this.dr.forEachInRange([a,c],E=>{this.Vr(E),m.push(E.key)}),m}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new In(new or([])),a=new bo(i,n),c=new bo(i,n+1);let m=Hr();return this.dr.forEachInRange([a,c],E=>{m=m.add(E.key)}),m}containsKey(n){const i=new bo(n,0),a=this.Tr.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class bo{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return In.comparator(n.key,i.key)||Ln(n.wr,i.wr)}static Ar(n,i){return Ln(n.wr,i.wr)||In.comparator(n.key,i.key)}}class _o{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new yr(bo.Er)}checkEmpty(n){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,a,c){const m=this.Sr;this.Sr++;const E=new Jr(m,i,a,c);this.mutationQueue.push(E);for(const M of c)this.br=this.br.add(new bo(M.key,m)),this.indexManager.addToCollectionParentIndex(n,M.key.path.popLast());return lt.resolve(E)}lookupMutationBatch(n,i){return lt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const c=this.vr(i+1),m=c<0?0:c;return lt.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new bo(i,0),c=new bo(i,Number.POSITIVE_INFINITY),m=[];return this.br.forEachInRange([a,c],E=>{const M=this.Dr(E.wr);m.push(M)}),lt.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new yr(Ln);return i.forEach(c=>{const m=new bo(c,0),E=new bo(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([m,E],M=>{a=a.add(M.wr)})}),lt.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,c=a.length+1;let m=a;In.isDocumentKey(m)||(m=m.child(""));const E=new bo(new In(m),0);let M=new yr(Ln);return this.br.forEachWhile(U=>{const J=U.key.path;return!!a.isPrefixOf(J)&&(J.length===c&&(M=M.add(U.wr)),!0)},E),lt.resolve(this.Cr(M))}Cr(n){const i=[];return n.forEach(a=>{const c=this.Dr(a);null!==c&&i.push(c)}),i}removeMutationBatch(n,i){ln(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return lt.forEach(i.mutations,c=>{const m=new bo(c.key,i.batchId);return a=a.delete(m),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.br=a})}On(n){}containsKey(n,i){const a=new bo(i,0),c=this.br.firstAfterOrEqual(a);return lt.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(n){return lt.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class xh{constructor(n){this.Mr=n,this.docs=new Un(In.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,c=this.docs.get(a),m=c?c.size:0,E=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return lt.resolve(a?a.document.mutableCopy():Xr.newInvalidDocument(i))}getEntries(n,i){let a=Mo();return i.forEach(c=>{const m=this.docs.get(c);a=a.insert(c,m?m.document.mutableCopy():Xr.newInvalidDocument(c))}),lt.resolve(a)}getDocumentsMatchingQuery(n,i,a,c){let m=Mo();const E=i.path,M=new In(E.child("")),U=this.docs.getIteratorFrom(M);for(;U.hasNext();){const{key:J,value:{document:fe}}=U.getNext();if(!E.isPrefixOf(J.path))break;J.path.length>E.length+1||qe(tt(fe),a)<=0||(c.has(fe.key)||hs(i,fe))&&(m=m.insert(fe.key,fe.mutableCopy()))}return lt.resolve(m)}getAllFromCollectionGroup(n,i,a,c){Jt()}Or(n,i){return lt.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new Nh(this)}getSize(n){return lt.resolve(this.size)}}class Nh extends Wf{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((a,c)=>{c.isValidDocument()?i.push(this.cr.addEntry(n,c)):this.cr.removeEntry(a)}),lt.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Hg{constructor(n){this.persistence=n,this.Nr=new Jo(i=>ve(i),yn),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new us,this.targetCount=0,this.kr=bu.Bn()}forEachTarget(n,i){return this.Nr.forEach((a,c)=>i(c)),lt.resolve()}getLastRemoteSnapshotVersion(n){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return lt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),lt.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new bu(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,lt.resolve()}updateTargetData(n,i){return this.Kn(i),lt.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,lt.resolve()}removeTargets(n,i,a){let c=0;const m=[];return this.Nr.forEach((E,M)=>{M.sequenceNumber<=i&&null===a.get(M.targetId)&&(this.Nr.delete(E),m.push(this.removeMatchingKeysForTargetId(n,M.targetId)),c++)}),lt.waitFor(m).next(()=>c)}getTargetCount(n){return lt.resolve(this.targetCount)}getTargetData(n,i){const a=this.Nr.get(i)||null;return lt.resolve(a)}addMatchingKeys(n,i,a){return this.Br.Rr(i,a),lt.resolve()}removeMatchingKeys(n,i,a){this.Br.mr(i,a);const c=this.persistence.referenceDelegate,m=[];return c&&i.forEach(E=>{m.push(c.markPotentiallyOrphaned(n,E))}),lt.waitFor(m)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),lt.resolve()}getMatchingKeysForTargetId(n,i){const a=this.Br.yr(i);return lt.resolve(a)}containsKey(n,i){return lt.resolve(this.Br.containsKey(i))}}class bc{constructor(n,i){this.qr={},this.overlays={},this.Qr=new ht(0),this.Kr=!1,this.Kr=!0,this.$r=new zg,this.referenceDelegate=n(this),this.Ur=new Hg(this),this.indexManager=new nu,this.remoteDocumentCache=new xh(a=>this.referenceDelegate.Wr(a)),this.serializer=new Au(i),this.Gr=new Ph(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Mh,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this.qr[n.toKey()];return a||(a=new _o(i,this.referenceDelegate),this.qr[n.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,a){ut("MemoryPersistence","Starting transaction:",n);const c=new Xf(this.Qr.next());return this.referenceDelegate.zr(),a(c).next(m=>this.referenceDelegate.jr(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Hr(n,i){return lt.or(Object.values(this.qr).map(a=>()=>a.containsKey(n,i)))}}class Xf extends Bn{constructor(n){super(),this.currentSequenceNumber=n}}class Su{constructor(n){this.persistence=n,this.Jr=new us,this.Yr=null}static Zr(n){return new Su(n)}get Xr(){if(this.Yr)return this.Yr;throw Jt()}addReference(n,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),lt.resolve()}removeReference(n,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),lt.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),lt.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(c=>this.Xr.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(c=>{c.forEach(m=>this.Xr.add(m.toString()))}).next(()=>a.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Xr,a=>{const c=In.fromPath(a);return this.ei(n,c).next(m=>{m||i.removeEntry(c,Mn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return lt.or([()=>lt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Ma{constructor(n){this.serializer=n}O(n,i,a,c){const m=new zr("createOrUpgrade",i);var U;a<1&&c>=1&&(n.createObjectStore("owner"),(U=n).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ar,{unique:!0}),U.createObjectStore("documentMutations"),qf(n),function(U){U.createObjectStore("remoteDocuments")}(n));let E=lt.resolve();return a<3&&c>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(n),qf(n)),E=E.next(()=>function(U){const J=U.store("targetGlobal"),fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",fe)}(m))),a<4&&c>=4&&(0!==a&&(E=E.next(()=>function(U,J){return J.store("mutations").U().next(fe=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ar,{unique:!0});const Pe=J.store("mutations"),nt=fe.map(Qt=>Pe.put(Qt));return lt.waitFor(nt)})}(n,m))),E=E.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),a<5&&c>=5&&(E=E.next(()=>this.ni(m))),a<6&&c>=6&&(E=E.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(n),this.ri(m)))),a<7&&c>=7&&(E=E.next(()=>this.ii(m))),a<8&&c>=8&&(E=E.next(()=>this.si(n,m))),a<9&&c>=9&&(E=E.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(n)})),a<10&&c>=10&&(E=E.next(()=>this.oi(m))),a<11&&c>=11&&(E=E.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),a<12&&c>=12&&(E=E.next(()=>{!function(U){const J=U.createObjectStore("documentOverlays",{keyPath:Ue});J.createIndex("collectionPathOverlayIndex",xt,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",It,{unique:!1})}(n)})),a<13&&c>=13&&(E=E.next(()=>function(U){const J=U.createObjectStore("remoteDocumentsV14",{keyPath:Ur});J.createIndex("documentKeyIndex",eo),J.createIndex("collectionGroupIndex",Pr)}(n)).next(()=>this._i(n,m)).next(()=>n.deleteObjectStore("remoteDocuments"))),a<14&&c>=14&&(E=E.next(()=>this.ai(n,m))),a<15&&c>=15&&(E=E.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:Ho}).createIndex("sequenceNumberIndex",Go,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Io}).createIndex("documentKeyIndex",oe,{unique:!1})}(n))),a<16&&c>=16&&(E=E.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),a<17&&c>=17&&(E=E.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(n)})),E}ri(n){let i=0;return n.store("remoteDocuments").J((a,c)=>{i+=fl(c)}).next(()=>{const a={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(n){const i=n.store("mutationQueues"),a=n.store("mutations");return i.U().next(c=>lt.forEach(c,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",E).next(M=>lt.forEach(M,U=>{ln(U.userId===m.userId);const J=Vs(this.serializer,U);return Th(n,m.userId,J).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),a=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return a.J((E,M)=>{const U=new or(E),J=[0,Zt(U)];m.push(i.get(J).next(fe=>fe?lt.resolve():i.put({targetId:0,path:Zt(U),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>lt.waitFor(m))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:Di});const a=i.store("collectionParents"),c=new Ec,m=E=>{if(c.add(E)){const M=E.lastSegment(),U=E.popLast();return a.put({collectionId:M,parent:Zt(U)})}};return i.store("remoteDocuments").J({H:!0},(E,M)=>{const U=new or(E);return m(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([E,M,U],J)=>{const fe=cr(M);return m(fe.popLast())}))}oi(n){const i=n.store("targets");return i.J((a,c)=>{const m=Nl(c),E=Yl(this.serializer,m);return i.put(E)})}_i(n,i){const a=i.store("remoteDocuments"),c=[];return a.J((m,E)=>{const M=i.store("remoteDocumentsV14"),U=(Pe=E,Pe.document?new In(or.fromString(Pe.document.name).popFirst(5)):Pe.noDocument?In.fromSegments(Pe.noDocument.path):Pe.unknownDocument?In.fromSegments(Pe.unknownDocument.path):Jt()).path.toArray(),J={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};var Pe;c.push(M.put(J))}).next(()=>lt.waitFor(c))}ai(n,i){const a=i.store("mutations"),c=Id(this.serializer),m=new bc(Su.Zr,this.serializer.ct);return a.U().next(E=>{const M=new Map;return E.forEach(U=>{var J;let fe=null!==(J=M.get(U.userId))&&void 0!==J?J:Hr();Vs(this.serializer,U).keys().forEach(Pe=>fe=fe.add(Pe)),M.set(U.userId,fe)}),lt.forEach(M,(U,J)=>{const fe=new $e(J),Pe=Bs.lt(this.serializer,fe),nt=m.getIndexManager(fe),Qt=Zs.lt(fe,this.serializer,nt,m.referenceDelegate);return new Rh(c,Qt,Pe,nt).recalculateAndSaveOverlaysForDocumentKeys(new Oi(i,ht.oe),U).next()})})}}function qf(u){u.createObjectStore("targetDocuments",{keyPath:Ni}).createIndex("documentTargetsIndex",Ro,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gi,{unique:!0}),u.createObjectStore("targetGlobal")}const Dc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ll{constructor(n,i,a,c,m,E,M,U,J,fe,Pe=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.ui=m,this.window=E,this.document=M,this.ci=J,this.li=fe,this.hi=Pe,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=nt=>Promise.resolve(),!Ll.D())throw new Fe(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gf(this,c),this.Ai=i+"main",this.serializer=new Au(U),this.Ri=new Jn(this.Ai,this.hi,new Ma(this.serializer)),this.$r=new vc,this.Ur=new zf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Id(this.serializer),this.Gr=new $g,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===fe&&Ct("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Ne.FAILED_PRECONDITION,Dc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new ht(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var a=(0,Ae.A)(function*(c){if(i.started)return n(c)});return function(c){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,Ae.A)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,Ae.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>_l(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Wi(n))return ut("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return ml(n).get("owner").next(i=>lt.resolve(this.vi(i)))}Ci(n){return _l(n).delete(this.clientId)}Fi(){var n=this;return(0,Ae.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=Lr(a,"clientMetadata");return c.U().next(m=>{const E=n.xi(m,18e5),M=m.filter(U=>-1===E.indexOf(U));return lt.forEach(M,U=>c.delete(U.clientId)).next(()=>M)})}).catch(()=>[]);if(n.Vi)for(const a of i)n.Vi.removeItem(n.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?lt.resolve(!0):ml(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Fe(Ne.FAILED_PRECONDITION,Dc);return!1}}return!(!this.networkEnabled||!this.inForeground)||_l(n).U().next(a=>void 0===this.xi(a,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(i=>(this.isPrimary!==i&&ut("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,Ae.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new Oi(i,ht.oe);return n.bi(a).next(()=>n.Ci(a))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(a=>this.Mi(a.updateTimeMs,i)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>_l(n).U().next(i=>this.xi(i,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Zs.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new jg(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Bs.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,a){ut("IndexedDbPersistence","Starting transaction:",n);const c="readonly"===i?"readonly":"readwrite",m=17===(U=this.hi)?Ai:16===U?vr:15===U?Yn:14===U?st:13===U?Hn:12===U?_n:11===U?nn:void Jt();var U;let E;return this.Ri.runTransaction(n,c,m,M=>(E=new Oi(M,this.Qr?this.Qr.next():ht.oe),"readwrite-primary"===i?this.wi(E).next(U=>!!U||this.Si(E)).next(U=>{if(!U)throw Ct(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Fe(Ne.FAILED_PRECONDITION,Dn);return a(E)}).next(U=>this.Di(E).next(()=>U)):this.Ki(E).next(()=>a(E)))).then(M=>(E.raiseOnCommittedEvent(),M))}Ki(n){return ml(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(Ne.FAILED_PRECONDITION,Dc)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ml(n).put("owner",i)}static D(){return Jn.D()}bi(n){const i=ml(n);return i.get("owner").next(a=>this.vi(a)?(ut("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):lt.resolve())}Mi(n,i){const a=Date.now();return!(n<a-i||n>a&&(Ct(`Detected an update time that is in the future: ${n} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Qe.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const a=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return ut("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Ct("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){Ct("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function ml(u){return Lr(u,"owner")}function _l(u){return Lr(u,"clientMetadata")}function Sc(u,n){let i=u.projectId;return u.isDefaultDatabase||(i+="."+u.database),"firestore/"+n+"/"+i+"/"}class Rc{constructor(n,i,a,c){this.targetId=n,this.fromCache=i,this.$i=a,this.Ui=c}static Wi(n,i){let a=Hr(),c=Hr();for(const m of i.docChanges)switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new Rc(n,i.fromCache,a,c)}}class Gg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class iu{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Qe.nr)()?8:pi((0,Qe.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,a,c){const m={result:null};return this.Yi(n,i).next(E=>{m.result=E}).next(()=>{if(!m.result)return this.Zi(n,i,c,a).next(E=>{m.result=E})}).next(()=>{if(m.result)return;const E=new Gg;return this.Xi(n,i,E).next(M=>{if(m.result=M,this.zi)return this.es(n,i,E,M.size)})}).next(()=>m.result)}es(n,i,a,c){return a.documentReadCount<this.ji?(Kt()<=at.$b.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ko(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),lt.resolve()):(Kt()<=at.$b.DEBUG&&ut("QueryEngine","Query:",Ko(i),"scans",a.documentReadCount,"local documents and returns",c,"documents as results."),a.documentReadCount>this.Hi*c?(Kt()<=at.$b.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ko(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,si(i))):lt.resolve())}Yi(n,i){if(Hs(i))return lt.resolve(null);let a=si(i);return this.indexManager.getIndexType(n,a).next(c=>0===c?null:(null!==i.limit&&1===c&&(i=ds(i,null,"F"),a=si(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next(m=>{const E=Hr(...m);return this.Ji.getDocuments(n,E).next(M=>this.indexManager.getMinOffset(n,a).next(U=>{const J=this.ts(i,M);return this.ns(i,J,E,U.readTime)?this.Yi(n,ds(i,null,"F")):this.rs(n,J,i,U)}))})))}Zi(n,i,a,c){return Hs(i)||c.isEqual(Mn.min())?lt.resolve(null):this.Ji.getDocuments(n,a).next(m=>{const E=this.ts(i,m);return this.ns(i,E,a,c)?lt.resolve(null):(Kt()<=at.$b.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ko(i)),this.rs(n,E,i,xe(c,-1)).next(M=>M))})}ts(n,i){let a=new yr(Ua(n));return i.forEach((c,m)=>{hs(n,m)&&(a=a.add(m))}),a}ns(n,i,a,c){if(null===n.limit)return!1;if(a.size!==i.size)return!0;const m="F"===n.limitType?i.last():i.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Xi(n,i,a){return Kt()<=at.$b.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ko(i)),this.Ji.getDocumentsMatchingQuery(n,i,kt.min(),a)}rs(n,i,a,c){return this.Ji.getDocumentsMatchingQuery(n,a,c).next(m=>(i.forEach(E=>{m=m.insert(E.key,E)}),m))}}class Pc{constructor(n,i,a,c){this.persistence=n,this.ss=i,this.serializer=c,this.os=new Un(Ln),this._s=new Jo(m=>ve(m),yn),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(a)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Rh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Zf(u,n,i,a){return new Pc(u,n,i,a)}function Ad(u,n){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,Ae.A)(function*(u,n){const i=cn(u);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let c;return i.mutationQueue.getAllMutationBatches(a).next(m=>(c=m,i.ls(n),i.mutationQueue.getAllMutationBatches(a))).next(m=>{const E=[],M=[];let U=Hr();for(const J of c){E.push(J.batchId);for(const fe of J.mutations)U=U.add(fe.key)}for(const J of m){M.push(J.batchId);for(const fe of J.mutations)U=U.add(fe.key)}return i.localDocuments.getDocuments(a,U).next(J=>({hs:J,removedBatchIds:E,addedBatchIds:M}))})})})).apply(this,arguments)}function Kg(u){const n=cn(u);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function ou(u,n,i){let a=Hr(),c=Hr();return i.forEach(m=>a=a.add(m)),n.getEntries(u,a).next(m=>{let E=Mo();return i.forEach((M,U)=>{const J=m.get(M);U.isFoundDocument()!==J.isFoundDocument()&&(c=c.add(M)),U.isNoDocument()&&U.version.isEqual(Mn.min())?(n.removeEntry(M,U.readTime),E=E.insert(M,U)):!J.isValidDocument()||U.version.compareTo(J.version)>0||0===U.version.compareTo(J.version)&&J.hasPendingWrites?(n.addEntry(U),E=E.insert(M,U)):ut("LocalStore","Ignoring outdated watch update for ",M,". Current version:",J.version," Watch version:",U.version)}),{Ps:E,Is:c}})}function Q_(u,n){const i=cn(u);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,n)))}function Fl(u,n){const i=cn(u);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return i.Ur.getTargetData(a,n).next(m=>m?(c=m,lt.resolve(c)):i.Ur.allocateTargetId(a).next(E=>(c=new Fs(n,E,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=i.os.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(n,a.targetId)),a})}function ua(u,n,i){return xc.apply(this,arguments)}function xc(){return(xc=(0,Ae.A)(function*(u,n,i){const a=cn(u),c=a.os.get(n),m=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",m,E=>a.persistence.referenceDelegate.removeTarget(E,c)))}catch(E){if(!Wi(E))throw E;ut("LocalStore",`Failed to update sequence numbers for target ${n}: ${E}`)}a.os=a.os.remove(n),a._s.delete(c.target)})).apply(this,arguments)}function rl(u,n,i){const a=cn(u);let c=Mn.min(),m=Hr();return a.persistence.runTransaction("Execute query","readwrite",E=>function(U,J,fe){const Pe=cn(U),nt=Pe._s.get(fe);return void 0!==nt?lt.resolve(Pe.os.get(nt)):Pe.Ur.getTargetData(J,fe)}(a,E,si(n)).next(M=>{if(M)return c=M.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(E,M.targetId).next(U=>{m=U})}).next(()=>a.ss.getDocumentsMatchingQuery(E,n,i?c:Mn.min(),i?m:Hr())).next(M=>(Td(a,ra(n),M),{documents:M,Ts:m})))}function Qf(u,n){const i=cn(u),a=cn(i.Ur),c=i.os.get(n);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",m=>a.ot(m,n).next(E=>E?E.target:null))}function Ru(u,n){const i=cn(u),a=i.us.get(n)||Mn.min();return i.persistence.runTransaction("Get new document changes","readonly",c=>i.cs.getAllFromCollectionGroup(c,n,xe(a,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Td(i,n,c),c))}function Td(u,n,i){let a=u.us.get(n)||Mn.min();i.forEach((c,m)=>{m.readTime.compareTo(a)>0&&(a=m.readTime)}),u.us.set(n,a)}function Pu(){return(Pu=(0,Ae.A)(function*(u,n,i,a){const c=cn(u);let m=Hr(),E=Mo();for(const J of i){const fe=n.Es(J.metadata.name);J.document&&(m=m.add(fe));const Pe=n.ds(J);Pe.setReadTime(n.As(J.metadata.readTime)),E=E.insert(fe,Pe)}const M=c.cs.newChangeBuffer({trackRemovals:!0}),U=yield Fl(c,(fe=a,si(Ao(or.fromString(`__bundle__/docs/${fe}`)))));var fe;return c.persistence.runTransaction("Apply bundle documents","readwrite",J=>ou(J,M,E).next(fe=>(M.apply(J),fe)).next(fe=>c.Ur.removeMatchingKeysForTargetId(J,U.targetId).next(()=>c.Ur.addMatchingKeys(J,m,U.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(J,fe.Ps,fe.Is)).next(()=>fe.Ps)))})).apply(this,arguments)}function Yf(u,n){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,Ae.A)(function*(u,n,i=Hr()){const a=yield Fl(u,si(yi(n.bundledQuery))),c=cn(u);return c.persistence.runTransaction("Save named query","readwrite",m=>{const E=mo(n.readTime);if(a.snapshotVersion.compareTo(E)>=0)return c.Gr.saveNamedQuery(m,n);const M=a.withResumeToken(ci.EMPTY_BYTE_STRING,E);return c.os=c.os.insert(M.targetId,M),c.Ur.updateTargetData(m,M).next(()=>c.Ur.removeMatchingKeysForTargetId(m,a.targetId)).next(()=>c.Ur.addMatchingKeys(m,i,a.targetId)).next(()=>c.Gr.saveNamedQuery(m,n))})})).apply(this,arguments)}function kh(u,n){return`firestore_clients_${u}_${n}`}function Jf(u,n,i){let a=`firestore_mutations_${u}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function xa(u,n){return`firestore_targets_${u}_${n}`}class wd{constructor(n,i,a,c){this.user=n,this.batchId=i,this.state=a,this.error=c}static Rs(n,i,a){const c=JSON.parse(a);let m,E="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(m=new Fe(c.error.code,c.error.message))),E?new wd(n,i,c.state,m):(Ct("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class vl{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static Rs(n,i){const a=JSON.parse(i);let c,m="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(c=new Fe(a.error.code,a.error.message))),m?new vl(n,a.state,c):(Ct("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Vl{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const a=JSON.parse(i);let c="object"==typeof a&&a.activeTargetIds instanceof Array,m=ya();for(let E=0;c&&E<a.activeTargetIds.length;++E)c=bt(a.activeTargetIds[E]),m=m.add(a.activeTargetIds[E]);return c?new Vl(n,m):(Ct("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class bd{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new bd(i.clientId,i.onlineState):(Ct("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Mu{constructor(){this.activeTargetIds=ya()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class su{constructor(n,i,a,c,m){this.window=n,this.ui=i,this.persistenceKey=a,this.ps=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Un(Ln),this.started=!1,this.bs=[];const E=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.Ds=kh(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Mu),this.Cs=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ae.A)(function*(){const i=yield n.syncEngine.Qi();for(const c of i){if(c===n.ps)continue;const m=n.getItem(kh(n.persistenceKey,c));if(m){const E=Vl.Rs(c,m);E&&(n.Ss=n.Ss.insert(E.clientId,E))}}n.Ns();const a=n.storage.getItem(n.xs);if(a){const c=n.Ls(a);c&&n.Bs(c)}for(const c of n.bs)n.ws(c);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((a,c)=>{c.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,a){this.qs(n,i,a),this.Qs(n)}addLocalQueryTarget(n,i=!0){let a="not-current";if(this.isActiveQueryTarget(n)){const c=this.storage.getItem(xa(this.persistenceKey,n));if(c){const m=vl.Rs(n,c);m&&(a=m.state)}}return i&&this.Ks.fs(n),this.Ns(),a}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(xa(this.persistenceKey,n))}updateQueryState(n,i,a){this.$s(n,i,a)}handleUserChange(n,i,a){i.forEach(c=>{this.Qs(c)}),this.currentUser=n,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return ut("SharedClientState","READ",n,i),i}setItem(n,i){ut("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){ut("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const a=n;if(a.storageArea===this.storage){if(ut("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Ct("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Ae.A)(function*(){if(i.started){if(null!==a.key)if(i.Cs.test(a.key)){if(null==a.newValue){const c=i.Gs(a.key);return i.zs(c,null)}{const c=i.js(a.key,a.newValue);if(c)return i.zs(c.clientId,c)}}else if(i.Fs.test(a.key)){if(null!==a.newValue){const c=i.Hs(a.key,a.newValue);if(c)return i.Js(c)}}else if(i.Ms.test(a.key)){if(null!==a.newValue){const c=i.Ys(a.key,a.newValue);if(c)return i.Zs(c)}}else if(a.key===i.xs){if(null!==a.newValue){const c=i.Ls(a.newValue);if(c)return i.Bs(c)}}else if(a.key===i.vs){const c=function(E){let M=ht.oe;if(null!=E)try{const U=JSON.parse(E);ln("number"==typeof U),M=U}catch(U){Ct("SharedClientState","Failed to read sequence number from WebStorage",U)}return M}(a.newValue);c!==ht.oe&&i.sequenceNumberHandler(c)}else if(a.key===i.Os){const c=i.Xs(a.newValue);yield Promise.all(c.map(m=>i.syncEngine.eo(m)))}}else i.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,a){const c=new wd(this.currentUser,n,i,a),m=Jf(this.persistenceKey,this.currentUser,n);this.setItem(m,c.Vs())}Qs(n){const i=Jf(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,a){const c=xa(this.persistenceKey,n),m=new vl(n,i,a);this.setItem(c,m.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const a=this.Gs(n);return Vl.Rs(a,i)}Hs(n,i){const a=this.Fs.exec(n),c=Number(a[1]);return wd.Rs(new $e(void 0!==a[2]?a[2]:null),c,i)}Ys(n,i){const a=this.Ms.exec(n),c=Number(a[1]);return vl.Rs(c,i)}Ls(n){return bd.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,Ae.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);ut("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const a=i?this.Ss.insert(n,i):this.Ss.remove(n),c=this.ks(this.Ss),m=this.ks(a),E=[],M=[];return m.forEach(U=>{c.has(U)||E.push(U)}),c.forEach(U=>{m.has(U)||M.push(U)}),this.syncEngine.io(E,M).then(()=>{this.Ss=a})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=ya();return n.forEach((a,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class Dd{constructor(){this.so=new Mu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,a){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Mu,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class ep{_o(n){}shutdown(){}}class Lh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ul=null;function Sd(){return null===Ul?Ul=268435456+Math.round(2147483648*Math.random()):Ul++,"0x"+Ul.toString(16)}const qg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rd{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const No="WebChannelConnection";class Zg extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),m=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${c}/databases/${m}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${m}`}get Fo(){return!1}Mo(i,a,c,m,E){const M=Sd(),U=this.xo(i,a.toUriEncodedString());ut("RestConnection",`Sending RPC '${i}' ${M}:`,U,c);const J={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(J,m,E),this.No(i,U,J,c).then(fe=>(ut("RestConnection",`Received RPC '${i}' ${M}: `,fe),fe),fe=>{throw Gn("RestConnection",`RPC '${i}' ${M} failed with error: `,fe,"url: ",U,"request:",c),fe})}Lo(i,a,c,m,E,M){return this.Mo(i,a,c,m,E)}Oo(i,a,c){i["X-Goog-Api-Client"]="gl-js/ fire/"+rt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((m,E)=>i[E]=m),c&&c.headers.forEach((m,E)=>i[E]=m)}xo(i,a){return`${this.Do}/v1/${a}:${qg[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,a,c){const m=Sd();return new Promise((E,M)=>{const U=new jt;U.setWithCredentials(!0),U.listenOnce(ye.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Ce.NO_ERROR:const fe=U.getResponseJson();ut(No,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(fe)),E(fe);break;case Ce.TIMEOUT:ut(No,`RPC '${n}' ${m} timed out`),M(new Fe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ce.HTTP_ERROR:const Pe=U.getStatus();if(ut(No,`RPC '${n}' ${m} failed with status:`,Pe,"response text:",U.getResponseText()),Pe>0){let nt=U.getResponseJson();Array.isArray(nt)&&(nt=nt[0]);const Qt=null==nt?void 0:nt.error;if(Qt&&Qt.status&&Qt.message){const En=function(Rn){const mr=Rn.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(mr)>=0?mr:Ne.UNKNOWN}(Qt.status);M(new Fe(En,Qt.message))}else M(new Fe(Ne.UNKNOWN,"Server responded with status "+U.getStatus()))}else M(new Fe(Ne.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{ut(No,`RPC '${n}' ${m} completed.`)}});const J=JSON.stringify(c);ut(No,`RPC '${n}' ${m} sending request:`,c),U.send(i,"POST",J,a,15)})}Bo(n,i,a){const c=Sd(),m=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],E=Le(),M=_e(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(U.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,a),U.encodeInitMessageHeaders=!0;const fe=m.join("");ut(No,`Creating RPC '${n}' stream ${c}: ${fe}`,U);const Pe=E.createWebChannel(fe,U);let nt=!1,Qt=!1;const En=new Rd({Io:Rn=>{Qt?ut(No,`Not sending because RPC '${n}' stream ${c} is closed:`,Rn):(nt||(ut(No,`Opening RPC '${n}' stream ${c} transport.`),Pe.open(),nt=!0),ut(No,`RPC '${n}' stream ${c} sending:`,Rn),Pe.send(Rn))},To:()=>Pe.close()}),Vn=(Rn,mr,Or)=>{Rn.listen(mr,Ar=>{try{Or(Ar)}catch(jr){setTimeout(()=>{throw jr},0)}})};return Vn(Pe,At.EventType.OPEN,()=>{Qt||(ut(No,`RPC '${n}' stream ${c} transport opened.`),En.yo())}),Vn(Pe,At.EventType.CLOSE,()=>{Qt||(Qt=!0,ut(No,`RPC '${n}' stream ${c} transport closed`),En.So())}),Vn(Pe,At.EventType.ERROR,Rn=>{Qt||(Qt=!0,Gn(No,`RPC '${n}' stream ${c} transport errored:`,Rn),En.So(new Fe(Ne.UNAVAILABLE,"The operation could not be completed")))}),Vn(Pe,At.EventType.MESSAGE,Rn=>{var mr;if(!Qt){const Or=Rn.data[0];ln(!!Or);const jr=Or.error||(null===(mr=Or[0])||void 0===mr?void 0:mr.error);if(jr){ut(No,`RPC '${n}' stream ${c} received error:`,jr);const Mi=jr.status;let ti=function(Et){const Ft=qr[Et];if(void 0!==Ft)return Fr(Ft)}(Mi),Nt=jr.message;void 0===ti&&(ti=Ne.INTERNAL,Nt="Unknown error status: "+Mi+" with message "+jr.message),Qt=!0,En.So(new Fe(ti,Nt)),Pe.close()}else ut(No,`RPC '${n}' stream ${c} received:`,Or),En.bo(Or)}}),Vn(M,te.STAT_EVENT,Rn=>{Rn.stat===Ie.PROXY?ut(No,`RPC '${n}' stream ${c} detected buffering proxy`):Rn.stat===Ie.NOPROXY&&ut(No,`RPC '${n}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{En.wo()},0),En}}function Fh(){return typeof window<"u"?window:null}function Nc(){return typeof document<"u"?document:null}function il(u){return new pc(u,!0)}class Na{constructor(n,i,a=1e3,c=1.5,m=6e4){this.ui=n,this.timerId=i,this.ko=a,this.qo=c,this.Qo=m,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),c=Math.max(0,i-a);c>0&&ut("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ns{constructor(n,i,a,c,m,E,M,U){this.ui=n,this.Ho=a,this.Jo=c,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=M,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Na(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,Ae.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,Ae.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var a=this;return(0,Ae.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==n?a.t_.reset():i&&i.code===Ne.RESOURCE_EXHAUSTED?(Ct(i.toString()),Ct("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):i&&i.code===Ne.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.Yo===i&&this.P_(a,c)},a=>{n(()=>{const c=new Fe(Ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(c)})})}P_(n,i){const a=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{a(()=>this.I_(c))}),this.stream.onMessage(c=>{a(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var n=this;this.state=5,this.t_.Go((0,Ae.A)(function*(){n.state=0,n.start()}))}I_(n){return ut("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tp extends ns{constructor(n,i,a,c,m,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,c,E),this.serializer=m}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function x(u,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(J=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:Jt(),c=n.targetChange.targetIds||[],m=function(J,fe){return J.useProto3Json?(ln(void 0===fe||"string"==typeof fe),ci.fromBase64String(fe||"")):(ln(void 0===fe||fe instanceof Buffer||fe instanceof Uint8Array),ci.fromUint8Array(fe||new Uint8Array))}(u,n.targetChange.resumeToken),E=n.targetChange.cause,M=E&&function(J){const fe=void 0===J.code?Ne.UNKNOWN:Fr(J.code);return new Fe(fe,J.message||"")}(E);i=new Ui(a,c,m,M||null)}else if("documentChange"in n){const a=n.documentChange,c=ks(u,a.document.name),m=mo(a.document.updateTime),E=a.document.createTime?mo(a.document.createTime):Mn.min(),M=new io({mapValue:{fields:a.document.fields}}),U=Xr.newFoundDocument(c,m,E,M);i=new Is(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in n){const a=n.documentDelete,c=ks(u,a.document),m=a.readTime?mo(a.readTime):Mn.min(),E=Xr.newNoDocument(c,m);i=new Is([],a.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const a=n.documentRemove,c=ks(u,a.document);i=new Is([],a.removedTargetIds||[],c,null)}else{if(!("filter"in n))return Jt();{const a=n.filter,{count:c=0,unchangedNames:m}=a,E=new oa(c,m);i=new Rl(a.targetId,E)}}var J;return i}(this.serializer,n),a=function(m){if(!("targetChange"in m))return Mn.min();const E=m.targetChange;return E.targetIds&&E.targetIds.length?Mn.min():E.readTime?mo(E.readTime):Mn.min()}(n);return this.listener.d_(i,a)}A_(n){const i={};i.database=Eu(this.serializer),i.addTarget=function(m,E){let M;const U=E.target;if(M=_r(U)?{documents:he(m,U)}:{query:ge(m,U)._t},M.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){M.resumeToken=Ya(m,E.resumeToken);const J=uo(m,E.expectedCount);null!==J&&(M.expectedCount=J)}else if(E.snapshotVersion.compareTo(Mn.min())>0){M.readTime=wo(m,E.snapshotVersion.toTimestamp());const J=uo(m,E.expectedCount);null!==J&&(M.expectedCount=J)}return M}(this.serializer,n);const a=function Vt(u,n){const i=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.a_(i)}R_(n){const i={};i.database=Eu(this.serializer),i.removeTarget=n,this.a_(i)}}class np extends ns{constructor(n,i,a,c,m,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,c,E),this.serializer=m}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return ln(!!n.streamToken),this.lastStreamToken=n.streamToken,ln(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){ln(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function j(u,n){return u&&u.length>0?(ln(void 0!==n),u.map(i=>function(c,m){let E=mo(c.updateTime?c.updateTime:m);return E.isEqual(Mn.min())&&(E=mo(m)),new $(E,c.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=mo(n.commitTime);return this.listener.g_(a,i)}p_(){const n={};n.database=Eu(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>B(this.serializer,a))};this.a_(i)}}class Vh extends class{}{constructor(n,i,a,c){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new Fe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,a,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.Mo(n,Ja(i,a),c,m,E)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Fe(Ne.UNKNOWN,m.toString())})}Lo(n,i,a,c,m){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,M])=>this.connection.Lo(n,Ja(i,a),c,E,M,m)).catch(E=>{throw"FirebaseError"===E.name?(E.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Fe(Ne.UNKNOWN,E.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Qg{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ct(i),this.D_=!1):ut("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class rp{constructor(n,i,a,c,m){var E=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=m,this.k_._o(M=>{a.enqueueAndForget((0,Ae.A)(function*(){var U;Bl(E)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,Ae.A)(function*(fe){const Pe=cn(fe);Pe.L_.add(4),yield Il(Pe),Pe.q_.set("Unknown"),Pe.L_.delete(4),yield yl(Pe)}),function J(fe){return U.apply(this,arguments)})(E))}))}),this.q_=new Qg(a,c)}}function yl(u){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,Ae.A)(function*(u){if(Bl(u))for(const n of u.B_)yield n(!0)})).apply(this,arguments)}function Il(u){return xu.apply(this,arguments)}function xu(){return(xu=(0,Ae.A)(function*(u){for(const n of u.B_)yield n(!1)})).apply(this,arguments)}function au(u,n){const i=cn(u);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),kc(i)?lu(i):ue(i).r_()&&Uh(i,n))}function El(u,n){const i=cn(u),a=ue(i);i.N_.delete(n),a.r_()&&ca(i,n),0===i.N_.size&&(a.r_()?a.o_():Bl(i)&&i.q_.set("Unknown"))}function Uh(u,n){if(u.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Mn.min())>0){const i=u.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}ue(u).A_(n)}function ca(u,n){u.Q_.xe(n),ue(u).R_(n)}function lu(u){u.Q_=new Xl({getRemoteKeysForTarget:n=>u.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>u.N_.get(n)||null,tt:()=>u.datastore.serializer.databaseId}),ue(u).start(),u.q_.v_()}function kc(u){return Bl(u)&&!ue(u).n_()&&u.N_.size>0}function Bl(u){return 0===cn(u).L_.size}function Lc(u){u.Q_=void 0}function Bh(u){return $h.apply(this,arguments)}function $h(){return($h=(0,Ae.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function Yg(u){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,Ae.A)(function*(u){u.N_.forEach((n,i)=>{Uh(u,n)})})).apply(this,arguments)}function Al(u,n){return fs.apply(this,arguments)}function fs(){return(fs=(0,Ae.A)(function*(u,n){Lc(u),kc(u)?(u.q_.M_(n),lu(u)):u.q_.set("Unknown")})).apply(this,arguments)}function Y_(u,n,i){return jh.apply(this,arguments)}function jh(){return jh=(0,Ae.A)(function*(u,n,i){if(u.q_.set("Online"),n instanceof Ui&&2===n.state&&n.cause)try{yield(a=(0,Ae.A)(function*(m,E){const M=E.cause;for(const U of E.targetIds)m.N_.has(U)&&(yield m.remoteSyncer.rejectListen(U,M),m.N_.delete(U),m.Q_.removeTarget(U))}),function c(m,E){return a.apply(this,arguments)})(u,n)}catch(a){ut("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield zh(u,a)}else if(n instanceof Is?u.Q_.Ke(n):n instanceof Rl?u.Q_.He(n):u.Q_.We(n),!i.isEqual(Mn.min()))try{const a=yield Kg(u.localStore);i.compareTo(a)>=0&&(yield function(m,E){const M=m.Q_.rt(E);return M.targetChanges.forEach((U,J)=>{if(U.resumeToken.approximateByteSize()>0){const fe=m.N_.get(J);fe&&m.N_.set(J,fe.withResumeToken(U.resumeToken,E))}}),M.targetMismatches.forEach((U,J)=>{const fe=m.N_.get(U);if(!fe)return;m.N_.set(U,fe.withResumeToken(ci.EMPTY_BYTE_STRING,fe.snapshotVersion)),ca(m,U);const Pe=new Fs(fe.target,U,J,fe.sequenceNumber);Uh(m,Pe)}),m.remoteSyncer.applyRemoteEvent(M)}(u,i))}catch(a){ut("RemoteStore","Failed to raise snapshot:",a),yield zh(u,a)}var a}),jh.apply(this,arguments)}function zh(u,n,i){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,Ae.A)(function*(u,n,i){if(!Wi(n))throw n;u.L_.add(1),yield Il(u),u.q_.set("Offline"),i||(i=()=>Kg(u.localStore)),u.asyncQueue.enqueueRetryable((0,Ae.A)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield i(),u.L_.delete(1),yield yl(u)}))})).apply(this,arguments)}function da(u,n){return n().catch(i=>zh(u,i,n))}function ol(u){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,Ae.A)(function*(u){const n=cn(u),i=Je(n);let a=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;Vc(n);)try{const c=yield Q_(n.localStore,a);if(null===c){0===n.O_.length&&i.o_();break}a=c.batchId,Tl(n,c)}catch(c){yield zh(n,c)}Ou(n)&&Cl(n)})).apply(this,arguments)}function Vc(u){return Bl(u)&&u.O_.length<10}function Tl(u,n){u.O_.push(n);const i=Je(u);i.r_()&&i.V_&&i.m_(n.mutations)}function Ou(u){return Bl(u)&&!Je(u).n_()&&u.O_.length>0}function Cl(u){Je(u).start()}function Jg(u){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,Ae.A)(function*(u){Je(u).p_()})).apply(this,arguments)}function Oa(u){return ku.apply(this,arguments)}function ku(){return(ku=(0,Ae.A)(function*(u){const n=Je(u);for(const i of u.O_)n.m_(i.mutations)})).apply(this,arguments)}function ip(u,n,i){return Md.apply(this,arguments)}function Md(){return(Md=(0,Ae.A)(function*(u,n,i){const a=u.O_.shift(),c=Si.from(a,n,i);yield da(u,()=>u.remoteSyncer.applySuccessfulWrite(c)),yield ol(u)})).apply(this,arguments)}function J_(u,n){return T.apply(this,arguments)}function T(){return T=(0,Ae.A)(function*(u,n){var i;n&&Je(u).V_&&(yield(i=(0,Ae.A)(function*(c,m){if(ys(M=m.code)&&M!==Ne.ABORTED){const E=c.O_.shift();Je(c).s_(),yield da(c,()=>c.remoteSyncer.rejectFailedWrite(E.batchId,m)),yield ol(c)}var M}),function a(c,m){return i.apply(this,arguments)})(u,n)),Ou(u)&&Cl(u)}),T.apply(this,arguments)}function g(u,n){return _.apply(this,arguments)}function _(){return(_=(0,Ae.A)(function*(u,n){const i=cn(u);i.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const a=Bl(i);i.L_.add(3),yield Il(i),a&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield yl(i)})).apply(this,arguments)}function D(u,n){return q.apply(this,arguments)}function q(){return(q=(0,Ae.A)(function*(u,n){const i=cn(u);n?(i.L_.delete(2),yield yl(i)):n||(i.L_.add(2),yield Il(i),i.q_.set("Unknown"))})).apply(this,arguments)}function ue(u){return u.K_||(u.K_=function(i,a,c){const m=cn(i);return m.w_(),new tp(a,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(u.datastore,u.asyncQueue,{Eo:Bh.bind(null,u),Ro:Yg.bind(null,u),mo:Al.bind(null,u),d_:Y_.bind(null,u)}),u.B_.push(function(){var n=(0,Ae.A)(function*(i){i?(u.K_.s_(),kc(u)?lu(u):u.q_.set("Unknown")):(yield u.K_.stop(),Lc(u))});return function(i){return n.apply(this,arguments)}}())),u.K_}function Je(u){return u.U_||(u.U_=function(i,a,c){const m=cn(i);return m.w_(),new np(a,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,c)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jg.bind(null,u),mo:J_.bind(null,u),f_:Oa.bind(null,u),g_:ip.bind(null,u)}),u.B_.push(function(){var n=(0,Ae.A)(function*(i){i?(u.U_.s_(),yield ol(u)):(yield u.U_.stop(),u.O_.length>0&&(ut("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(i){return n.apply(this,arguments)}}())),u.U_}class Lt{constructor(n,i,a,c,m){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=m,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,c,m){const E=Date.now()+a,M=new Lt(n,i,E,c,m);return M.start(a),M}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Ne.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gn(u,n){if(Ct("AsyncQueue",`${n}: ${u}`),Wi(u))return new Fe(Ne.UNAVAILABLE,`${n}: ${u}`);throw u}class Wn{constructor(n){this.comparator=n?(i,a)=>n(i,a)||In.comparator(i.key,a.key):(i,a)=>In.comparator(i.key,a.key),this.keyedMap=Ws(),this.sortedSet=new Un(this.comparator)}static emptySet(n){return new Wn(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Wn)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,m=a.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new Wn;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class fr{constructor(){this.W_=new Un(In.comparator)}track(n){const i=n.doc.key,a=this.W_.get(i);a?0!==n.type&&3===a.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==a.type?this.W_=this.W_.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.W_=this.W_.remove(i):1===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Jt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,a)=>{n.push(a)}),n}}class lr{constructor(n,i,a,c,m,E,M,U,J){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=M,this.excludesMetadataChanges=U,this.hasCachedResults=J}static fromInitialDocuments(n,i,a,c,m){const E=[];return i.forEach(M=>{E.push({type:0,doc:M})}),new lr(n,i,Wn.emptySet(i),E,a,c,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ns(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0}}class Oo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class Ga{constructor(){this.queries=Lu(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,a){const c=cn(i),m=c.queries;c.queries=Lu(),m.forEach((E,M)=>{for(const U of M.j_)U.onError(a)})}(this,new Fe(Ne.ABORTED,"Firestore shutting down"))}}function Lu(){return new Jo(u=>Yo(u),Ns)}function xd(u,n){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,Ae.A)(function*(u,n){const i=cn(u);let a=3;const c=n.query;let m=i.queries.get(c);m?!m.H_()&&n.J_()&&(a=2):(m=new Oo,a=n.J_()?0:1);try{switch(a){case 0:m.z_=yield i.onListen(c,!0);break;case 1:m.z_=yield i.onListen(c,!1);break;case 2:yield i.onFirstRemoteStoreListen(c)}}catch(E){const M=gn(E,`Initialization of query '${Ko(n.query)}' failed`);return void n.onError(M)}i.queries.set(c,m),m.j_.push(n),n.Z_(i.onlineState),m.z_&&n.X_(m.z_)&&Gh(i)})).apply(this,arguments)}function Nd(u,n){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,Ae.A)(function*(u,n){const i=cn(u),a=n.query;let c=3;const m=i.queries.get(a);if(m){const E=m.j_.indexOf(n);E>=0&&(m.j_.splice(E,1),0===m.j_.length?c=n.J_()?0:1:!m.H_()&&n.J_()&&(c=2))}switch(c){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function op(u,n){const i=cn(u);let a=!1;for(const c of n){const E=i.queries.get(c.query);if(E){for(const M of E.j_)M.X_(c)&&(a=!0);E.z_=c}}a&&Gh(i)}function em(u,n,i){const a=cn(u),c=a.queries.get(n);if(c)for(const m of c.j_)m.onError(i);a.queries.delete(n)}function Gh(u){u.Y_.forEach(n=>{n.next()})}var Od,sp;(sp=Od||(Od={})).ea="default",sp.Cache="cache";class Wh{constructor(n,i,a){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(n){if(!this.options.includeMetadataChanges){const a=[];for(const c of n.docChanges)3!==c.type&&a.push(c);n=new lr(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=lr.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==Od.Cache}}class $l{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class Fu{constructor(n){this.serializer=n}Es(n){return ks(this.serializer,n)}ds(n){return n.metadata.exists?$f(this.serializer,n.document,!1):Xr.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return mo(n)}}class ev{constructor(n,i,a){this.ca=n,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tv(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const a=or.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,a=new Fu(this.serializer);for(const c of n)if(c.metadata.queries){const m=a.Es(c.metadata.name);for(const E of c.metadata.queries){const M=(i.get(E)||Hr()).add(m);i.set(E,M)}}return i}complete(){var n=this;return(0,Ae.A)(function*(){const i=yield function Oh(u,n,i,a){return Pu.apply(this,arguments)}(n.localStore,new Fu(n.serializer),n.documents,n.ca.id),a=n.ha(n.documents);for(const c of n.queries)yield Yf(n.localStore,c,a.get(c.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function tv(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class ap{constructor(n){this.key=n}}class kd{constructor(n){this.key=n}}class nv{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Hr(),this.mutatedKeys=Hr(),this.Aa=Ua(n),this.Ra=new Wn(this.Aa)}get Va(){return this.Ta}ma(n,i){const a=i?i.fa:new fr,c=i?i.Ra:this.Ra;let m=i?i.mutatedKeys:this.mutatedKeys,E=c,M=!1;const U="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,J="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((fe,Pe)=>{const nt=c.get(fe),Qt=hs(this.query,Pe)?Pe:null,En=!!nt&&this.mutatedKeys.has(nt.key),Vn=!!Qt&&(Qt.hasLocalMutations||this.mutatedKeys.has(Qt.key)&&Qt.hasCommittedMutations);let Rn=!1;nt&&Qt?nt.data.isEqual(Qt.data)?En!==Vn&&(a.track({type:3,doc:Qt}),Rn=!0):this.ga(nt,Qt)||(a.track({type:2,doc:Qt}),Rn=!0,(U&&this.Aa(Qt,U)>0||J&&this.Aa(Qt,J)<0)&&(M=!0)):!nt&&Qt?(a.track({type:0,doc:Qt}),Rn=!0):nt&&!Qt&&(a.track({type:1,doc:nt}),Rn=!0,(U||J)&&(M=!0)),Rn&&(Qt?(E=E.add(Qt),m=Vn?m.add(fe):m.delete(fe)):(E=E.delete(fe),m=m.delete(fe)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const fe="F"===this.query.limitType?E.last():E.first();E=E.delete(fe.key),m=m.delete(fe.key),a.track({type:1,doc:fe})}return{Ra:E,fa:a,ns:M,mutatedKeys:m}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,c){const m=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const E=n.fa.G_();E.sort((fe,Pe)=>function(Qt,En){const Vn=Rn=>{switch(Rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return Vn(Qt)-Vn(En)}(fe.type,Pe.type)||this.Aa(fe.doc,Pe.doc)),this.pa(a),c=null!=c&&c;const M=i&&!c?this.ya():[],U=0===this.da.size&&this.current&&!c?1:0,J=U!==this.Ea;return this.Ea=U,0!==E.length||J?{snapshot:new lr(this.query,n.Ra,m,E,n.mutatedKeys,0===U,J,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:M}:{wa:M}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fr,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Hr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const i=[];return n.forEach(a=>{this.da.has(a)||i.push(new kd(a))}),this.da.forEach(a=>{n.has(a)||i.push(new ap(a))}),i}ba(n){this.Ta=n.Ts,this.da=Hr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return lr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class tm{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class rv{constructor(n){this.key=n,this.va=!1}}class Kh{constructor(n,i,a,c,m,E){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.Ca={},this.Fa=new Jo(M=>Yo(M),Ns),this.Ma=new Map,this.xa=new Set,this.Oa=new Un(In.comparator),this.Na=new Map,this.La=new us,this.Ba={},this.ka=new Map,this.qa=bu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Xh(u,n){return lp.apply(this,arguments)}function lp(){return(lp=(0,Ae.A)(function*(u,n,i=!0){const a=Ip(u);let c;const m=a.Fa.get(n);return m?(a.sharedClientState.addLocalQueryTarget(m.targetId),c=m.view.Da()):c=yield iv(a,n,i,!0),c})).apply(this,arguments)}function nm(u,n){return rm.apply(this,arguments)}function rm(){return(rm=(0,Ae.A)(function*(u,n){const i=Ip(u);yield iv(i,n,!0,!1)})).apply(this,arguments)}function iv(u,n,i,a){return im.apply(this,arguments)}function im(){return(im=(0,Ae.A)(function*(u,n,i,a){const c=yield Fl(u.localStore,si(n)),m=c.targetId,E=u.sharedClientState.addLocalQueryTarget(m,i);let M;return a&&(M=yield up(u,n,m,"current"===E,c.resumeToken)),u.isPrimaryClient&&i&&au(u.remoteStore,c),M})).apply(this,arguments)}function up(u,n,i,a,c){return qh.apply(this,arguments)}function qh(){return qh=(0,Ae.A)(function*(u,n,i,a,c){u.Ka=(Pe,nt,Qt)=>{return(En=(0,Ae.A)(function*(Rn,mr,Or,Ar){let jr=mr.view.ma(Or);jr.ns&&(jr=yield rl(Rn.localStore,mr.query,!1).then(({documents:et})=>mr.view.ma(et,jr)));const Mi=Ar&&Ar.targetChanges.get(mr.targetId),ti=Ar&&null!=Ar.targetMismatches.get(mr.targetId),Nt=mr.view.applyChanges(jr,Rn.isPrimaryClient,Mi,ti);return mp(Rn,mr.targetId,Nt.wa),Nt.snapshot}),function Vn(Rn,mr,Or,Ar){return En.apply(this,arguments)})(u,Pe,nt,Qt);var En};const m=yield rl(u.localStore,n,!0),E=new nv(n,m.Ts),M=E.ma(m.documents),U=wa.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==u.onlineState,c),J=E.applyChanges(M,u.isPrimaryClient,U);mp(u,i,J.wa);const fe=new tm(n,i,E);return u.Fa.set(n,fe),u.Ma.has(i)?u.Ma.get(i).push(n):u.Ma.set(i,[n]),J.snapshot}),qh.apply(this,arguments)}function b0(u,n,i){return ha.apply(this,arguments)}function ha(){return(ha=(0,Ae.A)(function*(u,n,i){const a=cn(u),c=a.Fa.get(n),m=a.Ma.get(c.targetId);if(m.length>1)return a.Ma.set(c.targetId,m.filter(E=>!Ns(E,n))),void a.Fa.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield ua(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),i&&El(a.remoteStore,c.targetId),Ld(a,c.targetId)}).catch(Br))):(Ld(a,c.targetId),yield ua(a.localStore,c.targetId,!0))})).apply(this,arguments)}function om(u,n){return cp.apply(this,arguments)}function cp(){return(cp=(0,Ae.A)(function*(u,n){const i=cn(u),a=i.Fa.get(n),c=i.Ma.get(a.targetId);i.isPrimaryClient&&1===c.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),El(i.remoteStore,a.targetId))})).apply(this,arguments)}function ov(){return(ov=(0,Ae.A)(function*(u,n,i){const a=Ep(u);try{const c=yield function(E,M){const U=cn(E),J=kr.now(),fe=M.reduce((Qt,En)=>Qt.add(En.key),Hr());let Pe,nt;return U.persistence.runTransaction("Locally write mutations","readwrite",Qt=>{let En=Mo(),Vn=Hr();return U.cs.getEntries(Qt,fe).next(Rn=>{En=Rn,En.forEach((mr,Or)=>{Or.isValidDocument()||(Vn=Vn.add(mr))})}).next(()=>U.localDocuments.getOverlayedDocuments(Qt,En)).next(Rn=>{Pe=Rn;const mr=[];for(const Or of M){const Ar=se(Or,Pe.get(Or.key).overlayedDocument);null!=Ar&&mr.push(new Pt(Or.key,Ar,cs(Ar.value.mapValue),ne.exists(!0)))}return U.mutationQueue.addMutationBatch(Qt,J,mr,M)}).next(Rn=>{nt=Rn;const mr=Rn.applyToLocalDocumentSet(Pe,Vn);return U.documentOverlayCache.saveOverlays(Qt,Rn.batchId,mr)})}).then(()=>({batchId:nt.batchId,changes:ia(Pe)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(c.batchId),function(E,M,U){let J=E.Ba[E.currentUser.toKey()];J||(J=new Un(Ln)),J=J.insert(M,U),E.Ba[E.currentUser.toKey()]=J}(a,c.batchId,i),yield sl(a,c.changes),yield ol(a.remoteStore)}catch(c){const m=gn(c,"Failed to persist write");i.reject(m)}})).apply(this,arguments)}function D0(u,n){return $s.apply(this,arguments)}function $s(){return($s=(0,Ae.A)(function*(u,n){const i=cn(u);try{const a=yield function Xg(u,n){const i=cn(u),a=n.snapshotVersion;let c=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=i.cs.newChangeBuffer({trackRemovals:!0});c=i.os;const M=[];n.targetChanges.forEach((fe,Pe)=>{const nt=c.get(Pe);if(!nt)return;M.push(i.Ur.removeMatchingKeys(m,fe.removedDocuments,Pe).next(()=>i.Ur.addMatchingKeys(m,fe.addedDocuments,Pe)));let Qt=nt.withSequenceNumber(m.currentSequenceNumber);var Vn,Rn,mr;null!==n.targetMismatches.get(Pe)?Qt=Qt.withResumeToken(ci.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):fe.resumeToken.approximateByteSize()>0&&(Qt=Qt.withResumeToken(fe.resumeToken,a)),c=c.insert(Pe,Qt),Rn=Qt,mr=fe,(0===(Vn=nt).resumeToken.approximateByteSize()||Rn.snapshotVersion.toMicroseconds()-Vn.snapshotVersion.toMicroseconds()>=3e8||mr.addedDocuments.size+mr.modifiedDocuments.size+mr.removedDocuments.size>0)&&M.push(i.Ur.updateTargetData(m,Qt))});let U=Mo(),J=Hr();if(n.documentUpdates.forEach(fe=>{n.resolvedLimboDocuments.has(fe)&&M.push(i.persistence.referenceDelegate.updateLimboDocument(m,fe))}),M.push(ou(m,E,n.documentUpdates).next(fe=>{U=fe.Ps,J=fe.Is})),!a.isEqual(Mn.min())){const fe=i.Ur.getLastRemoteSnapshotVersion(m).next(Pe=>i.Ur.setTargetsMetadata(m,m.currentSequenceNumber,a));M.push(fe)}return lt.waitFor(M).next(()=>E.apply(m)).next(()=>i.localDocuments.getLocalViewOfDocuments(m,U,J)).next(()=>U)}).then(m=>(i.os=c,m))}(i.localStore,n);n.targetChanges.forEach((c,m)=>{const E=i.Na.get(m);E&&(ln(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?E.va=!0:c.modifiedDocuments.size>0?ln(E.va):c.removedDocuments.size>0&&(ln(E.va),E.va=!1))}),yield sl(i,a,n)}catch(a){yield Br(a)}})).apply(this,arguments)}function Bc(u,n,i){const a=cn(u);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const c=[];a.Fa.forEach((m,E)=>{const M=E.view.Z_(n);M.snapshot&&c.push(M.snapshot)}),function(E,M){const U=cn(E);U.onlineState=M;let J=!1;U.queries.forEach((fe,Pe)=>{for(const nt of Pe.j_)nt.Z_(M)&&(J=!0)}),J&&Gh(U)}(a.eventManager,n),c.length&&a.Ca.d_(c),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function sv(u,n,i){return hp.apply(this,arguments)}function hp(){return(hp=(0,Ae.A)(function*(u,n,i){const a=cn(u);a.sharedClientState.updateQueryState(n,"rejected",i);const c=a.Na.get(n),m=c&&c.key;if(m){let E=new Un(In.comparator);E=E.insert(m,Xr.newNoDocument(m,Mn.min()));const M=Hr().add(m),U=new Os(Mn.min(),new Map,new Un(Ln),E,M);yield D0(a,U),a.Oa=a.Oa.remove(m),a.Na.delete(n),_p(a)}else yield ua(a.localStore,n,!1).then(()=>Ld(a,n,i)).catch(Br)})).apply(this,arguments)}function S0(u,n){return fp.apply(this,arguments)}function fp(){return(fp=(0,Ae.A)(function*(u,n){const i=cn(u),a=n.batch.batchId;try{const c=yield function Wg(u,n){const i=cn(u);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=n.batch.keys(),m=i.cs.newChangeBuffer({trackRemovals:!0});return function(M,U,J,fe){const Pe=J.batch,nt=Pe.keys();let Qt=lt.resolve();return nt.forEach(En=>{Qt=Qt.next(()=>fe.getEntry(U,En)).next(Vn=>{const Rn=J.docVersions.get(En);ln(null!==Rn),Vn.version.compareTo(Rn)<0&&(Pe.applyToRemoteDocument(Vn,J),Vn.isValidDocument()&&(Vn.setReadTime(J.commitVersion),fe.addEntry(Vn)))})}),Qt.next(()=>M.mutationQueue.removeMutationBatch(U,Pe))}(i,a,n,m).next(()=>m.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,c,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(M){let U=Hr();for(let J=0;J<M.mutationResults.length;++J)M.mutationResults[J].transformResults.length>0&&(U=U.add(M.batch.mutations[J].key));return U}(n))).next(()=>i.localDocuments.getDocuments(a,c))})}(i.localStore,n);am(i,a,null),sm(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield sl(i,c)}catch(c){yield Br(c)}})).apply(this,arguments)}function R0(u,n,i){return pp.apply(this,arguments)}function pp(){return(pp=(0,Ae.A)(function*(u,n,i){const a=cn(u);try{const c=yield function(E,M){const U=cn(E);return U.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let fe;return U.mutationQueue.lookupMutationBatch(J,M).next(Pe=>(ln(null!==Pe),fe=Pe.keys(),U.mutationQueue.removeMutationBatch(J,Pe))).next(()=>U.mutationQueue.performConsistencyCheck(J)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(J,fe,M)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(J,fe)).next(()=>U.localDocuments.getDocuments(J,fe))})}(a.localStore,n);am(a,n,i),sm(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield sl(a,c)}catch(c){yield Br(c)}})).apply(this,arguments)}function gp(){return(gp=(0,Ae.A)(function*(u,n){const i=cn(u);Bl(i.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(E){const M=cn(E);return M.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>M.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===a)return void n.resolve();const c=i.ka.get(a)||[];c.push(n),i.ka.set(a,c)}catch(a){const c=gn(a,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}})).apply(this,arguments)}function sm(u,n){(u.ka.get(n)||[]).forEach(i=>{i.resolve()}),u.ka.delete(n)}function am(u,n,i){const a=cn(u);let c=a.Ba[a.currentUser.toKey()];if(c){const m=c.get(n);m&&(i?m.reject(i):m.resolve(),c=c.remove(n)),a.Ba[a.currentUser.toKey()]=c}}function Ld(u,n,i=null){u.sharedClientState.removeLocalQueryTarget(n);for(const a of u.Ma.get(n))u.Fa.delete(a),i&&u.Ca.$a(a,i);u.Ma.delete(n),u.isPrimaryClient&&u.La.gr(n).forEach(a=>{u.La.containsKey(a)||av(u,a)})}function av(u,n){u.xa.delete(n.path.canonicalString());const i=u.Oa.get(n);null!==i&&(El(u.remoteStore,i),u.Oa=u.Oa.remove(n),u.Na.delete(i),_p(u))}function mp(u,n,i){for(const a of i)a instanceof ap?(u.La.addReference(a.key,n),lv(u,a)):a instanceof kd?(ut("SyncEngine","Document no longer in limbo: "+a.key),u.La.removeReference(a.key,n),u.La.containsKey(a.key)||av(u,a.key)):Jt()}function lv(u,n){const i=n.key,a=i.path.canonicalString();u.Oa.get(i)||u.xa.has(a)||(ut("SyncEngine","New document in limbo: "+i),u.xa.add(a),_p(u))}function _p(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const n=u.xa.values().next().value;u.xa.delete(n);const i=new In(or.fromString(n)),a=u.qa.next();u.Na.set(a,new rv(i)),u.Oa=u.Oa.insert(i,a),au(u.remoteStore,new Fs(si(Ao(i.path)),a,"TargetPurposeLimboResolution",ht.oe))}}function sl(u,n,i){return vp.apply(this,arguments)}function vp(){return vp=(0,Ae.A)(function*(u,n,i){const a=cn(u),c=[],m=[],E=[];var M;a.Fa.isEmpty()||(a.Fa.forEach((M,U)=>{E.push(a.Ka(U,n,i).then(J=>{var fe;if((J||i)&&a.isPrimaryClient){const Pe=J?!J.fromCache:null===(fe=null==i?void 0:i.targetChanges.get(U.targetId))||void 0===fe?void 0:fe.current;a.sharedClientState.updateQueryState(U.targetId,Pe?"current":"not-current")}if(J){c.push(J);const Pe=Rc.Wi(U.targetId,J);m.push(Pe)}}))}),yield Promise.all(E),a.Ca.d_(c),yield(M=(0,Ae.A)(function*(J,fe){const Pe=cn(J);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>lt.forEach(fe,Qt=>lt.forEach(Qt.$i,En=>Pe.persistence.referenceDelegate.addReference(nt,Qt.targetId,En)).next(()=>lt.forEach(Qt.Ui,En=>Pe.persistence.referenceDelegate.removeReference(nt,Qt.targetId,En)))))}catch(nt){if(!Wi(nt))throw nt;ut("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of fe){const Qt=nt.targetId;if(!nt.fromCache){const En=Pe.os.get(Qt),Rn=En.withLastLimboFreeSnapshotVersion(En.snapshotVersion);Pe.os=Pe.os.insert(Qt,Rn)}}}),function U(J,fe){return M.apply(this,arguments)})(a.localStore,m))}),vp.apply(this,arguments)}function uv(u,n){return yp.apply(this,arguments)}function yp(){return(yp=(0,Ae.A)(function*(u,n){const i=cn(u);if(!i.currentUser.isEqual(n)){ut("SyncEngine","User change. New user:",n.toKey());const a=yield Ad(i.localStore,n);i.currentUser=n,(m=i).ka.forEach(M=>{M.forEach(U=>{U.reject(new Fe(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.ka.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield sl(i,a.hs)}var m})).apply(this,arguments)}function cv(u,n){const i=cn(u),a=i.Na.get(n);if(a&&a.va)return Hr().add(a.key);{let c=Hr();const m=i.Ma.get(n);if(!m)return c;for(const E of m){const M=i.Fa.get(E);c=c.unionWith(M.view.Va)}return c}}function M0(u,n){return lm.apply(this,arguments)}function lm(){return(lm=(0,Ae.A)(function*(u,n){const i=cn(u),a=yield rl(i.localStore,n.query,!0),c=n.view.ba(a);return i.isPrimaryClient&&mp(i,n.targetId,c.wa),c})).apply(this,arguments)}function x0(u,n){return um.apply(this,arguments)}function um(){return(um=(0,Ae.A)(function*(u,n){const i=cn(u);return Ru(i.localStore,n).then(a=>sl(i,a))})).apply(this,arguments)}function dv(u,n,i,a){return hv.apply(this,arguments)}function hv(){return(hv=(0,Ae.A)(function*(u,n,i,a){const c=cn(u),m=yield function(M,U){const J=cn(M),fe=cn(J.mutationQueue);return J.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>fe.Mn(Pe,U).next(nt=>nt?J.localDocuments.getDocuments(Pe,nt):lt.resolve(null)))}(c.localStore,n);var U;null!==m?("pending"===i?yield ol(c.remoteStore):"acknowledged"===i||"rejected"===i?(am(c,n,a||null),sm(c,n),U=n,cn(cn(c.localStore).mutationQueue).On(U)):Jt(),yield sl(c,m)):ut("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function cm(){return(cm=(0,Ae.A)(function*(u,n){const i=cn(u);if(Ip(i),Ep(i),!0===n&&!0!==i.Qa){const a=i.sharedClientState.getAllActiveQueryTargets(),c=yield pv(i,a.toArray());i.Qa=!0,yield D(i.remoteStore,!0);for(const m of c)au(i.remoteStore,m)}else if(!1===n&&!1!==i.Qa){const a=[];let c=Promise.resolve();i.Ma.forEach((m,E)=>{i.sharedClientState.isLocalQueryTarget(E)?a.push(E):c=c.then(()=>(Ld(i,E),ua(i.localStore,E,!0))),El(i.remoteStore,E)}),yield c,yield pv(i,a),function(E){const M=cn(E);M.Na.forEach((U,J)=>{El(M.remoteStore,J)}),M.La.pr(),M.Na=new Map,M.Oa=new Un(In.comparator)}(i),i.Qa=!1,yield D(i.remoteStore,!1)}})).apply(this,arguments)}function pv(u,n,i){return gv.apply(this,arguments)}function gv(){return(gv=(0,Ae.A)(function*(u,n,i){const a=cn(u),c=[],m=[];for(const E of n){let M;const U=a.Ma.get(E);if(U&&0!==U.length){M=yield Fl(a.localStore,si(U[0]));for(const J of U){const fe=a.Fa.get(J),Pe=yield M0(a,fe);Pe.snapshot&&m.push(Pe.snapshot)}}else{const J=yield Qf(a.localStore,E);M=yield Fl(a.localStore,J),yield up(a,mv(J),E,!1,M.resumeToken)}c.push(M)}return a.Ca.d_(m),c})).apply(this,arguments)}function mv(u){return so(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function _v(u){return i=cn(u).localStore,cn(cn(i).persistence).Qi();var i}function dm(u,n,i,a){return hm.apply(this,arguments)}function hm(){return(hm=(0,Ae.A)(function*(u,n,i,a){const c=cn(u);if(c.Qa)return void ut("SyncEngine","Ignoring unexpected query state notification.");const m=c.Ma.get(n);if(m&&m.length>0)switch(i){case"current":case"not-current":{const E=yield Ru(c.localStore,ra(m[0])),M=Os.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,ci.EMPTY_BYTE_STRING);yield sl(c,E,M);break}case"rejected":yield ua(c.localStore,n,!0),Ld(c,n,a);break;default:Jt()}})).apply(this,arguments)}function Vu(u,n,i){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,Ae.A)(function*(u,n,i){const a=Ip(u);if(a.Qa){for(const c of n){if(a.Ma.has(c)&&a.sharedClientState.isActiveQueryTarget(c)){ut("SyncEngine","Adding an already active target "+c);continue}const m=yield Qf(a.localStore,c),E=yield Fl(a.localStore,m);yield up(a,mv(m),E.targetId,!1,E.resumeToken),au(a.remoteStore,E)}for(const c of i)a.Ma.has(c)&&(yield ua(a.localStore,c,!1).then(()=>{El(a.remoteStore,c),Ld(a,c)}).catch(Br))}})).apply(this,arguments)}function Ip(u){const n=cn(u);return n.remoteStore.remoteSyncer.applyRemoteEvent=D0.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=cv.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=sv.bind(null,n),n.Ca.d_=op.bind(null,n.eventManager),n.Ca.$a=em.bind(null,n.eventManager),n}function Ep(u){const n=cn(u);return n.remoteStore.remoteSyncer.applySuccessfulWrite=S0.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=R0.bind(null,n),n}let Zh=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var a=this;return(0,Ae.A)(function*(){a.serializer=il(i.databaseInfo.databaseId),a.sharedClientState=a.Wa(i),a.persistence=a.Ga(i),yield a.persistence.start(),a.localStore=a.za(i),a.gcScheduler=a.ja(i,a.localStore),a.indexBackfillerScheduler=a.Ha(i,a.localStore)})()}ja(i,a){return null}Ha(i,a){return null}za(i){return Zf(this.persistence,new iu,i.initialUser,this.serializer)}Ga(i){return new bc(Su.Zr,this.serializer)}Wa(i){return new Dd}terminate(){var i=this;return(0,Ae.A)(function*(){var a,c;null===(a=i.gcScheduler)||void 0===a||a.stop(),null===(c=i.indexBackfillerScheduler)||void 0===c||c.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})();class fm extends Zh{constructor(n,i,a){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,Ae.A)(function*(){yield i().call(a,n),yield a.Ja.initialize(a,n),yield Ep(a.Ja.syncEngine),yield ol(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return Zf(this.persistence,new iu,n.initialUser,this.serializer)}ja(n,i){return new Ra(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const a=new zt(i,this.persistence);return new Vr(n.asyncQueue,a)}Ga(n){const i=Sc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new Ll(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,Fh(),Nc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new Dd}}class vv extends fm{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,Ae.A)(function*(){yield i().call(a,n);const c=a.Ja.syncEngine;a.sharedClientState instanceof su&&(a.sharedClientState.syncEngine={no:dv.bind(null,c),ro:dm.bind(null,c),io:Vu.bind(null,c),Qi:_v.bind(null,c),eo:x0.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var m=(0,Ae.A)(function*(E){yield function fv(u,n){return cm.apply(this,arguments)}(a.Ja.syncEngine,E),a.gcScheduler&&(E&&!a.gcScheduler.started?a.gcScheduler.start():E||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(E&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():E||a.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}Wa(n){const i=Fh();if(!su.D(i))throw new Fe(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Sc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new su(i,n.asyncQueue,a,n.clientId,n.initialUser)}}let Vd=(()=>{class u{initialize(i,a){var c=this;return(0,Ae.A)(function*(){c.localStore||(c.localStore=i.localStore,c.sharedClientState=i.sharedClientState,c.datastore=c.createDatastore(a),c.remoteStore=c.createRemoteStore(a),c.eventManager=c.createEventManager(a),c.syncEngine=c.createSyncEngine(a,!i.synchronizeTabs),c.sharedClientState.onlineStateHandler=m=>Bc(c.syncEngine,m,1),c.remoteStore.remoteSyncer.handleCredentialChange=uv.bind(null,c.syncEngine),yield D(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Ga}createDatastore(i){const a=il(i.databaseInfo.databaseId),c=new Zg(i.databaseInfo);return new Vh(i.authCredentials,i.appCheckCredentials,c,a)}createRemoteStore(i){return c=this.localStore,m=this.datastore,E=i.asyncQueue,M=a=>Bc(this.syncEngine,a,0),U=Lh.D()?new Lh:new ep,new rp(c,m,E,M,U);var c,m,E,M,U}createSyncEngine(i,a){return function(m,E,M,U,J,fe,Pe){const nt=new Kh(m,E,M,U,J,fe);return Pe&&(nt.Qa=!0),nt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,a)}terminate(){var i=this;return(0,Ae.A)(function*(){var a,c,m;yield(m=(0,Ae.A)(function*(M){const U=cn(M);ut("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Il(U),U.k_.shutdown(),U.q_.set("Unknown")}),function E(M){return m.apply(this,arguments)})(i.remoteStore),null===(a=i.datastore)||void 0===a||a.terminate(),null===(c=i.eventManager)||void 0===c||c.terminate()})()}}return u.provider={build:()=>new u},u})();function N0(u,n=10240){let i=0;return{read:()=>(0,Ae.A)(function*(){if(i<u.byteLength){const a={value:u.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,Ae.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class pm{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):Ct("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class Tp{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new Bt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,Ae.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,Ae.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,Ae.A)(function*(){const i=yield n.nu();if(null===i)return null;const a=n.eu.decode(i),c=Number(a);isNaN(c)&&n.ru(`length string (${a}) is not valid number`);const m=yield n.iu(c);return new $l(JSON.parse(m),i.length+c)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,Ae.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}iu(n){var i=this;return(0,Ae.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const a=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,Ae.A)(function*(){const i=yield n.Xa.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class O0{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,Ae.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Fe(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(c=(0,Ae.A)(function*(E,M){const U=cn(E),J={documents:M.map(Qt=>Ml(U.serializer,Qt))},fe=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,or.emptyPath(),J,M.length),Pe=new Map;fe.forEach(Qt=>{const En=function S(u,n){return"found"in n?function(a,c){ln(!!c.found);const m=ks(a,c.found.name),E=mo(c.found.updateTime),M=c.found.createTime?mo(c.found.createTime):Mn.min(),U=new io({mapValue:{fields:c.found.fields}});return Xr.newFoundDocument(m,E,M,U)}(u,n):"missing"in n?function(a,c){ln(!!c.missing),ln(!!c.readTime);const m=ks(a,c.missing),E=mo(c.readTime);return Xr.newNoDocument(m,E)}(u,n):Jt()}(U.serializer,Qt);Pe.set(En.key.toString(),En)});const nt=[];return M.forEach(Qt=>{const En=Pe.get(Qt.toString());ln(!!En),nt.push(En)}),nt}),function m(E,M){return c.apply(this,arguments)})(i.datastore,n);var c;return a.forEach(c=>i.recordVersion(c)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new rn(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ae.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,c)=>{const m=In.fromPath(c);n.mutations.push(new Kn(m,n.precondition(m)))}),yield(a=(0,Ae.A)(function*(m,E){const M=cn(m),U={writes:E.map(J=>B(M.serializer,J))};yield M.Mo("Commit",M.serializer.databaseId,or.emptyPath(),U)}),function c(m,E){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Jt();i=Mn.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new Fe(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Mn.min())?ne.exists(!1):ne.updateTime(i):ne.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Mn.min()))throw new Fe(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ne.updateTime(i)}return ne.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class gm{constructor(n,i,a,c,m){this.asyncQueue=n,this.datastore=i,this.options=a,this.updateFunction=c,this.deferred=m,this._u=a.maxAttempts,this.t_=new Na(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,Ae.A)(function*(){const i=new O0(n.datastore),a=n.cu(i);a&&a.then(c=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(c)}).catch(m=>{n.lu(m)}))}).catch(c=>{n.lu(c)})}))}cu(n){try{const i=this.updateFunction(n);return!on(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!ys(i)}return!1}}class mm{constructor(n,i,a,c,m){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=c,this.user=$e.UNAUTHENTICATED,this.clientId=Ei.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=m,this.authCredentials.start(a,function(){var M=(0,Ae.A)(function*(U){ut("FirestoreClient","Received user=",U.uid),yield E.authCredentialListener(U),E.user=U});return function(U){return M.apply(this,arguments)}}()),this.appCheckCredentials.start(a,M=>(ut("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(a){const c=gn(a,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function Uu(u,n){return $c.apply(this,arguments)}function $c(){return $c=(0,Ae.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const i=u.configuration;yield n.initialize(i);let a=i.initialUser;u.setCredentialChangeListener(function(){var c=(0,Ae.A)(function*(m){a.isEqual(m)||(yield Ad(n.localStore,m),a=m)});return function(m){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=n}),$c.apply(this,arguments)}function Qh(u,n){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,Ae.A)(function*(u,n){u.asyncQueue.verifyOperationInProgress();const i=yield jc(u);ut("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,u.configuration),u.setCredentialChangeListener(a=>g(n.remoteStore,a)),u.setAppCheckTokenChangeListener((a,c)=>g(n.remoteStore,c)),u._onlineComponents=n})).apply(this,arguments)}function jc(u){return $u.apply(this,arguments)}function $u(){return($u=(0,Ae.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uu(u,u._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(c=n).name?c.code===Ne.FAILED_PRECONDITION||c.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw n;Gn("Error using user provided cache. Falling back to memory cache: "+n),yield Uu(u,new Zh)}}else ut("FirestoreClient","Using default OfflineComponentProvider"),yield Uu(u,new Zh);var c;return u._offlineComponents})).apply(this,arguments)}function Ud(u){return zc.apply(this,arguments)}function zc(){return(zc=(0,Ae.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qh(u,u._uninitializedComponentsProvider._online)):(ut("FirestoreClient","Using default OnlineComponentProvider"),yield Qh(u,new Vd))),u._onlineComponents})).apply(this,arguments)}function Hc(u){return jc(u).then(n=>n.persistence)}function uu(u){return jc(u).then(n=>n.localStore)}function k0(u){return Ud(u).then(n=>n.remoteStore)}function Yh(u){return Ud(u).then(n=>n.syncEngine)}function $d(u){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,Ae.A)(function*(u){const n=yield Ud(u),i=n.eventManager;return i.onListen=Xh.bind(null,n.syncEngine),i.onUnlisten=b0.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=nm.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=om.bind(null,n.syncEngine),i})).apply(this,arguments)}function vm(u,n,i={}){const a=new Bt;return u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return function(m,E,M,U,J){const fe=new pm({next:nt=>{fe.Za(),E.enqueueAndForget(()=>Nd(m,Pe));const Qt=nt.docs.has(M);!Qt&&nt.fromCache?J.reject(new Fe(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):Qt&&nt.fromCache&&U&&"server"===U.source?J.reject(new Fe(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(nt)},error:nt=>J.reject(nt)}),Pe=new Wh(Ao(M.path),fe,{includeMetadataChanges:!0,_a:!0});return xd(m,Pe)}(yield $d(u),u.asyncQueue,n,i,a)})),a.promise}function yv(u,n,i={}){const a=new Bt;return u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return function(m,E,M,U,J){const fe=new pm({next:nt=>{fe.Za(),E.enqueueAndForget(()=>Nd(m,Pe)),nt.fromCache&&"server"===U.source?J.reject(new Fe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(nt)},error:nt=>J.reject(nt)}),Pe=new Wh(M,fe,{includeMetadataChanges:!0,_a:!0});return xd(m,Pe)}(yield $d(u),u.asyncQueue,n,i,a)})),a.promise}function Ev(u){const n={};return void 0!==u.timeoutSeconds&&(n.timeoutSeconds=u.timeoutSeconds),n}const tf=new Map;function nf(u,n,i){if(!i)throw new Fe(Ne.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${n}.`)}function Im(u,n,i,a){if(!0===n&&!0===a)throw new Fe(Ne.INVALID_ARGUMENT,`${u} and ${i} cannot be used together.`)}function Av(u){if(!In.isDocumentKey(u))throw new Fe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Em(u){if(In.isDocumentKey(u))throw new Fe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function jd(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const n=(a=u).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof u?"a function":Jt()}function Ri(u,n){if("_delegate"in u&&(u=u._delegate),!(u instanceof n)){if(n.name===u.constructor.name)throw new Fe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jd(u);throw new Fe(Ne.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return u}function ju(u,n){if(n<=0)throw new Fe(Ne.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${n}.`)}class Am{constructor(n){var i,a;if(void 0===n.host){if(void 0!==n.ssl)throw new Fe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Fe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}Im("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ev(null!==(a=n.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(m){if(void 0!==m.timeoutSeconds){if(isNaN(m.timeoutSeconds))throw new Fe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (must not be NaN)`);if(m.timeoutSeconds<5)throw new Fe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (minimum allowed value is 5)`);if(m.timeoutSeconds>30)throw new Fe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${m.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class zu{constructor(n,i,a,c){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Fe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Am(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new rr;switch(a.type){case"firstParty":return new Tr(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,Ae.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=tf.get(i);a&&(ut("ComponentProvider","Removing Datastore"),tf.delete(i),a.terminate())}(this),Promise.resolve()}}class js{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new js(this.firestore,n,this._query)}}class Do{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Do(this.firestore,n,this._key)}}class al extends js{constructor(n,i,a){super(n,i,Ao(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Do(this.firestore,null,new In(n))}withConverter(n){return new al(this.firestore,n,this._path)}}function Cm(u,n,...i){if(u=(0,Qe.Ku)(u),nf("collection","path",n),u instanceof zu){const a=or.fromString(n,...i);return Em(a),new al(u,null,a)}{if(!(u instanceof Do||u instanceof al))throw new Fe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(or.fromString(n,...i));return Em(a),new al(u.firestore,null,a)}}function zd(u,n,...i){if(u=(0,Qe.Ku)(u),1===arguments.length&&(n=Ei.newId()),nf("doc","path",n),u instanceof zu){const a=or.fromString(n,...i);return Av(a),new Do(u,null,new In(a))}{if(!(u instanceof Do||u instanceof al))throw new Fe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=u._path.child(or.fromString(n,...i));return Av(a),new Do(u.firestore,u instanceof al?u.converter:null,new In(a))}}function Gc(u,n){return u=(0,Qe.Ku)(u),n=(0,Qe.Ku)(n),(u instanceof Do||u instanceof al)&&(n instanceof Do||n instanceof al)&&u.firestore===n.firestore&&u.path===n.path&&u.converter===n.converter}function wm(u,n){return u=(0,Qe.Ku)(u),n=(0,Qe.Ku)(n),u instanceof js&&n instanceof js&&u.firestore===n.firestore&&Ns(u._query,n._query)&&u.converter===n.converter}class Tv{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Na(this,"async_queue_retry"),this.Vu=()=>{const a=Nc();a&&ut("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=n;const i=Nc();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=Nc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new Bt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,Ae.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!Wi(i))throw i;ut("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(a=>{throw this.Eu=a,this.du=!1,Ct("INTERNAL UNHANDLED ERROR: ",function(E){let M=E.message||"";return E.stack&&(M=E.stack.includes(E.message)?E.stack:E.message+"\n"+E.stack),M}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=i,i}enqueueAfterDelay(n,i,a){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const c=Lt.createAndSchedule(this,n,i,a,m=>this.yu(m));return this.Tu.push(c),c}fu(){this.Eu&&Jt()}verifyOperationInProgress(){}wu(){var n=this;return(0,Ae.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function Cv(u){return function(i){if("object"!=typeof i||null===i)return!1;const c=i;for(const m of["next","error","complete"])if(m in c&&"function"==typeof c[m])return!0;return!1}(u)}class bp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class vo extends zu{constructor(n,i,a,c){super(n,i,a,c),this.type="firestore",this._queue=new Tv,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,Ae.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new Tv(i),n._firestoreClient=void 0,yield i}})()}}function ko(u){if(u._terminated)throw new Fe(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||wv(u),u._firestoreClient}function wv(u){var n,i,a;const c=u._freezeSettings(),m=(U=(null===(n=u._app)||void 0===n?void 0:n.options.appId)||"",new Ut(u._databaseId,U,u._persistenceKey,(fe=c).host,fe.ssl,fe.experimentalForceLongPolling,fe.experimentalAutoDetectLongPolling,Ev(fe.experimentalLongPollingOptions),fe.useFetchStreams));var U,fe;u._componentsProvider||!(null===(i=c.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(a=c.localCache)||void 0===a)&&a._onlineComponentProvider&&(u._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),u._firestoreClient=new mm(u._authCredentials,u._appCheckCredentials,u._queue,m,u._componentsProvider&&function(M){const U=null==M?void 0:M._online.build();return{_offline:null==M?void 0:M._offline.build(U),_online:U}}(u._componentsProvider))}function Dm(){return(Dm=(0,Ae.A)(function*(u){Gn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=u._freezeSettings();bv(u,Vd.provider,{build:i=>new vv(i,n.cacheSizeBytes)})})).apply(this,arguments)}function bv(u,n,i){if((u=Ri(u,vo))._firestoreClient||u._terminated)throw new Fe(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(u._componentsProvider||u._getSettings().localCache)throw new Fe(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");u._componentsProvider={_online:n,_offline:i},wv(u)}class jl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new jl(ci.fromBase64String(n))}catch(i){throw new Fe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new jl(ci.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class cu{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Fe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Wc{constructor(n){this._methodName=n}}class Hd{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Fe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Fe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Ln(this._lat,n._lat)||Ln(this._long,n._long)}}class ll{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(a,c){if(a.length!==c.length)return!1;for(let m=0;m<a.length;++m)if(a[m]!==c[m])return!1;return!0}(this._values,n._values)}}const sf=/^__.*__$/;class Sv{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new Pt(n,this.data,this.fieldMask,i,this.fieldTransforms):new Tt(n,this.data,i,this.fieldTransforms)}}class Sm{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new Pt(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function Rm(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class Pm{constructor(n,i,a,c,m,E){this.settings=n,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=c,void 0===m&&this.vu(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Pm(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.Fu({path:a,xu:!1});return c.Ou(n),c}Nu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.Fu({path:a,xu:!1});return c.vu(),c}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return Xd(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(Rm(this.Cu)&&sf.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class cA{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=a||il(n)}Qu(n,i,a,c=!1){return new Pm({Cu:n,methodName:i,qu:a,path:Nr.emptyPath(),xu:!1,ku:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(u){const n=u._freezeSettings(),i=il(u._databaseId);return new cA(u._databaseId,!!n.ignoreUndefinedProperties,i)}function Wd(u,n,i,a,c,m={}){const E=u.Qu(m.merge||m.mergeFields?2:0,n,i,c);Lm("Data must be an object, but it was:",E,a);const M=km(a,E);let U,J;if(m.merge)U=new Yr(E.fieldMask),J=E.fieldTransforms;else if(m.mergeFields){const fe=[];for(const Pe of m.mergeFields){const nt=Kd(n,Pe,i);if(!E.contains(nt))throw new Fe(Ne.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);xv(fe,nt)||fe.push(nt)}U=new Yr(fe),J=E.fieldTransforms.filter(Pe=>U.covers(Pe.field))}else U=null,J=E.fieldTransforms;return new Sv(new io(M),U,J)}class Kc extends Wc{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Kc}}function G0(u,n,i){return new Pm({Cu:3,qu:n.settings.qu,methodName:u._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Rv extends Wc{_toFieldTransform(n){return new F(n.path,new ts)}isEqual(n){return n instanceof Rv}}class Sp extends Wc{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=G0(this,n,!0),a=this.Ku.map(m=>Gu(m,i)),c=new C(a);return new F(n.path,c)}isEqual(n){return n instanceof Sp&&(0,Qe.bD)(this.Ku,n.Ku)}}class Mm extends Wc{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=G0(this,n,!0),a=this.Ku.map(m=>Gu(m,i)),c=new W(a);return new F(n.path,c)}isEqual(n){return n instanceof Mm&&(0,Qe.bD)(this.Ku,n.Ku)}}class xm extends Wc{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new H(n.serializer,jo(n.serializer,this.$u));return new F(n.path,i)}isEqual(n){return n instanceof xm&&this.$u===n.$u}}function Nm(u,n,i,a){const c=u.Qu(1,n,i);Lm("Data must be an object, but it was:",c,a);const m=[],E=io.empty();Ti(a,(U,J)=>{const fe=Pp(n,U,i);J=(0,Qe.Ku)(J);const Pe=c.Nu(fe);if(J instanceof Kc)m.push(fe);else{const nt=Gu(J,Pe);null!=nt&&(m.push(fe),E.set(fe,nt))}});const M=new Yr(m);return new Sm(E,M,c.fieldTransforms)}function Om(u,n,i,a,c,m){const E=u.Qu(1,n,i),M=[Kd(n,a,i)],U=[c];if(m.length%2!=0)throw new Fe(Ne.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<m.length;nt+=2)M.push(Kd(n,m[nt])),U.push(m[nt+1]);const J=[],fe=io.empty();for(let nt=M.length-1;nt>=0;--nt)if(!xv(J,M[nt])){const Qt=M[nt];let En=U[nt];En=(0,Qe.Ku)(En);const Vn=E.Nu(Qt);if(En instanceof Kc)J.push(Qt);else{const Rn=Gu(En,Vn);null!=Rn&&(J.push(Qt),fe.set(Qt,Rn))}}const Pe=new Yr(J);return new Sm(fe,Pe,E.fieldTransforms)}function Pv(u,n,i,a=!1){return Gu(i,u.Qu(a?4:3,n))}function Gu(u,n){if(Mv(u=(0,Qe.Ku)(u)))return Lm("Unsupported field value:",n,u),km(u,n);if(u instanceof Wc)return function(a,c){if(!Rm(c.Cu))throw c.Bu(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Bu(`${a._methodName}() is not currently supported inside arrays`);const m=a._toFieldTransform(c);m&&c.fieldTransforms.push(m)}(u,n),null;if(void 0===u&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),u instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(a,c){const m=[];let E=0;for(const M of a){let U=Gu(M,c.Lu(E));null==U&&(U={nullValue:"NULL_VALUE"}),m.push(U),E++}return{arrayValue:{values:m}}}(u,n)}return function(a,c){if(null===(a=(0,Qe.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return jo(c.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const m=kr.fromDate(a);return{timestampValue:wo(c.serializer,m)}}if(a instanceof kr){const m=new kr(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wo(c.serializer,m)}}if(a instanceof Hd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jl)return{bytesValue:Ya(c.serializer,a._byteString)};if(a instanceof Do){const m=c.databaseId,E=a.firestore._databaseId;if(!E.isEqual(m))throw c.Bu(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:Es(a.firestore._databaseId||c.databaseId,a._key.path)}}if(a instanceof ll)return M=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(U=>{if("number"!=typeof U)throw M.Bu("VectorValues must only contain numeric values.");return To(M.serializer,U)})}}}}};var M;throw c.Bu(`Unsupported field value: ${jd(a)}`)}(u,n)}function km(u,n){const i={};return Rr(u)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ti(u,(a,c)=>{const m=Gu(c,n.Mu(a));null!=m&&(i[a]=m)}),{mapValue:{fields:i}}}function Mv(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof kr||u instanceof Hd||u instanceof jl||u instanceof Do||u instanceof Wc||u instanceof ll)}function Lm(u,n,i){if(!Mv(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const a=jd(i);throw n.Bu("an object"===a?u+" a custom object":u+" "+a)}var c}function Kd(u,n,i){if((n=(0,Qe.Ku)(n))instanceof cu)return n._internalPath;if("string"==typeof n)return Pp(u,n);throw Xd("Field path arguments must be of type string or ",u,!1,void 0,i)}const Rp=new RegExp("[~\\*/\\[\\]]");function Pp(u,n,i){if(n.search(Rp)>=0)throw Xd(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,i);try{return new cu(...n.split("."))._internalPath}catch{throw Xd(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,i)}}function Xd(u,n,i,a,c){const m=a&&!a.isEmpty(),E=void 0!==c;let M=`Function ${n}() called with invalid data`;i&&(M+=" (via `toFirestore()`)"),M+=". ";let U="";return(m||E)&&(U+=" (found",m&&(U+=` in field ${a}`),E&&(U+=` in document ${c}`),U+=")"),new Fe(Ne.INVALID_ARGUMENT,M+u+U)}function xv(u,n){return u.some(i=>i.isEqual(n))}class zl{constructor(n,i,a,c,m){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Do(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new W0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Mp("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class W0 extends zl{data(){return super.data()}}function Mp(u,n){return"string"==typeof n?Pp(u,n):n instanceof cu?n._internalPath:n._delegate._internalPath}function xp(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new Fe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class af extends Np{}function Wu(u,n,...i){let a=[];n instanceof Np&&a.push(n),a=a.concat(i),function(m){const E=m.filter(U=>U instanceof Xc).length,M=m.filter(U=>U instanceof lf).length;if(E>1||E>0&&M>0)throw new Fe(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const c of a)u=c._apply(u);return u}class lf extends af{constructor(n,i,a){super(),this._field=n,this._op=i,this._value=a,this.type="where"}static _create(n,i,a){return new lf(n,i,a)}_apply(n){const i=this._parse(n);return Vp(n._query,i),new js(n.firestore,n.converter,Gi(n._query,i))}_parse(n){const i=Gd(n.firestore);return function(m,E,M,U,J,fe,Pe){let nt;if(J.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new Fe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){tI(Pe,fe);const Qt=[];for(const En of Pe)Qt.push(eI(U,m,En));nt={arrayValue:{values:Qt}}}else nt=eI(U,m,Pe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||tI(Pe,fe),nt=Pv(M,"where",Pe,"in"===fe||"not-in"===fe);return gr.create(J,fe,nt)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class Xc extends Np{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Xc(n,i)}_parse(n){const i=this._queryConstraints.map(a=>a._parse(n)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:$r.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(c,m){let E=c;const M=m.getFlattenedFilters();for(const U of M)Vp(E,U),E=Gi(E,U)}(n._query,i),new js(n.firestore,n.converter,Gi(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qc extends af{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new qc(n,i)}_apply(n){const i=function(c,m,E){if(null!==c.startAt)throw new Fe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Fe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ki(m,E)}(n._query,this._field,this._direction);return new js(n.firestore,n.converter,function(c,m){const E=c.explicitOrderBy.concat([m]);return new go(c.path,c.collectionGroup,E,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n._query,i))}}class Op extends af{constructor(n,i,a){super(),this.type=n,this._limit=i,this._limitType=a}static _create(n,i,a){return new Op(n,i,a)}_apply(n){return new js(n.firestore,n.converter,ds(n._query,this._limit,this._limitType))}}class kp extends af{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new kp(n,i,a)}_apply(n){const i=Fp(n,this.type,this._docOrFields,this._inclusive);return new js(n.firestore,n.converter,(m=i,new go((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,m,c.endAt)));var c,m}}class Lp extends af{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new Lp(n,i,a)}_apply(n){const i=Fp(n,this.type,this._docOrFields,this._inclusive);return new js(n.firestore,n.converter,(m=i,new go((c=n._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,m)));var c,m}}function Fp(u,n,i,a){if(i[0]=(0,Qe.Ku)(i[0]),i[0]instanceof zl)return function(m,E,M,U,J){if(!U)throw new Fe(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${M}().`);const fe=[];for(const Pe of Mr(m))if(Pe.field.isKeyField())fe.push(bi(E,U.key));else{const nt=U.data.field(Pe.field);if(ze(nt))throw new Fe(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const Qt=Pe.field.canonicalString();throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Qt}' (used as the orderBy) does not exist.`)}fe.push(nt)}return new Dr(fe,J)}(u._query,u.firestore._databaseId,n,i[0]._document,a);{const c=Gd(u.firestore);return function(E,M,U,J,fe,Pe){const nt=E.explicitOrderBy;if(fe.length>nt.length)throw new Fe(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Qt=[];for(let En=0;En<fe.length;En++){const Vn=fe[En];if(nt[En].field.isKeyField()){if("string"!=typeof Vn)throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof Vn}`);if(!ls(E)&&-1!==Vn.indexOf("/"))throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${Vn}' contains a slash.`);const Rn=E.path.child(or.fromString(Vn));if(!In.isDocumentKey(Rn))throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${Rn}' is not because it contains an odd number of segments.`);const mr=new In(Rn);Qt.push(bi(M,mr))}else{const Rn=Pv(U,J,Vn);Qt.push(Rn)}}return new Dr(Qt,Pe)}(u._query,u.firestore._databaseId,c,n,i,a)}}function eI(u,n,i){if("string"==typeof(i=(0,Qe.Ku)(i))){if(""===i)throw new Fe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ls(n)&&-1!==i.indexOf("/"))throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(or.fromString(i));if(!In.isDocumentKey(a))throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return bi(u,new In(a))}if(i instanceof Do)return bi(u,i._key);throw new Fe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(i)}.`)}function tI(u,n){if(!Array.isArray(u)||0===u.length)throw new Fe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Vp(u,n){const i=function(c,m){for(const E of c)for(const M of E.getFlattenedFilters())if(m.indexOf(M.op)>=0)return M.op;return null}(u.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Fe(Ne.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Ov{convertValue(n,i="none"){switch(Tn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ie(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(ke(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Jt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return Ti(n,(c,m)=>{a[c]=this.convertValue(m,i)}),a}convertVectorValue(n){var i,a,c;const m=null===(c=null===(a=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===a?void 0:a.values)||void 0===c?void 0:c.map(E=>ie(E.doubleValue));return new ll(m)}convertGeoPoint(n){return new Hd(ie(n.latitude),ie(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=pt(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(it(n));default:return null}}convertTimestamp(n){const i=Q(n);return new kr(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=or.fromString(n);ln(Ls(a));const c=new Rt(a.get(1),a.get(3)),m=new In(a.popFirst(5));return c.isEqual(i)||Ct(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),m}}function Fm(u,n,i){let a;return a=u?i&&(i.merge||i.mergeFields)?u.toFirestore(n,i):u.toFirestore(n):n,a}class dA extends Ov{constructor(n){super(),this.firestore=n}convertBytes(n){return new jl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Do(this.firestore,null,i)}}class Ku{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Hl extends zl{constructor(n,i,a,c,m,E){super(n,i,a,c,E),this._firestore=n,this._firestoreImpl=n,this.metadata=m}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(Mp("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class uf extends Hl{data(n={}){return super.data(n)}}class Xu{constructor(n,i,a,c){this._firestore=n,this._userDataWriter=i,this._snapshot=c,this.metadata=new Ku(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new uf(this._firestore,this._userDataWriter,a.key,a,new Ku(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,m){if(c._snapshot.oldDocs.isEmpty()){let E=0;return c._snapshot.docChanges.map(M=>({type:"added",doc:new uf(c._firestore,c._userDataWriter,M.doc.key,M.doc,new Ku(c._snapshot.mutatedKeys.has(M.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:E++}))}{let E=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(M=>m||3!==M.type).map(M=>{const U=new uf(c._firestore,c._userDataWriter,M.doc.key,M.doc,new Ku(c._snapshot.mutatedKeys.has(M.doc.key),c._snapshot.fromCache),c.query.converter);let J=-1,fe=-1;return 0!==M.type&&(J=E.indexOf(M.doc.key),E=E.delete(M.doc.key)),1!==M.type&&(E=E.add(M.doc),fe=E.indexOf(M.doc.key)),{type:kv(M.type),doc:U,oldIndex:J,newIndex:fe}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function kv(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function Zc(u,n){return u instanceof Hl&&n instanceof Hl?u._firestore===n._firestore&&u._key.isEqual(n._key)&&(null===u._document?null===n._document:u._document.isEqual(n._document))&&u._converter===n._converter:u instanceof Xu&&n instanceof Xu&&u._firestore===n._firestore&&wm(u.query,n.query)&&u.metadata.isEqual(n.metadata)&&u._snapshot.isEqual(n._snapshot)}class ps extends Ov{constructor(n){super(),this.firestore=n}convertBytes(n){return new jl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Do(this.firestore,null,i)}}function Um(u,n,i){u=Ri(u,Do);const a=Ri(u.firestore,vo),c=Fm(u.converter,n,i);return qd(a,[Wd(Gd(a),"setDoc",u._key,c,null!==u.converter,i).toMutation(u._key,ne.none())])}function Bm(u,n,i,...a){u=Ri(u,Do);const c=Ri(u.firestore,vo),m=Gd(c);let E;return E="string"==typeof(n=(0,Qe.Ku)(n))||n instanceof cu?Om(m,"updateDoc",u._key,n,i,a):Nm(m,"updateDoc",u._key,n),qd(c,[E.toMutation(u._key,ne.exists(!0))])}function $p(u,...n){var i,a,c;u=(0,Qe.Ku)(u);let m={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof n[E]||Cv(n[E])||(m=n[E],E++);const M={includeMetadataChanges:m.includeMetadataChanges,source:m.source};if(Cv(n[E])){const Pe=n[E];n[E]=null===(i=Pe.next)||void 0===i?void 0:i.bind(Pe),n[E+1]=null===(a=Pe.error)||void 0===a?void 0:a.bind(Pe),n[E+2]=null===(c=Pe.complete)||void 0===c?void 0:c.bind(Pe)}let U,J,fe;if(u instanceof Do)J=Ri(u.firestore,vo),fe=Ao(u._key.path),U={next:Pe=>{n[E]&&n[E](qu(J,u,Pe))},error:n[E+1],complete:n[E+2]};else{const Pe=Ri(u,js);J=Ri(Pe.firestore,vo),fe=Pe._query;const nt=new ps(J);U={next:Qt=>{n[E]&&n[E](new Xu(J,nt,Pe,Qt))},error:n[E+1],complete:n[E+2]},xp(u._query)}return function(nt,Qt,En,Vn){const Rn=new pm(Vn),mr=new Wh(Qt,Rn,En);return nt.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return xd(yield $d(nt),mr)})),()=>{Rn.Za(),nt.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return Nd(yield $d(nt),mr)}))}}(ko(J),fe,M,U)}function qd(u,n){return function(a,c){const m=new Bt;return a.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return function dp(u,n,i){return ov.apply(this,arguments)}(yield Yh(a),c,m)})),m.promise}(ko(u),n)}function qu(u,n,i){const a=i.docs.get(n._key),c=new ps(u);return new Hl(u,c,n._key,a,new Ku(i.hasPendingWrites,i.fromCache),n.converter)}const uI={maxAttempts:5};class Bv{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Gd(n)}set(n,i,a){this._verifyNotCommitted();const c=Gl(n,this._firestore),m=Fm(c.converter,i,a),E=Wd(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,a);return this._mutations.push(E.toMutation(c._key,ne.none())),this}update(n,i,a,...c){this._verifyNotCommitted();const m=Gl(n,this._firestore);let E;return E="string"==typeof(i=(0,Qe.Ku)(i))||i instanceof cu?Om(this._dataReader,"WriteBatch.update",m._key,i,a,c):Nm(this._dataReader,"WriteBatch.update",m._key,i),this._mutations.push(E.toMutation(m._key,ne.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Gl(n,this._firestore);return this._mutations=this._mutations.concat(new rn(i._key,ne.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gl(u,n){if((u=(0,Qe.Ku)(u)).firestore!==n)throw new Fe(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class $v extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=Gd(i)}get(i){const a=Gl(i,this._firestore),c=new dA(this._firestore);return this._transaction.lookup([a._key]).then(m=>{if(!m||1!==m.length)return Jt();const E=m[0];if(E.isFoundDocument())return new zl(this._firestore,c,E.key,E,a.converter);if(E.isNoDocument())return new zl(this._firestore,c,a._key,null,a.converter);throw Jt()})}set(i,a,c){const m=Gl(i,this._firestore),E=Fm(m.converter,a,c),M=Wd(this._dataReader,"Transaction.set",m._key,E,null!==m.converter,c);return this._transaction.set(m._key,M),this}update(i,a,c,...m){const E=Gl(i,this._firestore);let M;return M="string"==typeof(a=(0,Qe.Ku)(a))||a instanceof cu?Om(this._dataReader,"Transaction.update",E._key,a,c,m):Nm(this._dataReader,"Transaction.update",E._key,a),this._transaction.update(E._key,M),this}delete(i){const a=Gl(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Gl(n,this._firestore),a=new ps(this._firestore);return super.get(n).then(c=>new Hl(this._firestore,a,i._key,c._document,new Ku(!1,!1),i.converter))}}function Xp(u,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return n}function hi(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function qm(){if(!function Pi(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){rt=Te.SDK_VERSION,(0,Te._registerComponent)(new Oe.uA("firestore",(a,{instanceIdentifier:c,options:m})=>{const E=a.getProvider("app").getImmediate(),M=new vo(new zn(a.getProvider("auth-internal")),new Cr(a.getProvider("app-check-internal")),function(J,fe){if(!Object.prototype.hasOwnProperty.apply(J.options,["projectId"]))throw new Fe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rt(J.options.projectId,fe)}(E,c),E);return m=Object.assign({useFetchStreams:i},m),M._setSettings(m),M},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(He,"4.7.3",n),(0,Te.registerVersion)(He,"4.7.3","esm2017")}();class Qd{constructor(n){this._delegate=n}static fromBase64String(n){return qm(),new Qd(jl.fromBase64String(n))}static fromUint8Array(n){return hi(),new Qd(jl.fromUint8Array(n))}toBase64(){return qm(),this._delegate.toBase64()}toUint8Array(){return hi(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zu(u){return function Xv(u,n){if("object"!=typeof u||null===u)return!1;const i=u;for(const a of n)if(a in i&&"function"==typeof i[a])return!0;return!1}(u,["next","error","complete"])}class qv{enableIndexedDbPersistence(n,i){return function j0(u,n){Gn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=u._freezeSettings();return bv(u,Vd.provider,{build:a=>new fm(a,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function z0(u){return Dm.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function Hu(u){if(u._initialized&&!u._terminated)throw new Fe(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Bt;return u._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.A)(function*(){try{yield(i=(0,Ae.A)(function*(c){if(!Jn.D())return Promise.resolve();const m=c+"main";yield Jn.delete(m)}),function a(c){return i.apply(this,arguments)})(Sc(u._databaseId,u._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class Zv{constructor(n,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Rt||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Gn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,a={}){!function Tm(u,n,i,a={}){var c;const m=(u=Ri(u,zu))._getSettings(),E=`${n}:${i}`;if("firestore.googleapis.com"!==m.host&&m.host!==E&&Gn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},m),{host:E,ssl:!1})),a.mockUserToken){let M,U;if("string"==typeof a.mockUserToken)M=a.mockUserToken,U=$e.MOCK_USER;else{M=(0,Qe.Fy)(a.mockUserToken,null===(c=u._app)||void 0===c?void 0:c.options.projectId);const J=a.mockUserToken.sub||a.mockUserToken.user_id;if(!J)throw new Fe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new $e(J)}u._authCredentials=new dr(new St(M,U))}}(this._delegate,n,i,a)}enableNetwork(){return function H0(u){return function L0(u){return u.asyncQueue.enqueue((0,Ae.A)(function*(){const n=yield Hc(u),i=yield k0(u);return n.setNetworkEnabled(!0),function(c){const m=cn(c);return m.L_.delete(0),yl(m)}(i)}))}(ko(u=Ri(u,vo)))}(this._delegate)}disableNetwork(){return function sA(u){return function F0(u){return u.asyncQueue.enqueue((0,Ae.A)(function*(){const n=yield Hc(u),i=yield k0(u);return n.setNetworkEnabled(!1),(a=(0,Ae.A)(function*(m){const E=cn(m);E.L_.add(0),yield Il(E),E.q_.set("Offline")}),function c(m){return a.apply(this,arguments)})(i);var a}))}(ko(u=Ri(u,vo)))}(this._delegate)}enablePersistence(n){let i=!1,a=!1;return n&&(i=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,Im("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rf(u){return function(i){const a=new Bt;return i.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return function P0(u,n){return gp.apply(this,arguments)}(yield Yh(i),a)})),a.promise}(ko(u=Ri(u,vo)))}(this._delegate)}onSnapshotsInSync(n){return function $m(u,n){return function Iv(u,n){const i=new pm(n);return u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return c=yield $d(u),m=i,cn(c).Y_.add(m),void m.next();var c,m})),()=>{i.Za(),u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return c=yield $d(u),m=i,void cn(c).Y_.delete(m);var c,m}))}}(ko(u=Ri(u,vo)),Cv(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Jd(this,Cm(this._delegate,n))}catch(i){throw Qs(i,"collection()","Firestore.collection()")}}doc(n){try{return new ka(this,zd(this._delegate,n))}catch(i){throw Qs(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Aa(this,function wp(u,n){if(u=Ri(u,zu),nf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Fe(Ne.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new js(u,null,(a=n,new go(or.emptyPath(),a)));var a}(this._delegate,n))}catch(i){throw Qs(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function Qc(u,n,i){u=Ri(u,vo);const a=Object.assign(Object.assign({},uI),i);return function(m){if(m.maxAttempts<1)throw new Fe(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(m,E,M){const U=new Bt;return m.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){const J=yield function Bd(u){return Ud(u).then(n=>n.datastore)}(m);new gm(m.asyncQueue,J,M,E,U).au()})),U.promise}(ko(u),c=>n(new $v(u,c)),a)}(this._delegate,i=>n(new qp(this,i)))}batch(){return ko(this._delegate),new Yd(new Bv(this._delegate,n=>qd(this._delegate,n)))}loadBundle(n){return function aA(u,n){const i=ko(u=Ri(u,vo)),a=new bp;return function ym(u,n,i,a){const c=function(E,M){let U;return U="string"==typeof E?xi().encode(E):E,fe=function(fe){if(fe instanceof Uint8Array)return N0(fe,void 0);if(fe instanceof ArrayBuffer)return N0(new Uint8Array(fe),void 0);if(fe instanceof ReadableStream)return fe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new Tp(fe,M);var fe}(i,il(n));u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){!function Ap(u,n,i){const a=cn(u);var c;(c=(0,Ae.A)(function*(E,M,U){try{const J=yield M.getMetadata();if(yield function(En,Vn){const Rn=cn(En),mr=mo(Vn.createTime);return Rn.persistence.runTransaction("hasNewerBundle","readonly",Or=>Rn.Gr.getBundleMetadata(Or,Vn.id)).then(Or=>!!Or&&Or.createTime.compareTo(mr)>=0)}(E.localStore,J))return yield M.close(),U._completeWith({taskState:"Success",documentsLoaded:(En=J).totalDocuments,bytesLoaded:En.totalBytes,totalDocuments:En.totalDocuments,totalBytes:En.totalBytes}),Promise.resolve(new Set);U._updateProgress(tv(J));const fe=new ev(J,E.localStore,M.serializer);let Pe=yield M.Ua();for(;Pe;){const Qt=yield fe.la(Pe);Qt&&U._updateProgress(Qt),Pe=yield M.Ua()}const nt=yield fe.complete();return yield sl(E,nt.Ia,void 0),yield function(En,Vn){const Rn=cn(En);return Rn.persistence.runTransaction("Save bundle","readwrite",mr=>Rn.Gr.saveBundleMetadata(mr,Vn))}(E.localStore,J),U._completeWith(nt.progress),Promise.resolve(nt.Pa)}catch(J){return Gn("SyncEngine",`Loading bundle failed with ${J}`),U._failWith(J),Promise.resolve(new Set)}var En}),function m(E,M,U){return c.apply(this,arguments)})(a,n,i).then(c=>{a.sharedClientState.notifyBundleLoaded(c)})}(yield Yh(u),c,a)}))}(i,u._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function lA(u,n){return function U0(u,n){return u.asyncQueue.enqueue((0,Ae.A)(function*(){return function(a,c){const m=cn(a);return m.persistence.runTransaction("Get named query","readonly",E=>m.Gr.getNamedQuery(E,c))}(yield uu(u),n)}))}(ko(u=Ri(u,vo)),n).then(i=>i?new js(u,null,i.query):null)}(this._delegate,n).then(i=>i?new Aa(this,i):null)}}class Yc extends Ov{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qd(new jl(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return ka.forKey(i,this.firestore,null)}}class qp{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new Yc(n)}get(n){const i=td(n);return this._delegate.get(i).then(a=>new ed(this._firestore,new Hl(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(n,i,a){const c=td(n);return a?(Xp("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(n,i,a,...c){const m=td(n);return 2===arguments.length?this._delegate.update(m,i):this._delegate.update(m,i,a,...c),this}delete(n){const i=td(n);return this._delegate.delete(i),this}}class Yd{constructor(n){this._delegate=n}set(n,i,a){const c=td(n);return a?(Xp("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this}update(n,i,a,...c){const m=td(n);return 2===arguments.length?this._delegate.update(m,i):this._delegate.update(m,i,a,...c),this}delete(n){const i=td(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Qu{constructor(n,i,a){this._firestore=n,this._userDataWriter=i,this._delegate=a}fromFirestore(n,i){const a=new uf(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new df(this._firestore,a),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const a=Qu.INSTANCES;let c=a.get(n);c||(c=new WeakMap,a.set(n,c));let m=c.get(i);return m||(m=new Qu(n,new Yc(n),i),c.set(i,m)),m}}Qu.INSTANCES=new WeakMap;class ka{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Yc(n)}static forPath(n,i,a){if(n.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ka(i,new Do(i._delegate,a,new In(n)))}static forKey(n,i,a){return new ka(i,new Do(i._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Jd(this.firestore,Cm(this._delegate,n))}catch(i){throw Qs(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Qe.Ku)(n))instanceof Do&&Gc(this._delegate,n)}set(n,i){i=Xp("DocumentReference.set",i);try{return i?Um(this._delegate,n,i):Um(this._delegate,n)}catch(a){throw Qs(a,"setDoc()","DocumentReference.set()")}}update(n,i,...a){try{return 1===arguments.length?Bm(this._delegate,n):Bm(this._delegate,n,i,...a)}catch(c){throw Qs(c,"updateDoc()","DocumentReference.update()")}}delete(){return function mA(u){return qd(Ri(u.firestore,vo),[new rn(u._key,ne.none())])}(this._delegate)}onSnapshot(...n){const i=Zp(n),a=Zm(n,c=>new ed(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return $p(this._delegate,i,a)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Lv(u){u=Ri(u,Do);const n=Ri(u.firestore,vo),i=ko(n),a=new ps(n);return function _m(u,n){const i=new Bt;return u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return(a=(0,Ae.A)(function*(m,E,M){try{const U=yield function(fe,Pe){const nt=cn(fe);return nt.persistence.runTransaction("read document","readonly",Qt=>nt.localDocuments.getDocument(Qt,Pe))}(m,E);U.isFoundDocument()?M.resolve(U):U.isNoDocument()?M.resolve(null):M.reject(new Fe(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const J=gn(U,`Failed to get document '${E} from cache`);M.reject(J)}}),function c(m,E,M){return a.apply(this,arguments)})(yield uu(u),n,i);var a})),i.promise}(i,u._key).then(c=>new Hl(n,a,u._key,c,new Ku(null!==c&&c.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function fA(u){u=Ri(u,Do);const n=Ri(u.firestore,vo);return vm(ko(n),u._key,{source:"server"}).then(i=>qu(n,u,i))}(this._delegate):function Wa(u){u=Ri(u,Do);const n=Ri(u.firestore,vo);return vm(ko(n),u._key).then(i=>qu(n,u,i))}(this._delegate),i.then(a=>new ed(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new ka(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}function Qs(u,n,i){return u.message=u.message.replace(n,i),u}function Zp(u){for(const n of u)if("object"==typeof n&&!Zu(n))return n;return{}}function Zm(u,n){var i,a;let c;return c=Zu(u[0])?u[0]:Zu(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:m=>{c.next&&c.next(n(m))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}class ed{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return Zc(this._delegate,n._delegate)}}class df extends ed{data(n){const i=this._delegate.data(n);return this._delegate._converter||function sr(u){u||Jt()}(void 0!==i),i}}class Aa{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Yc(n)}where(n,i,a){try{return new Aa(this.firestore,Wu(this._delegate,function K0(u,n,i){const a=n,c=Mp("where",u);return lf._create(c,a,i)}(n,i,a)))}catch(c){throw Qs(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Aa(this.firestore,Wu(this._delegate,function X0(u,n="asc"){const i=n,a=Mp("orderBy",u);return qc._create(a,i)}(n,i)))}catch(a){throw Qs(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Aa(this.firestore,Wu(this._delegate,function q0(u){return ju("limit",u),Op._create("limit",u,"F")}(n)))}catch(i){throw Qs(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Aa(this.firestore,Wu(this._delegate,function Nv(u){return ju("limitToLast",u),Op._create("limitToLast",u,"L")}(n)))}catch(i){throw Qs(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Aa(this.firestore,Wu(this._delegate,function Z0(...u){return kp._create("startAt",u,!0)}(...n)))}catch(i){throw Qs(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Aa(this.firestore,Wu(this._delegate,function Q0(...u){return kp._create("startAfter",u,!1)}(...n)))}catch(i){throw Qs(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Aa(this.firestore,Wu(this._delegate,function Y0(...u){return Lp._create("endBefore",u,!1)}(...n)))}catch(i){throw Qs(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Aa(this.firestore,Wu(this._delegate,function J0(...u){return Lp._create("endAt",u,!0)}(...n)))}catch(i){throw Qs(i,"endAt()","Query.endAt()")}}isEqual(n){return wm(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function pA(u){u=Ri(u,js);const n=Ri(u.firestore,vo),i=ko(n),a=new ps(n);return function V0(u,n){const i=new Bt;return u.asyncQueue.enqueueAndForget((0,Ae.A)(function*(){return(a=(0,Ae.A)(function*(m,E,M){try{const U=yield rl(m,E,!0),J=new nv(E,U.Ts),fe=J.ma(U.documents),Pe=J.applyChanges(fe,!1);M.resolve(Pe.snapshot)}catch(U){const J=gn(U,`Failed to execute query '${E} against cache`);M.reject(J)}}),function c(m,E,M){return a.apply(this,arguments)})(yield uu(u),n,i);var a})),i.promise}(i,u._query).then(c=>new Xu(n,a,u,c))}(this._delegate):"server"===(null==n?void 0:n.source)?function gA(u){u=Ri(u,js);const n=Ri(u.firestore,vo),i=ko(n),a=new ps(n);return yv(i,u._query,{source:"server"}).then(c=>new Xu(n,a,u,c))}(this._delegate):function iI(u){u=Ri(u,js);const n=Ri(u.firestore,vo),i=ko(n),a=new ps(n);return xp(u._query),yv(i,u._query).then(c=>new Xu(n,a,u,c))}(this._delegate),i.then(a=>new Qp(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const i=Zp(n),a=Zm(n,c=>new Qp(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return $p(this._delegate,i,a)}withConverter(n){return new Aa(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}class mI{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new df(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qp{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new df(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new mI(this._firestore,i))}forEach(n,i){this._delegate.forEach(a=>{n.call(i,new df(this._firestore,a))})}isEqual(n){return Zc(this._delegate,n._delegate)}}class Jd extends Aa{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ka(this.firestore,n):null}doc(n){try{return new ka(this.firestore,void 0===n?zd(this._delegate):zd(this._delegate,n))}catch(i){throw Qs(i,"doc()","CollectionReference.doc()")}}add(n){return function Bp(u,n){const i=Ri(u.firestore,vo),a=zd(u),c=Fm(u.converter,n);return qd(i,[Wd(Gd(u.firestore),"addDoc",a._key,c,null!==u.converter,{}).toMutation(a._key,ne.exists(!1))]).then(()=>a)}(this._delegate,n).then(i=>new ka(this.firestore,i))}isEqual(n){return Gc(this._delegate,n._delegate)}withConverter(n){return new Jd(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}function td(u){return Ri(u,Do)}class Qm{constructor(...n){this._delegate=new cu(...n)}static documentId(){return new Qm(Nr.keyField().canonicalString())}isEqual(n){return(n=(0,Qe.Ku)(n))instanceof cu&&this._delegate._internalPath.isEqual(n._internalPath)}}class nd{constructor(n){this._delegate=n}static serverTimestamp(){const n=function zv(){return new Rv("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new nd(n)}static delete(){const n=function jv(){return new Kc("deleteField")}();return n._methodName="FieldValue.delete",new nd(n)}static arrayUnion(...n){const i=function Hm(...u){return new Sp("arrayUnion",u)}(...n);return i._methodName="FieldValue.arrayUnion",new nd(i)}static arrayRemove(...n){const i=function cI(...u){return new Mm("arrayRemove",u)}(...n);return i._methodName="FieldValue.arrayRemove",new nd(i)}static increment(n){const i=function Hv(u){return new xm("increment",u)}(n);return i._methodName="FieldValue.increment",new nd(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Qv={Firestore:Zv,GeoPoint:Hd,Timestamp:kr,Blob:Qd,Transaction:qp,WriteBatch:Yd,DocumentReference:ka,DocumentSnapshot:ed,Query:Aa,QueryDocumentSnapshot:df,QuerySnapshot:Qp,CollectionReference:Jd,FieldPath:Qm,FieldValue:nd,setLogLevel:function Jc(u){!function $n(u){an.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function _I(u){(function Yv(u,n){u.INTERNAL.registerComponent(new Oe.uA("firestore-compat",i=>{const a=i.getProvider("app-compat").getImmediate(),c=i.getProvider("firestore").getImmediate();return n(a,c)},"PUBLIC").setServiceProps(Object.assign({},Qv)))})(u,(n,i)=>new Zv(n,i,new qv)),u.registerVersion("@firebase/firestore-compat","0.3.38")}(yt.A);var vI=k(762);function Jv(u,n){return function La(u,n=Me.E){return new We.c(i=>{let a;return null!=n?n.schedule(()=>{a=u.onSnapshot({includeMetadataChanges:!0},i)}):a=u.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(u,n)}function ey(u,n){return Jv(u,n).pipe((0,gt.T)(i=>({payload:i,type:"query"})))}class Yp{constructor(n,i){(0,h.A)(this,"ref",void 0),(0,h.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const a=this.ref.collection(n),{ref:c,query:m}=ay(a,i);return new iy(c,m,this.afs)}snapshotChanges(){return function yI(u,n){return Jv(u,n).pipe((0,me.Z)(void 0),Ze(),(0,gt.T)(i=>{const[a,c]=i;return c.exists?null!=a&&a.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(le.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,gt.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,Ke.H)(this.ref.get(n)).pipe(le.U0)}}function hf(u,n){return ey(u,n).pipe((0,me.Z)(void 0),Ze(),(0,gt.T)(i=>{const[a,c]=i,m=c.payload.docChanges(),E=m.map(M=>({type:M.type,payload:M}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((M,U)=>{const J=m.find(Pe=>Pe.doc.ref.isEqual(M.ref)),fe=null==a?void 0:a.payload.docs.find(Pe=>Pe.ref.isEqual(M.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(M.metadata)||!J&&fe&&JSON.stringify(fe.metadata)===JSON.stringify(M.metadata)||E.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:M}})}),E}))}function ty(u,n,i){return hf(u,i).pipe((0,vt.S)((a,c)=>function II(u,n,i){return n.forEach(a=>{i.indexOf(a.type)>-1&&(u=function ny(u,n){switch(n.type){case"added":if(!u[n.newIndex]||!u[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ym(u,n.newIndex,0,n);break;case"modified":if(null==u[n.oldIndex]||u[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=u.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return Ym(u,n.newIndex,1,n)}break;case"removed":if(u[n.oldIndex]&&u[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ym(u,n.oldIndex,1)}return u}(u,a))}),u}(a,c.map(m=>m.payload),n),[]),(0,ot.F)(),(0,gt.T)(a=>a.map(c=>({type:c.type,payload:c}))))}function Ym(u,n,i,...a){const c=u.slice();return c.splice(n,i,...a),c}function ry(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class iy{constructor(n,i,a){(0,h.A)(this,"ref",void 0),(0,h.A)(this,"query",void 0),(0,h.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=a}stateChanges(n){let i=hf(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,gt.T)(a=>a.filter(c=>n.indexOf(c.type)>-1)))),i.pipe((0,me.Z)(void 0),Ze(),(0,ft.p)(([a,c])=>c.length>0||!a),(0,gt.T)(([,a])=>a),le.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,vt.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=ry(n);return ty(this.query,i,this.afs.schedulers.outsideAngular).pipe(le.U0)}valueChanges(n={}){return ey(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.T)(i=>i.payload.docs.map(a=>n.idField?{...a.data(),[n.idField]:a.id}:a.data())),le.U0)}get(n){return(0,Ke.H)(this.query.get(n)).pipe(le.U0)}add(n){return this.ref.add(n)}doc(n){return new Yp(this.ref.doc(n),this.afs)}}class Jm{constructor(n,i){(0,h.A)(this,"query",void 0),(0,h.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?hf(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.T)(i=>i.filter(a=>n.indexOf(a.type)>-1)),(0,ft.p)(i=>i.length>0),le.U0):hf(this.query,this.afs.schedulers.outsideAngular).pipe(le.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,vt.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=ry(n);return ty(this.query,i,this.afs.schedulers.outsideAngular).pipe(le.U0)}valueChanges(n={}){return ey(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.T)(a=>a.payload.docs.map(c=>n.idField?{[n.idField]:c.id,...c.data()}:c.data())),le.U0)}get(n){return(0,Ke.H)(this.query.get(n)).pipe(le.U0)}}const oy=new Ee.nKC("angularfire2.enableFirestorePersistence"),sy=new Ee.nKC("angularfire2.firestore.persistenceSettings"),EI=new Ee.nKC("angularfire2.firestore.settings"),AI=new Ee.nKC("angularfire2.firestore.use-emulator");function ay(u,n=i=>i){return{query:n(u),ref:u}}let wl=(()=>{var u;class n{constructor(a,c,m,E,M,U,J,fe,Pe,nt,Qt,En,Vn,Rn,mr,Or,Ar){(0,h.A)(this,"schedulers",void 0),(0,h.A)(this,"firestore",void 0),(0,h.A)(this,"persistenceEnabled$",void 0),this.schedulers=J;const jr=(0,Se.iB)(a,U,c),Mi=Pe;nt&&(0,ce.gF)(jr,U,Qt,Vn,Rn,mr,En,Or),[this.firestore,this.persistenceEnabled$]=(0,Se.BM)(`${jr.name}.firestore`,"AngularFirestore",jr.name,()=>{const ti=U.runOutsideAngular(()=>jr.firestore());if(E&&ti.settings(E),Mi&&ti.useEmulator(...Mi),m&&!(0,p.Vy)(M)){const Nt=()=>{try{return(0,Ke.H)(ti.enablePersistence(fe||void 0).then(()=>!0,()=>!1))}catch(et){return typeof console<"u"&&console.warn(et),(0,be.of)(!1)}};return[ti,U.runOutsideAngular(Nt)]}return[ti,(0,be.of)(!1)]},[E,Mi,m])}collection(a,c){let m;m="string"==typeof a?this.firestore.collection(a):a;const{ref:E,query:M}=ay(m,c),U=this.schedulers.ngZone.run(()=>E);return new iy(U,M,this)}collectionGroup(a,c){const m=c||(M=>M),E=this.firestore.collectionGroup(a);return new Jm(m(E),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const m=this.schedulers.ngZone.run(()=>c);return new Yp(m,this)}createId(){return this.firestore.collection("_").doc().id}}return u=n,(0,h.A)(n,"\u0275fac",function(a){return new(a||u)(Ee.KVO(Se.rx),Ee.KVO(Se.uP,8),Ee.KVO(oy,8),Ee.KVO(EI,8),Ee.KVO(Ee.Agw),Ee.KVO(Ee.SKi),Ee.KVO(le.u0),Ee.KVO(sy,8),Ee.KVO(AI,8),Ee.KVO(ce.DS,8),Ee.KVO(ce.CP,8),Ee.KVO(ce.yy,8),Ee.KVO(ce.ZP,8),Ee.KVO(ce.$z,8),Ee.KVO(ce.AU,8),Ee.KVO(ce.UB,8),Ee.KVO(le.Jv,8))}),(0,h.A)(n,"\u0275prov",Ee.jDH({token:u,factory:u.\u0275fac,providedIn:"any"})),n})(),e_=(()=>{var u;class n{constructor(){vI.A.registerVersion("angularfire",le.xv.full,"fst-compat")}static enablePersistence(a){return{ngModule:n,providers:[{provide:oy,useValue:!0},{provide:sy,useValue:a}]}}}return u=n,(0,h.A)(n,"\u0275fac",function(a){return new(a||u)}),(0,h.A)(n,"\u0275mod",Ee.$C({type:u})),(0,h.A)(n,"\u0275inj",Ee.G2t({providers:[wl]})),n})()},9253:(Nn,wt,k)=>{"use strict";k.d(wt,{BM:()=>gt,Gt:()=>ce,bf:()=>Ze,e7:()=>Me,iB:()=>me,rx:()=>Ke,uP:()=>be});var h=k(9842),p=k(4438),Ee=k(574),le=k(762);const Se=["ngOnDestroy"],ce=(Dt,yt,Ae,Te={})=>new Proxy(Dt,{get:(Oe,at)=>Ae.runOutsideAngular(()=>{var Qe;if(Dt[at])return null!=Te&&null!==(Qe=Te.spy)&&void 0!==Qe&&Qe.get&&Te.spy.get(at,Dt[at]),Dt[at];if(Se.indexOf(at)>-1)return()=>{};const Mt=yt.toPromise().then(Gt=>{const Re=null==Gt?void 0:Gt[at];return"function"==typeof Re?Re.bind(Gt):null!=Re&&Re.then?Re.then(tn=>Ae.run(()=>tn)):Ae.run(()=>Re)});return new Proxy(()=>{},{get:(Gt,Re)=>Mt[Re],apply:(Gt,Re,tn)=>Mt.then(qt=>{var Cn;const jt=null==qt?void 0:qt(...tn);return null!=Te&&null!==(Cn=Te.spy)&&void 0!==Cn&&Cn.apply&&Te.spy.apply(at,tn,jt),jt})})})}),Me=(Dt,yt)=>{yt.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(Te=>{Object.defineProperty(Dt.prototype,Te,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,Te))})})};class We{constructor(yt){return yt}}const Ke=new p.nKC("angularfire2.app.options"),be=new p.nKC("angularfire2.app.name");function me(Dt,yt,Ae){const Oe="object"==typeof Ae&&Ae||{};Oe.name=Oe.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const Qe=le.A.apps.filter(Mt=>Mt&&Mt.name===Oe.name)[0]||yt.runOutsideAngular(()=>le.A.initializeApp(Dt,Oe));try{if(JSON.stringify(Dt)!==JSON.stringify(Qe.options)){const Mt=!!module.hot;Ge("error",`${Qe.name} Firebase App already initialized with different options${Mt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new We(Qe)}const Ge=(Dt,...yt)=>{(0,p.naY)()&&typeof console<"u"&&console[Dt](...yt)},je={provide:We,useFactory:me,deps:[Ke,p.SKi,[new p.Xx1,be]]};let Ze=(()=>{var Dt;class yt{static initializeApp(Te,Oe){return{ngModule:yt,providers:[{provide:Ke,useValue:Te},{provide:be,useValue:Oe}]}}constructor(Te){le.A.registerVersion("angularfire",Ee.xv.full,"core"),le.A.registerVersion("angularfire",Ee.xv.full,"app-compat"),le.A.registerVersion("angular",p.xvI.full,Te.toString())}}return Dt=yt,(0,h.A)(yt,"\u0275fac",function(Te){return new(Te||Dt)(p.KVO(p.Agw))}),(0,h.A)(yt,"\u0275mod",p.$C({type:Dt})),(0,h.A)(yt,"\u0275inj",p.G2t({providers:[je]})),yt})();function gt(Dt,yt,Ae,Te,Oe){const[,at,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Mt=>Mt[0]===Dt)||[];if(at)return function vt(Dt,yt){try{return Dt.toString()===yt.toString()}catch{return Dt===yt}}(Oe,Qe)||(ft("error",`${yt} was already initialized on the ${Ae} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:Oe,was:Qe})),at;{const Mt=Te();return globalThis.\u0275AngularfireInstanceCache.push([Dt,Mt,Oe]),Mt}}const ot=typeof module<"u"&&!!module.hot,ft=(Dt,...yt)=>{(0,p.naY)()&&typeof console<"u"&&console[Dt](...yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},574:(Nn,wt,k)=>{"use strict";k.d(wt,{xv:()=>vt,U0:()=>Cn,u0:()=>Qe,Jv:()=>yt});var h=k(9842),p=k(4438),Ee=k(2979);(0,Ee.registerVersion)("firebase","10.14.1","app");var ce=k(6780),We=k(9687);const be=new class Ke extends We.q{}(class Me extends ce.R{constructor(Ce,Ie){super(Ce,Ie),this.scheduler=Ce,this.work=Ie}schedule(Ce,Ie=0){return Ie>0?super.schedule(Ce,Ie):(this.delay=Ie,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,Ie){return Ie>0||this.closed?super.execute(Ce,Ie):this._execute(Ce,Ie)}requestAsyncId(Ce,Ie,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(Ce,Ie,te):(Ce.flush(this),0)}});var Ge=k(3236),je=k(8141),Ze=k(6745),gt=k(941);const vt=new p.RxE("ANGULARFIRE2_VERSION");class yt{constructor(){return(ye=>{const Ie=(0,Ee.getApps)(),te=[];return Ie.forEach(_e=>{_e.container.getProvider(ye).instances.forEach(He=>{te.includes(He)||te.push(He)})}),te})(Ae)}}const Ae="app-check";function Te(){}class Oe{constructor(Ce,Ie=be){(0,h.A)(this,"zone",void 0),(0,h.A)(this,"delegate",void 0),this.zone=Ce,this.delegate=Ie}now(){return this.delegate.now()}schedule(Ce,Ie,te){const _e=this.zone;return this.delegate.schedule(function(He){_e.runGuarded(()=>{Ce.apply(this,[He])})},Ie,te)}}class at{constructor(Ce){(0,h.A)(this,"zone",void 0),(0,h.A)(this,"task",null),this.zone=Ce}call(Ce,Ie){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Te,{},Te,Te)),Ie.pipe((0,je.M)({next:te,complete:te,error:te})).subscribe(Ce).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qe=(()=>{var ye;class Ce{constructor(te){(0,h.A)(this,"ngZone",void 0),(0,h.A)(this,"outsideAngular",void 0),(0,h.A)(this,"insideAngular",void 0),this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=te.run(()=>new Oe(Zone.current,Ge.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ye=Ce,(0,h.A)(Ce,"\u0275fac",function(te){return new(te||ye)(p.KVO(p.SKi))}),(0,h.A)(Ce,"\u0275prov",p.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),Ce})();function Cn(ye){return function jt(ye){return function(Ie){return(Ie=Ie.lift(new at(ye.ngZone))).pipe((0,Ze._)(ye.outsideAngular),(0,gt.Q)(ye.insideAngular))}}(function Mt(){const ye=globalThis.\u0275AngularFireScheduler;if(!ye)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ye}())(ye)}},9574:(Nn,wt,k)=>{"use strict";k.d(wt,{A:()=>gt});var h=k(1401),p=k(8779),Ee=k(2979),le=k(5398);class Se{constructor(ot,ft){this._delegate=ot,this.firebase=ft,(0,Ee._addComponent)(ot,new p.uA("app-compat",()=>this,"PUBLIC")),this.container=ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this._delegate.automaticDataCollectionEnabled=ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ot=>{this._delegate.checkDestroyed(),ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ee.deleteApp)(this._delegate)))}_getService(ot,ft=Ee._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(ot);return!yt.isInitialized()&&"EXPLICIT"===(null===(Dt=yt.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:ft})}_removeServiceInstance(ot,ft=Ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ot).clearInstance(ft)}_addComponent(ot){(0,Ee._addComponent)(this._delegate,ot)}_addOrOverwriteComponent(ot){(0,Ee._addOrOverwriteComponent)(this._delegate,ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new h.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),be=function Ke(){const vt=function We(vt){const ot={},ft={__esModule:!0,initializeApp:function Ae(Qe,Mt={}){const Gt=Ee.initializeApp(Qe,Mt);if((0,h.gR)(ot,Gt.name))return ot[Gt.name];const Re=new vt(Gt,ft);return ot[Gt.name]=Re,Re},app:yt,registerVersion:Ee.registerVersion,setLogLevel:Ee.setLogLevel,onLog:Ee.onLog,apps:null,SDK_VERSION:Ee.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Qe){const Mt=Qe.name,Gt=Mt.replace("-compat","");if(Ee._registerComponent(Qe)&&"PUBLIC"===Qe.type){const Re=(tn=yt())=>{if("function"!=typeof tn[Gt])throw Me.create("invalid-app-argument",{appName:Mt});return tn[Gt]()};void 0!==Qe.serviceProps&&(0,h.zw)(Re,Qe.serviceProps),ft[Gt]=Re,vt.prototype[Gt]=function(...tn){return this._getService.bind(this,Mt).apply(this,Qe.multipleInstances?tn:[])}}return"PUBLIC"===Qe.type?ft[Gt]:null},removeApp:function Dt(Qe){delete ot[Qe]},useAsService:function at(Qe,Mt){return"serverAuth"===Mt?null:Mt},modularAPIs:Ee}};function yt(Qe){if(!(0,h.gR)(ot,Qe=Qe||Ee._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:Qe});return ot[Qe]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function Te(){return Object.keys(ot).map(Qe=>ot[Qe])}}),yt.App=vt,ft}(Se);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function ot(ft){(0,h.zw)(vt,ft)},createSubscribe:h.tD,ErrorFactory:h.FA,deepExtend:h.zw}),vt}(),me=new le.Vy("@firebase/app-compat");try{const vt=(0,h.mS)();if(void 0!==vt.firebase){me.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const ot=vt.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&me.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const gt=be;!function Ze(vt){(0,Ee.registerVersion)("@firebase/app-compat","0.2.43",vt)}()},2979:(Nn,wt,k)=>{"use strict";k.r(wt),k.d(wt,{FirebaseError:()=>le.g,SDK_VERSION:()=>In,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>br,_addOrOverwriteComponent:()=>Wr,_apps:()=>Tr,_clearComponents:()=>Mn,_components:()=>Cr,_getProvider:()=>Ln,_isFirebaseApp:()=>pr,_isFirebaseServerApp:()=>kr,_registerComponent:()=>Ei,_removeServiceInstance:()=>vi,_serverApps:()=>Ir,deleteApp:()=>dt,getApp:()=>Xt,getApps:()=>ct,initializeApp:()=>Wt,initializeServerApp:()=>_t,onLog:()=>xe,registerVersion:()=>De,setLogLevel:()=>tt});var h=k(467),p=k(8779),Ee=k(5398),le=k(1401);const Se=(zt,ht)=>ht.some(on=>zt instanceof on);let ce,Me;const be=new WeakMap,me=new WeakMap,Ge=new WeakMap,je=new WeakMap,Ze=new WeakMap;let ot={get(zt,ht,on){if(zt instanceof IDBTransaction){if("done"===ht)return me.get(zt);if("objectStoreNames"===ht)return zt.objectStoreNames||Ge.get(zt);if("store"===ht)return on.objectStoreNames[1]?void 0:on.objectStore(on.objectStoreNames[0])}return Ae(zt[ht])},set:(zt,ht,on)=>(zt[ht]=on,!0),has:(zt,ht)=>zt instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in zt};function yt(zt){return"function"==typeof zt?function Dt(zt){return zt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(zt)?function(...ht){return zt.apply(Te(this),ht),Ae(be.get(this))}:function(...ht){return Ae(zt.apply(Te(this),ht))}:function(ht,...on){const xn=zt.call(Te(this),ht,...on);return Ge.set(xn,ht.sort?ht.sort():[ht]),Ae(xn)}}(zt):(zt instanceof IDBTransaction&&function vt(zt){if(me.has(zt))return;const ht=new Promise((on,xn)=>{const bt=()=>{zt.removeEventListener("complete",Zt),zt.removeEventListener("error",Sn),zt.removeEventListener("abort",Sn)},Zt=()=>{on(),bt()},Sn=()=>{xn(zt.error||new DOMException("AbortError","AbortError")),bt()};zt.addEventListener("complete",Zt),zt.addEventListener("error",Sn),zt.addEventListener("abort",Sn)});me.set(zt,ht)}(zt),Se(zt,function We(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(zt,ot):zt)}function Ae(zt){if(zt instanceof IDBRequest)return function gt(zt){const ht=new Promise((on,xn)=>{const bt=()=>{zt.removeEventListener("success",Zt),zt.removeEventListener("error",Sn)},Zt=()=>{on(Ae(zt.result)),bt()},Sn=()=>{xn(zt.error),bt()};zt.addEventListener("success",Zt),zt.addEventListener("error",Sn)});return ht.then(on=>{on instanceof IDBCursor&&be.set(on,zt)}).catch(()=>{}),Ze.set(ht,zt),ht}(zt);if(je.has(zt))return je.get(zt);const ht=yt(zt);return ht!==zt&&(je.set(zt,ht),Ze.set(ht,zt)),ht}const Te=zt=>Ze.get(zt),Qe=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Gt=new Map;function Re(zt,ht){if(!(zt instanceof IDBDatabase)||ht in zt||"string"!=typeof ht)return;if(Gt.get(ht))return Gt.get(ht);const on=ht.replace(/FromIndex$/,""),xn=ht!==on,bt=Mt.includes(on);if(!(on in(xn?IDBIndex:IDBObjectStore).prototype)||!bt&&!Qe.includes(on))return;const Zt=function(){var Sn=(0,h.A)(function*(ur,...cr){const ar=this.transaction(ur,bt?"readwrite":"readonly");let Qn=ar.store;return xn&&(Qn=Qn.index(cr.shift())),(yield Promise.all([Qn[on](...cr),bt&&ar.done]))[0]});return function(cr){return Sn.apply(this,arguments)}}();return Gt.set(ht,Zt),Zt}!function ft(zt){ot=zt(ot)}(zt=>({...zt,get:(ht,on,xn)=>Re(ht,on)||zt.get(ht,on,xn),has:(ht,on)=>!!Re(ht,on)||zt.has(ht,on)}));class tn{constructor(ht){this.container=ht}getPlatformInfoString(){return this.container.getProviders().map(on=>{if(function qt(zt){const ht=zt.getComponent();return"VERSION"===(null==ht?void 0:ht.type)}(on)){const xn=on.getImmediate();return`${xn.library}/${xn.version}`}return null}).filter(on=>on).join(" ")}}const Cn="@firebase/app",jt="0.10.13",qn=new Ee.Vy("@firebase/app"),At="@firebase/app-compat",ye="@firebase/analytics-compat",Ce="@firebase/analytics",Ie="@firebase/app-check-compat",te="@firebase/app-check",_e="@firebase/auth",Le="@firebase/auth-compat",He="@firebase/database",$e="@firebase/data-connect",rt="@firebase/database-compat",an="@firebase/functions",Kt="@firebase/functions-compat",$n="@firebase/installations",ut="@firebase/installations-compat",Ct="@firebase/messaging",Gn="@firebase/messaging-compat",ir="@firebase/performance",Jt="@firebase/performance-compat",ln="@firebase/remote-config",sr="@firebase/remote-config-compat",cn="@firebase/storage",Ne="@firebase/storage-compat",Fe="@firebase/firestore",Bt="@firebase/vertexai-preview",St="@firebase/firestore-compat",rr="firebase",zn="[DEFAULT]",Pn={[Cn]:"fire-core",[At]:"fire-core-compat",[Ce]:"fire-analytics",[ye]:"fire-analytics-compat",[te]:"fire-app-check",[Ie]:"fire-app-check-compat",[_e]:"fire-auth",[Le]:"fire-auth-compat",[He]:"fire-rtdb",[$e]:"fire-data-connect",[rt]:"fire-rtdb-compat",[an]:"fire-fn",[Kt]:"fire-fn-compat",[$n]:"fire-iid",[ut]:"fire-iid-compat",[Ct]:"fire-fcm",[Gn]:"fire-fcm-compat",[ir]:"fire-perf",[Jt]:"fire-perf-compat",[ln]:"fire-rc",[sr]:"fire-rc-compat",[cn]:"fire-gcs",[Ne]:"fire-gcs-compat",[Fe]:"fire-fst",[St]:"fire-fst-compat",[Bt]:"fire-vertex","fire-js":"fire-js",[rr]:"fire-js-all"},Tr=new Map,Ir=new Map,Cr=new Map;function br(zt,ht){try{zt.container.addComponent(ht)}catch(on){qn.debug(`Component ${ht.name} failed to register with FirebaseApp ${zt.name}`,on)}}function Wr(zt,ht){zt.container.addOrOverwriteComponent(ht)}function Ei(zt){const ht=zt.name;if(Cr.has(ht))return qn.debug(`There were multiple attempts to register component ${ht}.`),!1;Cr.set(ht,zt);for(const on of Tr.values())br(on,zt);for(const on of Ir.values())br(on,zt);return!0}function Ln(zt,ht){const on=zt.container.getProvider("heartbeat").getImmediate({optional:!0});return on&&on.triggerHeartbeat(),zt.container.getProvider(ht)}function vi(zt,ht,on=zn){Ln(zt,ht).clearInstance(on)}function pr(zt){return void 0!==zt.options}function kr(zt){return void 0!==zt.settings}function Mn(){Cr.clear()}const or=new le.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class xr{constructor(ht,on,xn){this._isDeleted=!1,this._options=Object.assign({},ht),this._config=Object.assign({},on),this._name=on.name,this._automaticDataCollectionEnabled=on.automaticDataCollectionEnabled,this._container=xn,this.container.addComponent(new p.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ht){this._isDeleted=ht}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}class Nr extends xr{constructor(ht,on,xn,bt){const Zt=void 0!==on.automaticDataCollectionEnabled&&on.automaticDataCollectionEnabled,Sn={name:xn,automaticDataCollectionEnabled:Zt};super(void 0!==ht.apiKey?ht:ht.options,Sn,bt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Zt},on),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,on.releaseOnDeref=void 0,De(Cn,jt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ht){this.isDeleted||(this._refCount++,void 0!==ht&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ht,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){dt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw or.create("server-app-deleted")}}const In="10.14.1";function Wt(zt,ht={}){let on=zt;"object"!=typeof ht&&(ht={name:ht});const xn=Object.assign({name:zn,automaticDataCollectionEnabled:!1},ht),bt=xn.name;if("string"!=typeof bt||!bt)throw or.create("bad-app-name",{appName:String(bt)});if(on||(on=(0,le.T9)()),!on)throw or.create("no-options");const Zt=Tr.get(bt);if(Zt){if((0,le.bD)(on,Zt.options)&&(0,le.bD)(xn,Zt.config))return Zt;throw or.create("duplicate-app",{appName:bt})}const Sn=new p.h1(bt);for(const cr of Cr.values())Sn.addComponent(cr);const ur=new xr(on,xn,Sn);return Tr.set(bt,ur),ur}function _t(zt,ht){if((0,le.Bd)()&&!(0,le.p7)())throw or.create("invalid-server-app-environment");let on;void 0===ht.automaticDataCollectionEnabled&&(ht.automaticDataCollectionEnabled=!1),on=pr(zt)?zt.options:zt;const xn=Object.assign(Object.assign({},ht),on);if(void 0!==xn.releaseOnDeref&&delete xn.releaseOnDeref,void 0!==ht.releaseOnDeref&&typeof FinalizationRegistry>"u")throw or.create("finalization-registry-not-supported",{});const Zt=""+(ar=JSON.stringify(xn),[...ar].reduce((Qn,Er)=>Math.imul(31,Qn)+Er.charCodeAt(0)|0,0)),Sn=Ir.get(Zt);var ar;if(Sn)return Sn.incRefCount(ht.releaseOnDeref),Sn;const ur=new p.h1(Zt);for(const ar of Cr.values())ur.addComponent(ar);const cr=new Nr(on,ht,Zt,ur);return Ir.set(Zt,cr),cr}function Xt(zt=zn){const ht=Tr.get(zt);if(!ht&&zt===zn&&(0,le.T9)())return Wt();if(!ht)throw or.create("no-app",{appName:zt});return ht}function ct(){return Array.from(Tr.values())}function dt(zt){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.A)(function*(zt){let ht=!1;const on=zt.name;Tr.has(on)?(ht=!0,Tr.delete(on)):Ir.has(on)&&zt.decRefCount()<=0&&(Ir.delete(on),ht=!0),ht&&(yield Promise.all(zt.container.getProviders().map(xn=>xn.delete())),zt.isDeleted=!0)})).apply(this,arguments)}function De(zt,ht,on){var xn;let bt=null!==(xn=Pn[zt])&&void 0!==xn?xn:zt;on&&(bt+=`-${on}`);const Zt=bt.match(/\s|\//),Sn=ht.match(/\s|\//);if(Zt||Sn){const ur=[`Unable to register library "${bt}" with version "${ht}":`];return Zt&&ur.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),Zt&&Sn&&ur.push("and"),Sn&&ur.push(`version name "${ht}" contains illegal characters (whitespace or "/")`),void qn.warn(ur.join(" "))}Ei(new p.uA(`${bt}-version`,()=>({library:bt,version:ht}),"VERSION"))}function xe(zt,ht){if(null!==zt&&"function"!=typeof zt)throw or.create("invalid-log-argument");(0,Ee.Ey)(zt,ht)}function tt(zt){(0,Ee.He)(zt)}const kt="firebase-heartbeat-database",qe=1,Dn="firebase-heartbeat-store";let Bn=null;function Br(){return Bn||(Bn=function Oe(zt,ht,{blocked:on,upgrade:xn,blocking:bt,terminated:Zt}={}){const Sn=indexedDB.open(zt,ht),ur=Ae(Sn);return xn&&Sn.addEventListener("upgradeneeded",cr=>{xn(Ae(Sn.result),cr.oldVersion,cr.newVersion,Ae(Sn.transaction),cr)}),on&&Sn.addEventListener("blocked",cr=>on(cr.oldVersion,cr.newVersion,cr)),ur.then(cr=>{Zt&&cr.addEventListener("close",()=>Zt()),bt&&cr.addEventListener("versionchange",ar=>bt(ar.oldVersion,ar.newVersion,ar))}).catch(()=>{}),ur}(kt,qe,{upgrade:(zt,ht)=>{if(0===ht)try{zt.createObjectStore(Dn)}catch(on){console.warn(on)}}}).catch(zt=>{throw or.create("idb-open",{originalErrorMessage:zt.message})})),Bn}function lt(){return(lt=(0,h.A)(function*(zt){try{const on=(yield Br()).transaction(Dn),xn=yield on.objectStore(Dn).get(pi(zt));return yield on.done,xn}catch(ht){if(ht instanceof le.g)qn.warn(ht.message);else{const on=or.create("idb-get",{originalErrorMessage:null==ht?void 0:ht.message});qn.warn(on.message)}}})).apply(this,arguments)}function zr(zt,ht){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.A)(function*(zt,ht){try{const xn=(yield Br()).transaction(Dn,"readwrite");yield xn.objectStore(Dn).put(ht,pi(zt)),yield xn.done}catch(on){if(on instanceof le.g)qn.warn(on.message);else{const xn=or.create("idb-set",{originalErrorMessage:null==on?void 0:on.message});qn.warn(xn.message)}}})).apply(this,arguments)}function pi(zt){return`${zt.name}!${zt.options.appId}`}class Wi{constructor(ht){this.container=ht,this._heartbeatsCache=null;const on=this.container.getProvider("app").getImmediate();this._storage=new Fo(on),this._heartbeatsCachePromise=this._storage.read().then(xn=>(this._heartbeatsCache=xn,xn))}triggerHeartbeat(){var ht=this;return(0,h.A)(function*(){var on,xn;try{const Zt=ht.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=ho();return null==(null===(on=ht._heartbeatsCache)||void 0===on?void 0:on.heartbeats)&&(ht._heartbeatsCache=yield ht._heartbeatsCachePromise,null==(null===(xn=ht._heartbeatsCache)||void 0===xn?void 0:xn.heartbeats))||ht._heartbeatsCache.lastSentHeartbeatDate===Sn||ht._heartbeatsCache.heartbeats.some(ur=>ur.date===Sn)?void 0:(ht._heartbeatsCache.heartbeats.push({date:Sn,agent:Zt}),ht._heartbeatsCache.heartbeats=ht._heartbeatsCache.heartbeats.filter(ur=>{const cr=new Date(ur.date).valueOf();return Date.now()-cr<=2592e6}),ht._storage.overwrite(ht._heartbeatsCache))}catch(bt){qn.warn(bt)}})()}getHeartbeatsHeader(){var ht=this;return(0,h.A)(function*(){var on;try{if(null===ht._heartbeatsCache&&(yield ht._heartbeatsCachePromise),null==(null===(on=ht._heartbeatsCache)||void 0===on?void 0:on.heartbeats)||0===ht._heartbeatsCache.heartbeats.length)return"";const xn=ho(),{heartbeatsToSend:bt,unsentEntries:Zt}=function Bi(zt,ht=1024){const on=[];let xn=zt.slice();for(const bt of zt){const Zt=on.find(Sn=>Sn.agent===bt.agent);if(Zt){if(Zt.dates.push(bt.date),Ki(on)>ht){Zt.dates.pop();break}}else if(on.push({agent:bt.agent,dates:[bt.date]}),Ki(on)>ht){on.pop();break}xn=xn.slice(1)}return{heartbeatsToSend:on,unsentEntries:xn}}(ht._heartbeatsCache.heartbeats),Sn=(0,le.Uj)(JSON.stringify({version:2,heartbeats:bt}));return ht._heartbeatsCache.lastSentHeartbeatDate=xn,Zt.length>0?(ht._heartbeatsCache.heartbeats=Zt,yield ht._storage.overwrite(ht._heartbeatsCache)):(ht._heartbeatsCache.heartbeats=[],ht._storage.overwrite(ht._heartbeatsCache)),Sn}catch(xn){return qn.warn(xn),""}})()}}function ho(){return(new Date).toISOString().substring(0,10)}class Fo{constructor(ht){this.app=ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.A)(function*(){return!!(0,le.zW)()&&(0,le.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ht=this;return(0,h.A)(function*(){if(yield ht._canUseIndexedDBPromise){const xn=yield function fi(zt){return lt.apply(this,arguments)}(ht.app);return null!=xn&&xn.heartbeats?xn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ht){var on=this;return(0,h.A)(function*(){var xn;if(yield on._canUseIndexedDBPromise){const Zt=yield on.read();return zr(on.app,{lastSentHeartbeatDate:null!==(xn=ht.lastSentHeartbeatDate)&&void 0!==xn?xn:Zt.lastSentHeartbeatDate,heartbeats:ht.heartbeats})}})()}add(ht){var on=this;return(0,h.A)(function*(){var xn;if(yield on._canUseIndexedDBPromise){const Zt=yield on.read();return zr(on.app,{lastSentHeartbeatDate:null!==(xn=ht.lastSentHeartbeatDate)&&void 0!==xn?xn:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...ht.heartbeats]})}})()}}function Ki(zt){return(0,le.Uj)(JSON.stringify({version:2,heartbeats:zt})).length}!function Vr(zt){Ei(new p.uA("platform-logger",ht=>new tn(ht),"PRIVATE")),Ei(new p.uA("heartbeat",ht=>new Wi(ht),"PRIVATE")),De(Cn,jt,zt),De(Cn,jt,"esm2017"),De("fire-js","")}("")},8779:(Nn,wt,k)=>{"use strict";k.d(wt,{h1:()=>We,uA:()=>Ee});var h=k(467),p=k(1401);class Ee{constructor(be,me,Ge){this.name=be,this.instanceFactory=me,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const le="[DEFAULT]";class Se{constructor(be,me){this.name=be,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const me=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(me)){const Ge=new p.cY;if(this.instancesDeferred.set(me,Ge),this.isInitialized(me)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:me});je&&Ge.resolve(je)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(be){var me;const Ge=this.normalizeInstanceIdentifier(null==be?void 0:be.identifier),je=null!==(me=null==be?void 0:be.optional)&&void 0!==me&&me;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(Ze){if(je)return null;throw Ze}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function Me(Ke){return"EAGER"===Ke.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[me,Ge]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(me);try{const Ze=this.getOrInitializeService({instanceIdentifier:je});Ge.resolve(Ze)}catch{}}}}clearInstance(be=le){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,h.A)(function*(){const me=Array.from(be.instances.values());yield Promise.all([...me.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...me.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=le){return this.instances.has(be)}getOptions(be=le){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:me={}}=be,Ge=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Ge,options:me});for(const[Ze,gt]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(Ze)&&gt.resolve(je);return je}onInit(be,me){var Ge;const je=this.normalizeInstanceIdentifier(me),Ze=null!==(Ge=this.onInitCallbacks.get(je))&&void 0!==Ge?Ge:new Set;Ze.add(be),this.onInitCallbacks.set(je,Ze);const gt=this.instances.get(je);return gt&&be(gt,je),()=>{Ze.delete(be)}}invokeOnInitCallbacks(be,me){const Ge=this.onInitCallbacks.get(me);if(Ge)for(const je of Ge)try{je(be,me)}catch{}}getOrInitializeService({instanceIdentifier:be,options:me={}}){let Ge=this.instances.get(be);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=be,Ke===le?void 0:Ke),options:me}),this.instances.set(be,Ge),this.instancesOptions.set(be,me),this.invokeOnInitCallbacks(Ge,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,Ge)}catch{}var Ke;return Ge||null}normalizeInstanceIdentifier(be=le){return this.component?this.component.multipleInstances?be:le:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const me=this.getProvider(be.name);if(me.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);me.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const me=new Se(be,this);return this.providers.set(be,me),me}getProviders(){return Array.from(this.providers.values())}}},5398:(Nn,wt,k)=>{"use strict";k.d(wt,{$b:()=>p,Ey:()=>Ke,He:()=>We,Vy:()=>Me});const h=[];var p=function(be){return be[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",be}(p||{});const Ee={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},le=p.INFO,Se={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},ce=(be,me,...Ge)=>{if(me<be.logLevel)return;const je=(new Date).toISOString(),Ze=Se[me];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ze](`[${je}]  ${be.name}:`,...Ge)};class Me{constructor(me){this.name=me,this._logLevel=le,this._logHandler=ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in p))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?Ee[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...me),this._logHandler(this,p.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...me),this._logHandler(this,p.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,p.INFO,...me),this._logHandler(this,p.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,p.WARN,...me),this._logHandler(this,p.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...me),this._logHandler(this,p.ERROR,...me)}}function We(be){h.forEach(me=>{me.setLogLevel(be)})}function Ke(be,me){for(const Ge of h){let je=null;me&&me.level&&(je=Ee[me.level]),Ge.userLogHandler=null===be?null:(Ze,gt,...vt)=>{const ot=vt.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch{return null}}).filter(ft=>ft).join(" ");gt>=(null!=je?je:Ze.logLevel)&&be({level:p[gt].toLowerCase(),message:ot,args:vt,type:Ze.name})}}}},762:(Nn,wt,k)=>{"use strict";k.d(wt,{A:()=>h.A});var h=k(9574);h.A.registerVersion("firebase","10.14.1","app-compat")},324:(Nn,wt,k)=>{"use strict";var h=k(467),p=k(9574),Ee=k(2979),le=k(1401),Se=k(5398),ce=k(1635),Me=k(8779);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const gt=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},vt=function Ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new le.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dt=new Se.Vy("@firebase/auth");function Ae(T,...g){Dt.logLevel<=Se.$b.ERROR&&Dt.error(`Auth (${Ee.SDK_VERSION}): ${T}`,...g)}function Te(T,...g){throw Gt(T,...g)}function Oe(T,...g){return Gt(T,...g)}function at(T,g,_){const D=Object.assign(Object.assign({},vt()),{[g]:_});return new le.FA("auth","Firebase",D).create(g,{appName:T.name})}function Qe(T){return at(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mt(T,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Te(T,"argument-error"),at(T,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gt(T,...g){if("string"!=typeof T){const _=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=T.name),T._errorFactory.create(_,...D)}return ot.create(T,...g)}function Re(T,g,..._){if(!T)throw Gt(g,..._)}function tn(T){const g="INTERNAL ASSERTION FAILED: "+T;throw Ae(g),new Error(g)}function qt(T,g){T||tn(g)}function Cn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function jt(){return"http:"===qn()||"https:"===qn()}function qn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Ce{constructor(g,_){this.shortDelay=g,this.longDelay=_,qt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,le.jZ)()||(0,le.lV)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,le.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(T,g){qt(T.emulator,"Emulator should always be set here");const{url:_}=T.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class te{static initialize(g,_,D){this.fetchImpl=g,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Le=new Ce(3e4,6e4);function He(T,g){return T.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:T.tenantId}):g}function $e(T,g,_,D){return rt.apply(this,arguments)}function rt(){return(rt=(0,h.A)(function*(T,g,_,D,q={}){return an(T,q,(0,h.A)(function*(){let ue={},Je={};D&&("GET"===g?Je=D:ue={body:JSON.stringify(D)});const Lt=(0,le.Am)(Object.assign({key:T.config.apiKey},Je)).slice(1),gn=yield T._getAdditionalHeaders();gn["Content-Type"]="application/json",T.languageCode&&(gn["X-Firebase-Locale"]=T.languageCode);const Wn=Object.assign({method:g,headers:gn},ue);return(0,le.c1)()||(Wn.referrerPolicy="no-referrer"),te.fetch()(Ct(T,T.config.apiHost,_,Lt),Wn)}))})).apply(this,arguments)}function an(T,g,_){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,h.A)(function*(T,g,_){T._canInitEmulator=!1;const D=Object.assign(Object.assign({},_e),g);try{const q=new ir(T),ue=yield Promise.race([_(),q.promise]);q.clearNetworkTimeout();const Je=yield ue.json();if("needConfirmation"in Je)throw Jt(T,"account-exists-with-different-credential",Je);if(ue.ok&&!("errorMessage"in Je))return Je;{const Lt=ue.ok?Je.errorMessage:Je.error.message,[gn,Wn]=Lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gn)throw Jt(T,"credential-already-in-use",Je);if("EMAIL_EXISTS"===gn)throw Jt(T,"email-already-in-use",Je);if("USER_DISABLED"===gn)throw Jt(T,"user-disabled",Je);const fr=D[gn]||gn.toLowerCase().replace(/[_\s]+/g,"-");if(Wn)throw at(T,fr,Wn);Te(T,fr)}}catch(q){if(q instanceof le.g)throw q;Te(T,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function $n(T,g,_,D){return ut.apply(this,arguments)}function ut(){return(ut=(0,h.A)(function*(T,g,_,D,q={}){const ue=yield $e(T,g,_,D,q);return"mfaPendingCredential"in ue&&Te(T,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Ct(T,g,_,D){const q=`${g}${_}?${D}`;return T.config.emulator?Ie(T.config,q):`${T.config.apiScheme}://${q}`}function Gn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ir{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Oe(this.auth,"network-request-failed")),Le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jt(T,g,_){const D={appName:T.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const q=Oe(T,g,D);return q.customData._tokenResponse=_,q}function ln(T){return void 0!==T&&void 0!==T.getResponse}function sr(T){return void 0!==T&&void 0!==T.enterprise}class cn{constructor(g){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=g.recaptchaEnforcementState}getProviderEnforcementState(g){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===g)return Gn(_.enforcementState);return null}isProviderEnabled(g){return"ENFORCE"===this.getProviderEnforcementState(g)||"AUDIT"===this.getProviderEnforcementState(g)}}function Fe(){return(Fe=(0,h.A)(function*(T){return(yield $e(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bt(T,g){return St.apply(this,arguments)}function St(){return(St=(0,h.A)(function*(T,g){return $e(T,"GET","/v2/recaptchaConfig",He(T,g))})).apply(this,arguments)}function dr(){return(dr=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Pn(){return(Pn=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tr(T,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Cr(T){if(T)try{const g=new Date(Number(T));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Ei(){return(Ei=(0,h.A)(function*(T,g=!1){const _=(0,le.Ku)(T),D=yield _.getIdToken(g),q=vi(D);Re(q&&q.exp&&q.auth_time&&q.iat,_.auth,"internal-error");const ue="object"==typeof q.firebase?q.firebase:void 0,Je=null==ue?void 0:ue.sign_in_provider;return{claims:q,token:D,authTime:Cr(Ln(q.auth_time)),issuedAtTime:Cr(Ln(q.iat)),expirationTime:Cr(Ln(q.exp)),signInProvider:Je||null,signInSecondFactor:(null==ue?void 0:ue.sign_in_second_factor)||null}})).apply(this,arguments)}function Ln(T){return 1e3*Number(T)}function vi(T){const[g,_,D]=T.split(".");if(void 0===g||void 0===_||void 0===D)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,le.u)(_);return q?JSON.parse(q):(Ae("Failed to decode base64 JWT payload"),null)}catch(q){return Ae("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function pr(T){const g=vi(T);return Re(g,"internal-error"),Re(typeof g.exp<"u","internal-error"),Re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}function kr(T,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,h.A)(function*(T,g,_=!1){if(_)return g;try{return yield g}catch(D){throw D instanceof le.g&&function Fi({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(D)&&T.auth.currentUser===T&&(yield T.auth.signOut()),D}})).apply(this,arguments)}class or{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,h.A)(function*(){yield _.iteration()}),D)}iteration(){var g=this;return(0,h.A)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class xr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cr(this.lastLoginAt),this.creationTime=Cr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nr(T){return In.apply(this,arguments)}function In(){return(In=(0,h.A)(function*(T){var g;const _=T.auth,D=yield T.getIdToken(),q=yield kr(T,Tr(_,{idToken:D}));Re(null==q?void 0:q.users.length,_,"internal-error");const ue=q.users[0];T._notifyReloadListener(ue);const Je=null!==(g=ue.providerUserInfo)&&void 0!==g&&g.length?ct(ue.providerUserInfo):[],Lt=function Xt(T,g){return[...T.filter(D=>!g.some(q=>q.providerId===D.providerId)),...g]}(T.providerData,Je),fr=!!T.isAnonymous&&!(T.email&&ue.passwordHash||null!=Lt&&Lt.length),lr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:Lt,metadata:new xr(ue.createdAt,ue.lastLoginAt),isAnonymous:fr};Object.assign(T,lr)})).apply(this,arguments)}function _t(){return(_t=(0,h.A)(function*(T){const g=(0,le.Ku)(T);yield Nr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ct(T){return T.map(g=>{var{providerId:_}=g,D=(0,ce.Tt)(g,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function vn(){return(vn=(0,h.A)(function*(T,g){const _=yield an(T,{},(0,h.A)(function*(){const D=(0,le.Am)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:q,apiKey:ue}=T.config,Je=Ct(T,q,"/v1/token",`key=${ue}`),Lt=yield T._getAdditionalHeaders();return Lt["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(Je,{method:"POST",headers:Lt,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function xe(){return(xe=(0,h.A)(function*(T,g){return $e(T,"POST","/v2/accounts:revokeToken",He(T,g))})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Re(g.idToken,"internal-error"),Re(typeof g.idToken<"u","internal-error"),Re(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):pr(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}updateFromIdToken(g){Re(0!==g.length,"internal-error");const _=pr(g);this.updateTokensAndExpiration(g,null,_)}getToken(g,_=!1){var D=this;return(0,h.A)(function*(){return _||!D.accessToken||D.isExpired?(Re(D.refreshToken,g,"user-token-expired"),D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null):D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var D=this;return(0,h.A)(function*(){const{accessToken:q,refreshToken:ue,expiresIn:Je}=yield function dt(T,g){return vn.apply(this,arguments)}(g,_);D.updateTokensAndExpiration(q,ue,Number(Je))})()}updateTokensAndExpiration(g,_,D){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,_){const{refreshToken:D,accessToken:q,expirationTime:ue}=_,Je=new tt;return D&&(Re("string"==typeof D,"internal-error",{appName:g}),Je.refreshToken=D),q&&(Re("string"==typeof q,"internal-error",{appName:g}),Je.accessToken=q),ue&&(Re("number"==typeof ue,"internal-error",{appName:g}),Je.expirationTime=ue),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return tn("not implemented")}}function kt(T,g){Re("string"==typeof T||typeof T>"u","internal-error",{appName:g})}class qe{constructor(g){var{uid:_,auth:D,stsTokenManager:q}=g,ue=(0,ce.Tt)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new xr(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,h.A)(function*(){const D=yield kr(_,_.stsTokenManager.getToken(_.auth,g));return Re(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(g){return function Wr(T){return Ei.apply(this,arguments)}(this,g)}reload(){return function Wt(T){return _t.apply(this,arguments)}(this)}_assign(g){this!==g&&(Re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new qe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var D=this;return(0,h.A)(function*(){let q=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),q=!0),_&&(yield Nr(D)),yield D.auth._persistUserIfCurrent(D),q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,h.A)(function*(){if((0,Ee._isFirebaseServerApp)(g.auth.app))return Promise.reject(Qe(g.auth));const _=yield g.getIdToken();return yield kr(g,function rr(T,g){return dr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var D,q,ue,Je,Lt,gn,Wn,fr;const lr=null!==(D=_.displayName)&&void 0!==D?D:void 0,Oo=null!==(q=_.email)&&void 0!==q?q:void 0,Ga=null!==(ue=_.phoneNumber)&&void 0!==ue?ue:void 0,Lu=null!==(Je=_.photoURL)&&void 0!==Je?Je:void 0,xd=null!==(Lt=_.tenantId)&&void 0!==Lt?Lt:void 0,Ea=null!==(gn=_._redirectEventId)&&void 0!==gn?gn:void 0,Nd=null!==(Wn=_.createdAt)&&void 0!==Wn?Wn:void 0,Uc=null!==(fr=_.lastLoginAt)&&void 0!==fr?fr:void 0,{uid:op,emailVerified:em,isAnonymous:Gh,providerData:Od,stsTokenManager:sp}=_;Re(op&&sp,g,"internal-error");const Wh=tt.fromJSON(this.name,sp);Re("string"==typeof op,g,"internal-error"),kt(lr,g.name),kt(Oo,g.name),Re("boolean"==typeof em,g,"internal-error"),Re("boolean"==typeof Gh,g,"internal-error"),kt(Ga,g.name),kt(Lu,g.name),kt(xd,g.name),kt(Ea,g.name),kt(Nd,g.name),kt(Uc,g.name);const $l=new qe({uid:op,auth:g,email:Oo,emailVerified:em,displayName:lr,isAnonymous:Gh,photoURL:Lu,phoneNumber:Ga,tenantId:xd,stsTokenManager:Wh,createdAt:Nd,lastLoginAt:Uc});return Od&&Array.isArray(Od)&&($l.providerData=Od.map(Fu=>Object.assign({},Fu))),Ea&&($l._redirectEventId=Ea),$l}static _fromIdTokenResponse(g,_,D=!1){return(0,h.A)(function*(){const q=new tt;q.updateFromServerResponse(_);const ue=new qe({uid:_.localId,auth:g,stsTokenManager:q,isAnonymous:D});return yield Nr(ue),ue})()}static _fromGetAccountInfoResponse(g,_,D){return(0,h.A)(function*(){const q=_.users[0];Re(void 0!==q.localId,"internal-error");const ue=void 0!==q.providerUserInfo?ct(q.providerUserInfo):[],Je=!(q.email&&q.passwordHash||null!=ue&&ue.length),Lt=new tt;Lt.updateFromIdToken(D);const gn=new qe({uid:q.localId,auth:g,stsTokenManager:Lt,isAnonymous:Je}),Wn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:ue,metadata:new xr(q.createdAt,q.lastLoginAt),isAnonymous:!(q.email&&q.passwordHash||null!=ue&&ue.length)};return Object.assign(gn,Wn),gn})()}}const Dn=new Map;function Bn(T){qt(T instanceof Function,"Expected a class definition");let g=Dn.get(T);return g?(qt(g instanceof T,"Instance stored in cache mismatched with class"),g):(g=new T,Dn.set(T,g),g)}const fi=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.A)(function*(){return!0})()}_set(_,D){var q=this;return(0,h.A)(function*(){q.storage[_]=D})()}_get(_){var D=this;return(0,h.A)(function*(){const q=D.storage[_];return void 0===q?null:q})()}_remove(_){var D=this;return(0,h.A)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return T.type="NONE",T})();function lt(T,g,_){return`firebase:${T}:${g}:${_}`}class zr{constructor(g,_,D){this.persistence=g,this.auth=_,this.userKey=D;const{config:q,name:ue}=this.auth;this.fullUserKey=lt(this.userKey,q.apiKey,ue),this.fullPersistenceKey=lt("persistence",q.apiKey,ue),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.A)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?qe._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,h.A)(function*(){if(_.persistence===g)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,D="authUser"){return(0,h.A)(function*(){if(!_.length)return new zr(Bn(fi),g,D);const q=(yield Promise.all(_.map(function(){var Wn=(0,h.A)(function*(fr){if(yield fr._isAvailable())return fr});return function(fr){return Wn.apply(this,arguments)}}()))).filter(Wn=>Wn);let ue=q[0]||Bn(fi);const Je=lt(D,g.config.apiKey,g.name);let Lt=null;for(const Wn of _)try{const fr=yield Wn._get(Je);if(fr){const lr=qe._fromJSON(g,fr);Wn!==ue&&(Lt=lr),ue=Wn;break}}catch{}const gn=q.filter(Wn=>Wn._shouldAllowMigration);return ue._shouldAllowMigration&&gn.length?(ue=gn[0],Lt&&(yield ue._set(Je,Lt.toJSON())),yield Promise.all(_.map(function(){var Wn=(0,h.A)(function*(fr){if(fr!==ue)try{yield fr._remove(Je)}catch{}});return function(fr){return Wn.apply(this,arguments)}}())),new zr(ue,g,D)):new zr(ue,g,D)})()}}function Jn(T){const g=T.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Wi(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(pi(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Bi(g))return"Blackberry";if(Fo(g))return"Webos";if(Ii(g))return"Safari";if((g.includes("chrome/")||tr(g))&&!g.includes("edge/"))return"Chrome";if(ho(g))return"Android";{const D=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function pi(T=(0,le.ZQ)()){return/firefox\//i.test(T)}function Ii(T=(0,le.ZQ)()){const g=T.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function tr(T=(0,le.ZQ)()){return/crios\//i.test(T)}function Wi(T=(0,le.ZQ)()){return/iemobile/i.test(T)}function ho(T=(0,le.ZQ)()){return/android/i.test(T)}function Bi(T=(0,le.ZQ)()){return/blackberry/i.test(T)}function Fo(T=(0,le.ZQ)()){return/webos/i.test(T)}function Ki(T=(0,le.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function on(T=(0,le.ZQ)()){return Ki(T)||ho(T)||Fo(T)||Bi(T)||/windows phone/i.test(T)||Wi(T)}function xn(T,g=[]){let _;switch(T){case"Browser":_=Jn((0,le.ZQ)());break;case"Worker":_=`${Jn((0,le.ZQ)())}-${T}`;break;default:_=T}const D=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ee.SDK_VERSION}/${D}`}class bt{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const D=ue=>new Promise((Je,Lt)=>{try{Je(g(ue))}catch(gn){Lt(gn)}});D.onAbort=_,this.queue.push(D);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,h.A)(function*(){if(_.auth.currentUser===g)return;const D=[];try{for(const q of _.queue)yield q(g),q.onAbort&&D.push(q.onAbort)}catch(q){D.reverse();for(const ue of D)try{ue()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}function Sn(){return(Sn=(0,h.A)(function*(T,g={}){return $e(T,"GET","/v2/passwordPolicy",He(T,g))})).apply(this,arguments)}class cr{constructor(g){var _,D,q,ue;const Je=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Je.minPasswordLength)&&void 0!==_?_:6,Je.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Je.maxPasswordLength),void 0!==Je.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Je.containsLowercaseCharacter),void 0!==Je.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Je.containsUppercaseCharacter),void 0!==Je.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Je.containsNumericCharacter),void 0!==Je.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Je.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(D=g.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(ue=g.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=g.schemaVersion}validatePassword(g){var _,D,q,ue,Je,Lt;const gn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,gn),this.validatePasswordCharacterOptions(g,gn),gn.isValid&&(gn.isValid=null===(_=gn.meetsMinPasswordLength)||void 0===_||_),gn.isValid&&(gn.isValid=null===(D=gn.meetsMaxPasswordLength)||void 0===D||D),gn.isValid&&(gn.isValid=null===(q=gn.containsLowercaseLetter)||void 0===q||q),gn.isValid&&(gn.isValid=null===(ue=gn.containsUppercaseLetter)||void 0===ue||ue),gn.isValid&&(gn.isValid=null===(Je=gn.containsNumericCharacter)||void 0===Je||Je),gn.isValid&&(gn.isValid=null===(Lt=gn.containsNonAlphanumericCharacter)||void 0===Lt||Lt),gn}validatePasswordLengthOptions(g,_){const D=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;D&&(_.meetsMinPasswordLength=g.length>=D),q&&(_.meetsMaxPasswordLength=g.length<=q)}validatePasswordCharacterOptions(g,_){let D;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let q=0;q<g.length;q++)D=g.charAt(q),this.updatePasswordCharacterOptionsStatuses(_,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(g,_,D,q,ue){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=ue))}}class ar{constructor(g,_,D,q){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=D,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Er(this),this.idTokenSubscription=new Er(this),this.beforeStateQueue=new bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(g,_){var D=this;return _&&(this._popupRedirectResolver=Bn(_)),this._initializationPromise=this.queue((0,h.A)(function*(){var q,ue;if(!D._deleted&&(D.persistenceManager=yield zr.create(D,g),!D._deleted)){if(null!==(q=D._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(ue=D.currentUser)||void 0===ue?void 0:ue.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.A)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(g){var _=this;return(0,h.A)(function*(){try{const D=yield Tr(_,{idToken:g}),q=yield qe._fromGetAccountInfoResponse(_,D,g);yield _.directlySetCurrentUser(q)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(g){var _=this;return(0,h.A)(function*(){var D;if((0,Ee._isFirebaseServerApp)(_.app)){const Lt=_.app.settings.authIdToken;return Lt?new Promise(gn=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(Lt).then(gn,gn))}):_.directlySetCurrentUser(null)}const q=yield _.assertedPersistence.getCurrentUser();let ue=q,Je=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Lt=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,gn=null==ue?void 0:ue._redirectEventId,Wn=yield _.tryRedirectSignIn(g);(!Lt||Lt===gn)&&null!=Wn&&Wn.user&&(ue=Wn.user,Je=!0)}if(!ue)return _.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Je)try{yield _.beforeStateQueue.runMiddleware(ue)}catch(Lt){ue=q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Lt))}return ue?_.reloadAndSetCurrentUserOrClear(ue):_.directlySetCurrentUser(null)}return Re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ue._redirectEventId?_.directlySetCurrentUser(ue):_.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(g){var _=this;return(0,h.A)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,h.A)(function*(){try{yield Nr(g)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ye(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var g=this;return(0,h.A)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,h.A)(function*(){if((0,Ee._isFirebaseServerApp)(_.app))return Promise.reject(Qe(_));const D=g?(0,le.Ku)(g):null;return D&&Re(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(g,_=!1){var D=this;return(0,h.A)(function*(){if(!D._deleted)return g&&Re(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,h.A)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.A)(function*(){return(0,Ee._isFirebaseServerApp)(g.app)?Promise.reject(Qe(g)):(yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0))})()}setPersistence(g){var _=this;return(0,Ee._isFirebaseServerApp)(this.app)?Promise.reject(Qe(this)):this.queue((0,h.A)(function*(){yield _.assertedPersistence.setPersistence(Bn(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var _=this;return(0,h.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const D=_._getPasswordPolicyInternal();return D.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,h.A)(function*(){const _=yield function Zt(T){return Sn.apply(this,arguments)}(g),D=new cr(_);null===g.tenantId?g._projectPasswordPolicy=D:g._tenantPasswordPolicies[g.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new le.FA("auth","Firebase",g())}onAuthStateChanged(g,_,D){return this.registerStateListener(this.authStateSubscription,g,_,D)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,D){return this.registerStateListener(this.idTokenSubscription,g,_,D)}authStateReady(){return new Promise((g,_)=>{if(this.currentUser)g();else{const D=this.onAuthStateChanged(()=>{D(),g()},_)}})}revokeAccessToken(g){var _=this;return(0,h.A)(function*(){if(_.currentUser){const D=yield _.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:g,idToken:D};null!=_.tenantId&&(q.tenantId=_.tenantId),yield function De(T,g){return xe.apply(this,arguments)}(_,q)}})()}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var D=this;return(0,h.A)(function*(){const q=yield D.getOrInitRedirectPersistenceManager(_);return null===g?q.removeCurrentUser():q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,h.A)(function*(){if(!_.redirectPersistenceManager){const D=g&&Bn(g)||_._popupRedirectResolver;Re(D,_,"argument-error"),_.redirectPersistenceManager=yield zr.create(_,[Bn(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,h.A)(function*(){var D,q;return _._isInitialized&&(yield _.queue((0,h.A)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===g?_._currentUser:(null===(q=_.redirectUser)||void 0===q?void 0:q._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,h.A)(function*(){if(g===_.currentUser)return _.queue((0,h.A)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,D,q){if(this._deleted)return()=>{};const ue="function"==typeof _?_:_.next.bind(_);let Je=!1;const Lt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(Lt,this,"internal-error"),Lt.then(()=>{Je||ue(this.currentUser)}),"function"==typeof _){const gn=g.addObserver(_,D,q);return()=>{Je=!0,gn()}}{const gn=g.addObserver(_);return()=>{Je=!0,gn()}}}directlySetCurrentUser(g){var _=this;return(0,h.A)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.A)(function*(){var _;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const q=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();q&&(D["X-Firebase-Client"]=q);const ue=yield g._getAppCheckToken();return ue&&(D["X-Firebase-AppCheck"]=ue),D})()}_getAppCheckToken(){var g=this;return(0,h.A)(function*(){var _;const D=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=D&&D.error&&function yt(T,...g){Dt.logLevel<=Se.$b.WARN&&Dt.warn(`Auth (${Ee.SDK_VERSION}): ${T}`,...g)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function Qn(T){return(0,le.Ku)(T)}class Er{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,le.tD)(_=>this.observer=_)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vi={loadJS:()=>(0,h.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eo(T){return Vi.loadJS(T)}function Ro(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Go{constructor(g){this.type="recaptcha-enterprise",this.auth=Qn(g)}verify(g="verify",_=!1){var D=this;return(0,h.A)(function*(){function ue(){return ue=(0,h.A)(function*(Lt){if(!_){if(null==Lt.tenantId&&null!=Lt._agentRecaptchaConfig)return Lt._agentRecaptchaConfig.siteKey;if(null!=Lt.tenantId&&void 0!==Lt._tenantRecaptchaConfigs[Lt.tenantId])return Lt._tenantRecaptchaConfigs[Lt.tenantId].siteKey}return new Promise(function(){var gn=(0,h.A)(function*(Wn,fr){Bt(Lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lr=>{if(void 0!==lr.recaptchaKey){const Oo=new cn(lr);return null==Lt.tenantId?Lt._agentRecaptchaConfig=Oo:Lt._tenantRecaptchaConfigs[Lt.tenantId]=Oo,Wn(Oo.siteKey)}fr(new Error("recaptcha Enterprise site key undefined"))}).catch(lr=>{fr(lr)})});return function(Wn,fr){return gn.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Je(Lt,gn,Wn){const fr=window.grecaptcha;sr(fr)?fr.enterprise.ready(()=>{fr.enterprise.execute(Lt,{action:g}).then(lr=>{gn(lr)}).catch(()=>{gn("NO_RECAPTCHA")})}):Wn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Lt,gn)=>{(function q(Lt){return ue.apply(this,arguments)})(D.auth).then(Wn=>{if(!_&&sr(window.grecaptcha))Je(Wn,Lt,gn);else{if(typeof window>"u")return void gn(new Error("RecaptchaVerifier is only supported in browser"));let fr=function gi(){return Vi.recaptchaEnterpriseScript}();0!==fr.length&&(fr+=Wn),eo(fr).then(()=>{Je(Wn,Lt,gn)}).catch(lr=>{gn(lr)})}}).catch(Wn=>{gn(Wn)})})})()}}function Io(T,g,_){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.A)(function*(T,g,_,D=!1){const q=new Go(T);let ue;try{ue=yield q.verify(_)}catch{ue=yield q.verify(_,!0)}const Je=Object.assign({},g);return Object.assign(Je,D?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je})).apply(this,arguments)}function Ue(T,g,_,D){return xt.apply(this,arguments)}function xt(){return xt=(0,h.A)(function*(T,g,_,D){var q;if(null!==(q=T._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield Io(T,g,_,"getOobCode"===_);return D(T,ue)}return D(T,g).catch(function(){var ue=(0,h.A)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Lt=yield Io(T,g,_,"getOobCode"===_);return D(T,Lt)}return Promise.reject(Je)});return function(Je){return ue.apply(this,arguments)}}())}),xt.apply(this,arguments)}function Yn(T){const g=T.indexOf(":");return g<0?"":T.substr(0,g+1)}function Ai(T){if(!T)return null;const g=Number(T);return isNaN(g)?null:g}class Lr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return tn("not implemented")}_getIdTokenResponse(g){return tn("not implemented")}_linkToIdToken(g,_){return tn("not implemented")}_getReauthenticationResolver(g){return tn("not implemented")}}function $i(T,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:resetPassword",He(T,g))})).apply(this,arguments)}function Rr(){return(Rr=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Un(T,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:signUp",g)})).apply(this,arguments)}function yr(){return(yr=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:update",He(T,g))})).apply(this,arguments)}function to(T,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithPassword",He(T,g))})).apply(this,arguments)}function Yr(T,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:sendOobCode",He(T,g))})).apply(this,arguments)}function ci(){return(ci=(0,h.A)(function*(T,g){return Yr(T,g)})).apply(this,arguments)}function ro(T,g){return Q.apply(this,arguments)}function Q(){return(Q=(0,h.A)(function*(T,g){return Yr(T,g)})).apply(this,arguments)}function ie(T,g){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.A)(function*(T,g){return Yr(T,g)})).apply(this,arguments)}function pt(){return(pt=(0,h.A)(function*(T,g){return Yr(T,g)})).apply(this,arguments)}function Ut(){return(Ut=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithEmailLink",He(T,g))})).apply(this,arguments)}function Yt(){return(Yt=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithEmailLink",He(T,g))})).apply(this,arguments)}class un extends Lr{constructor(g,_,D,q=null){super("password",D),this._email=g,this._password=_,this._tenantId=q}static _fromEmailAndPassword(g,_){return new un(g,_,"password")}static _fromEmailAndCode(g,_,D=null){return new un(g,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,h.A)(function*(){switch(_.signInMethod){case"password":return Ue(g,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",to);case"emailLink":return function it(T,g){return Ut.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Te(g,"internal-error")}})()}_linkToIdToken(g,_){var D=this;return(0,h.A)(function*(){switch(D.signInMethod){case"password":return Ue(g,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Un);case"emailLink":return function Rt(T,g){return Yt.apply(this,arguments)}(g,{idToken:_,email:D._email,oobCode:D._password});default:Te(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Tn(T,g){return On.apply(this,arguments)}function On(){return(On=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithIdp",He(T,g))})).apply(this,arguments)}class Zn extends Lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Zn(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:q}=_,ue=(0,ce.Tt)(_,["providerId","signInMethod"]);if(!D||!q)return null;const Je=new Zn(D,q);return Je.idToken=ue.idToken||void 0,Je.accessToken=ue.accessToken||void 0,Je.secret=ue.secret,Je.nonce=ue.nonce,Je.pendingToken=ue.pendingToken||null,Je}_getIdTokenResponse(g){return Tn(g,this.buildRequest())}_linkToIdToken(g,_){const D=this.buildRequest();return D.idToken=_,Tn(g,D)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Tn(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,le.Am)(_)}return g}}function mi(){return(mi=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:sendVerificationCode",He(T,g))})).apply(this,arguments)}function ri(){return(ri=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithPhoneNumber",He(T,g))})).apply(this,arguments)}function bi(){return(bi=(0,h.A)(function*(T,g){const _=yield $n(T,"POST","/v1/accounts:signInWithPhoneNumber",He(T,g));if(_.temporaryProof)throw Jt(T,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const fo={USER_NOT_FOUND:"user-not-found"};function Yi(){return(Yi=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithPhoneNumber",He(T,Object.assign(Object.assign({},g),{operation:"REAUTH"})),fo)})).apply(this,arguments)}class po extends Lr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new po({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new po({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Ci(T,g){return ri.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function wi(T,g){return bi.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Qi(T,g){return Yi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:D,verificationCode:q}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:D,code:q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:D,phoneNumber:q,temporaryProof:ue}=g;return D||_||q||ue?new po({verificationId:_,verificationCode:D,phoneNumber:q,temporaryProof:ue}):null}}class Eo{constructor(g){var _,D,q,ue,Je,Lt;const gn=(0,le.I9)((0,le.hp)(g)),Wn=null!==(_=gn.apiKey)&&void 0!==_?_:null,fr=null!==(D=gn.oobCode)&&void 0!==D?D:null,lr=function is(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=gn.mode)&&void 0!==q?q:null);Re(Wn&&fr&&lr,"argument-error"),this.apiKey=Wn,this.operation=lr,this.code=fr,this.continueUrl=null!==(ue=gn.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Je=gn.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(Lt=gn.tenantId)&&void 0!==Lt?Lt:null}static parseLink(g){const _=function Vo(T){const g=(0,le.I9)((0,le.hp)(T)).link,_=g?(0,le.I9)((0,le.hp)(g)).deep_link_id:null,D=(0,le.I9)((0,le.hp)(T)).deep_link_id;return(D?(0,le.I9)((0,le.hp)(D)).link:null)||D||_||g||T}(g);try{return new Eo(_)}catch{return null}}}let bs=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(_,D){return un._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const q=Eo.parseLink(D);return Re(q,"argument-error"),un._fromEmailAndCode(_,q.code,q.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class os{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Xi extends os{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Uo extends Xi{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Re("providerId"in _&&"signInMethod"in _,"argument-error"),Zn._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Re(g.idToken||g.accessToken,"argument-error"),Zn._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Uo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Uo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:q,pendingToken:ue,nonce:Je,providerId:Lt}=g;if(!D&&!q&&!_&&!ue||!Lt)return null;try{return new Uo(Lt)._credential({idToken:_,accessToken:D,nonce:Je,pendingToken:ue})}catch{return null}}}let ss=(()=>{class T extends Xi{constructor(){super("facebook.com")}static credential(_){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return T.credential(_.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),io=(()=>{class T extends Xi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:q}=_;if(!D&&!q)return null;try{return T.credential(D,q)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),cs=(()=>{class T extends Xi{constructor(){super("github.com")}static credential(_){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return T.credential(_.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Dr extends Lr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Tn(g,this.buildRequest())}_linkToIdToken(g,_){const D=this.buildRequest();return D.idToken=_,Tn(g,D)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Tn(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:q,pendingToken:ue}=_;return D&&q&&ue&&D===q?new Dr(D,ue):null}static _create(g,_){return new Dr(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yo extends os{constructor(g){Re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return yo.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return yo.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Dr.fromJSON(g);return Re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:D}=g;if(!_||!D)return null;try{return Dr._create(D,_)}catch{return null}}}let ki=(()=>{class T extends Xi{constructor(){super("twitter.com")}static credential(_,D){return Zn._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:q}=_;if(!D||!q)return null;try{return T.credential(D,q)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ds(T,g){return as.apply(this,arguments)}function as(){return(as=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signUp",He(T,g))})).apply(this,arguments)}class gr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,D,q=!1){return(0,h.A)(function*(){const ue=yield qe._fromIdTokenResponse(g,D,q),Je=$r(D);return new gr({user:ue,providerId:Je,_tokenResponse:D,operationType:_})})()}static _forOperation(g,_,D){return(0,h.A)(function*(){yield g._updateTokensIfNecessary(D,!0);const q=$r(D);return new gr({user:g,providerId:q,_tokenResponse:D,operationType:_})})()}}function $r(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Rs(){return(Rs=(0,h.A)(function*(T){var g;if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const _=Qn(T);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new gr({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield Ds(_,{returnSecureToken:!0}),q=yield gr._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(q.user),q})).apply(this,arguments)}class Ps extends le.g{constructor(g,_,D,q){var ue;super(_.code,_.message),this.operationType=D,this.user=q,Object.setPrototypeOf(this,Ps.prototype),this.customData={appName:g.name,tenantId:null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,_,D,q){return new Ps(g,_,D,q)}}function zs(T,g,_,D){return("reauthenticate"===g?_._getReauthenticationResolver(T):_._getIdTokenResponse(T)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Ps._fromErrorAndOperation(T,ue,g,D):ue})}function ms(T){return new Set(T.map(({providerId:g})=>g).filter(g=>!!g))}function Qo(){return Qo=(0,h.A)(function*(T,g){const _=(0,le.Ku)(T);yield _a(!0,_,g);const{providerUserInfo:D}=yield function zn(T,g){return Pn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),q=ms(D||[]);return _.providerData=_.providerData.filter(ue=>q.has(ue.providerId)),q.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Qo.apply(this,arguments)}function _i(T,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,h.A)(function*(T,g,_=!1){const D=yield kr(T,g._linkToIdToken(T.auth,yield T.getIdToken()),_);return gr._forOperation(T,"link",D)})).apply(this,arguments)}function _a(T,g,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.A)(function*(T,g,_){yield Nr(g);const q=!1===T?"provider-already-linked":"no-such-provider";Re(ms(g.providerData).has(_)===T,g.auth,q)})).apply(this,arguments)}function Wo(T,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.A)(function*(T,g,_=!1){const{auth:D}=T;if((0,Ee._isFirebaseServerApp)(D.app))return Promise.reject(Qe(D));const q="reauthenticate";try{const ue=yield kr(T,zs(D,q,g,T),_);Re(ue.idToken,D,"internal-error");const Je=vi(ue.idToken);Re(Je,D,"internal-error");const{sub:Lt}=Je;return Re(T.uid===Lt,D,"user-mismatch"),gr._forOperation(T,q,ue)}catch(ue){throw"auth/user-not-found"===(null==ue?void 0:ue.code)&&Te(D,"user-mismatch"),ue}})).apply(this,arguments)}function va(T,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.A)(function*(T,g,_=!1){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const D="signIn",q=yield zs(T,D,g),ue=yield gr._fromIdTokenResponse(T,D,q);return _||(yield T._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function V(T,g){return re.apply(this,arguments)}function re(){return(re=(0,h.A)(function*(T,g){return va(Qn(T),g)})).apply(this,arguments)}function X(T,g){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.A)(function*(T,g){const _=(0,le.Ku)(T);return yield _a(!1,_,g.providerId),_i(_,g)})).apply(this,arguments)}function yn(T,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.A)(function*(T,g){return Wo((0,le.Ku)(T),g)})).apply(this,arguments)}function zi(){return(zi=(0,h.A)(function*(T,g){return $n(T,"POST","/v1/accounts:signInWithCustomToken",He(T,g))})).apply(this,arguments)}function go(){return go=(0,h.A)(function*(T,g){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const _=Qn(T),D=yield function li(T,g){return zi.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),q=yield gr._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(q.user),q}),go.apply(this,arguments)}class so{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Ao._fromServerResponse(g,_):"totpInfo"in _?Hs._fromServerResponse(g,_):Te(g,"internal-error")}}class Ao extends so{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Ao(_)}}class Hs extends so{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Hs(_)}}function ls(T,g,_){var D;Re((null===(D=_.url)||void 0===D?void 0:D.length)>0,T,"invalid-continue-uri"),Re(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Re(_.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Re(_.android.packageName.length>0,T,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Mr(T){return si.apply(this,arguments)}function si(){return(si=(0,h.A)(function*(T){const g=Qn(T);g._getPasswordPolicyInternal()&&(yield g._updatePasswordPolicy())})).apply(this,arguments)}function ao(){return(ao=(0,h.A)(function*(T,g,_){const D=Qn(T),q={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};_&&ls(D,q,_),yield Ue(D,q,"getOobCode",ro)})).apply(this,arguments)}function ds(){return ds=(0,h.A)(function*(T,g,_){yield $i((0,le.Ku)(T),{oobCode:g,newPassword:_}).catch(function(){var D=(0,h.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Mr(T),q});return function(q){return D.apply(this,arguments)}}())}),ds.apply(this,arguments)}function Yo(){return Yo=(0,h.A)(function*(T,g){yield function Kr(T,g){return yr.apply(this,arguments)}((0,le.Ku)(T),{oobCode:g})}),Yo.apply(this,arguments)}function Ko(T,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,h.A)(function*(T,g){const _=(0,le.Ku)(T),D=yield $i(_,{oobCode:g}),q=D.requestType;switch(Re(q,_,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(D.mfaInfo,_,"internal-error");default:Re(D.email,_,"internal-error")}let ue=null;return D.mfaInfo&&(ue=so._fromServerResponse(Qn(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ue},operation:q}})).apply(this,arguments)}function Ua(){return(Ua=(0,h.A)(function*(T,g){const{data:_}=yield Ko((0,le.Ku)(T),g);return _.email})).apply(this,arguments)}function Jo(){return(Jo=(0,h.A)(function*(T,g,_){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const D=Qn(T),Je=yield Ue(D,{returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ds).catch(gn=>{throw"auth/password-does-not-meet-requirements"===gn.code&&Mr(T),gn}),Lt=yield gr._fromIdTokenResponse(D,"signIn",Je);return yield D._updateCurrentUser(Lt.user),Lt})).apply(this,arguments)}function Gs(){return(Gs=(0,h.A)(function*(T,g,_){const D=Qn(T),q={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};(function ue(Je,Lt){Re(Lt.handleCodeInApp,D,"argument-error"),Lt&&ls(D,Je,Lt)})(q,_),yield Ue(D,q,"getOobCode",ie)})).apply(this,arguments)}function $o(){return($o=(0,h.A)(function*(T,g,_){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const D=(0,le.Ku)(T),q=bs.credentialWithLink(g,_||Cn());return Re(q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),V(D,q)})).apply(this,arguments)}function xo(){return(xo=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:createAuthUri",He(T,g))})).apply(this,arguments)}function _s(){return _s=(0,h.A)(function*(T,g){const D={identifier:g,continueUri:jt()?Cn():"http://localhost"},{signinMethods:q}=yield function Ta(T,g){return xo.apply(this,arguments)}((0,le.Ku)(T),D);return q||[]}),_s.apply(this,arguments)}function Za(){return Za=(0,h.A)(function*(T,g){const _=(0,le.Ku)(T),q={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};g&&ls(_.auth,q,g);const{email:ue}=yield function Pi(T,g){return ci.apply(this,arguments)}(_.auth,q);ue!==T.email&&(yield T.reload())}),Za.apply(this,arguments)}function To(){return To=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:g};_&&ls(D.auth,ue,_);const{email:Je}=yield function ze(T,g){return pt.apply(this,arguments)}(D.auth,ue);Je!==T.email&&(yield T.reload())}),To.apply(this,arguments)}function jo(){return(jo=(0,h.A)(function*(T,g){return $e(T,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ca(){return Ca=(0,h.A)(function*(T,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const D=(0,le.Ku)(T),ue={idToken:yield D.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Je=yield kr(D,function es(T,g){return jo.apply(this,arguments)}(D.auth,ue));D.displayName=Je.displayName||null,D.photoURL=Je.photoUrl||null;const Lt=D.providerData.find(({providerId:gn})=>"password"===gn);Lt&&(Lt.displayName=D.displayName,Lt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Je)}),Ca.apply(this,arguments)}function ts(T,g,_){return C.apply(this,arguments)}function C(){return C=(0,h.A)(function*(T,g,_){const{auth:D}=T,ue={idToken:yield T.getIdToken(),returnSecureToken:!0};g&&(ue.email=g),_&&(ue.password=_);const Je=yield kr(T,function bn(T,g){return Rr.apply(this,arguments)}(D,ue));yield T._updateTokensIfNecessary(Je,!0)}),C.apply(this,arguments)}class W{constructor(g,_,D={}){this.isNewUser=g,this.providerId=_,this.profile=D}}class A extends W{constructor(g,_,D,q){super(g,_,D),this.username=q}}class H extends W{constructor(g,_){super(g,"facebook.com",_)}}class de extends A{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class b extends W{constructor(g,_){super(g,"google.com",_)}}class F extends A{constructor(g,_,D){super(g,"twitter.com",_,D)}}function pe(T){const{user:g,_tokenResponse:_}=T;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function O(T){var g,_;if(!T)return null;const{providerId:D}=T,q=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},ue=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!D&&null!=T&&T.idToken){const Je=null===(_=null===(g=vi(T.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Je)return new W(ue,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!D)return null;switch(D){case"facebook.com":return new H(ue,q);case"github.com":return new de(ue,q);case"google.com":return new b(ue,q);case"twitter.com":return new F(ue,q,T.screenName||null);case"custom":case"anonymous":return new W(ue,null);default:return new W(ue,D,q)}}(_)}class jn{constructor(g,_,D){this.type=g,this.credential=_,this.user=D}static _fromIdtoken(g,_){return new jn("enroll",g,_)}static _fromMfaPendingCredential(g){return new jn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,D;if(null!=g&&g.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return jn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return jn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class rn{constructor(g,_,D){this.session=g,this.hints=_,this.signInResolver=D}static _fromError(g,_){const D=Qn(g),q=_.customData._serverResponse,ue=(q.mfaInfo||[]).map(Lt=>so._fromServerResponse(D,Lt));Re(q.mfaPendingCredential,D,"internal-error");const Je=jn._fromMfaPendingCredential(q.mfaPendingCredential);return new rn(Je,ue,function(){var Lt=(0,h.A)(function*(gn){const Wn=yield gn._process(D,Je);delete q.mfaInfo,delete q.mfaPendingCredential;const fr=Object.assign(Object.assign({},q),{idToken:Wn.idToken,refreshToken:Wn.refreshToken});switch(_.operationType){case"signIn":const lr=yield gr._fromIdTokenResponse(D,_.operationType,fr);return yield D._updateCurrentUser(lr.user),lr;case"reauthenticate":return Re(_.user,D,"internal-error"),gr._forOperation(_.user,_.operationType,fr);default:Te(D,"internal-error")}});return function(gn){return Lt.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,h.A)(function*(){return _.signInResolver(g)})()}}class qr{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>so._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new qr(g)}getSession(){var g=this;return(0,h.A)(function*(){return jn._fromIdtoken(yield g.user.getIdToken(),g.user)})()}enroll(g,_){var D=this;return(0,h.A)(function*(){const q=g,ue=yield D.getSession(),Je=yield kr(D.user,q._process(D.user.auth,ue,_));return yield D.user._updateTokensIfNecessary(Je),D.user.reload()})()}unenroll(g){var _=this;return(0,h.A)(function*(){const D="string"==typeof g?g:g.uid,q=yield _.user.getIdToken();try{const ue=yield kr(_.user,function oa(T,g){return $e(T,"POST","/v2/accounts/mfaEnrollment:withdraw",He(T,g))}(_.user.auth,{idToken:q,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Je})=>Je!==D),yield _.user._updateTokensIfNecessary(ue),yield _.user.reload()}catch(ue){throw ue}})()}}const Sr=new WeakMap,Fr="__sak";class qs{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Fr,"1"),this.storage.removeItem(Fr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const sa=(()=>{class T extends qs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=on(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const q=this.storage.getItem(D),ue=this.localCache[D];q!==ue&&_(D,ue,q)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((Lt,gn,Wn)=>{this.notifyListeners(Lt,Wn)});const q=_.key;D?this.detachListener():this.stopPolling();const ue=()=>{const Lt=this.storage.getItem(q);!D&&this.localCache[q]===Lt||this.notifyListeners(q,Lt)},Je=this.storage.getItem(q);!function ht(){return(0,le.lT)()&&10===document.documentMode}()||Je===_.newValue||_.newValue===_.oldValue?ue():setTimeout(ue,10)}notifyListeners(_,D){this.localCache[_]=D;const q=this.listeners[_];if(q)for(const ue of Array.from(q))ue(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var q=()=>super._set,ue=this;return(0,h.A)(function*(){yield q().call(ue,_,D),ue.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,q=this;return(0,h.A)(function*(){const ue=yield D().call(q,_);return q.localCache[_]=JSON.stringify(ue),ue})()}_remove(_){var D=()=>super._remove,q=this;return(0,h.A)(function*(){yield D().call(q,_),delete q.localCache[_]})()}}return T.type="LOCAL",T})(),no=(()=>{class T extends qs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return T.type="SESSION",T})();let wa=(()=>{class T{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(ue=>ue.isListeningto(_));if(D)return D;const q=new T(_);return this.receivers.push(q),q}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,h.A)(function*(){const q=_,{eventId:ue,eventType:Je,data:Lt}=q.data,gn=D.handlersMap[Je];if(null==gn||!gn.size)return;q.ports[0].postMessage({status:"ack",eventId:ue,eventType:Je});const Wn=Array.from(gn).map(function(){var lr=(0,h.A)(function*(Oo){return Oo(q.origin,Lt)});return function(Oo){return lr.apply(this,arguments)}}()),fr=yield function Os(T){return Promise.all(T.map(function(){var g=(0,h.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return g.apply(this,arguments)}}()))}(Wn);q.ports[0].postMessage({status:"done",eventId:ue,eventType:Je,response:fr})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Is(T="",g=10){let _="";for(let D=0;D<g;D++)_+=Math.floor(10*Math.random());return T+_}class Rl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,D=50){var q=this;return(0,h.A)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Je,Lt;return new Promise((gn,Wn)=>{const fr=Is("",20);ue.port1.start();const lr=setTimeout(()=>{Wn(new Error("unsupported_event"))},D);Lt={messageChannel:ue,onMessage(Oo){const Ga=Oo;if(Ga.data.eventId===fr)switch(Ga.data.status){case"ack":clearTimeout(lr),Je=setTimeout(()=>{Wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),gn(Ga.data.response);break;default:clearTimeout(lr),clearTimeout(Je),Wn(new Error("invalid_response"))}}},q.handlers.add(Lt),ue.port1.addEventListener("message",Lt.onMessage),q.target.postMessage({eventType:g,eventId:fr,data:_},[ue.port2])}).finally(()=>{Lt&&q.removeMessageHandler(Lt)})})()}}function Ui(){return window}function Xl(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function aa(){return(aa=(0,h.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Co="firebaseLocalStorageDb",uo="firebaseLocalStorage",wo="fbase_key";class Ya{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ba(T,g){return T.transaction([uo],g?"readwrite":"readonly").objectStore(uo)}function Es(){const T=indexedDB.open(Co,1);return new Promise((g,_)=>{T.addEventListener("error",()=>{_(T.error)}),T.addEventListener("upgradeneeded",()=>{const D=T.result;try{D.createObjectStore(uo,{keyPath:wo})}catch(q){_(q)}}),T.addEventListener("success",(0,h.A)(function*(){const D=T.result;D.objectStoreNames.contains(uo)?g(D):(D.close(),yield function mo(){const T=indexedDB.deleteDatabase(Co);return new Ya(T).toPromise()}(),g(yield Es()))}))})}function Ja(T,g,_){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,h.A)(function*(T,g,_){const D=ba(T,!0).put({[wo]:g,value:_});return new Ya(D).toPromise()})).apply(this,arguments)}function ks(){return(ks=(0,h.A)(function*(T,g){const _=ba(T,!1).get(g),D=yield new Ya(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function gc(T,g){const _=ba(T,!0).delete(g);return new Ya(_).toPromise()}const Ql=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,h.A)(function*(){return _.db||(_.db=yield Es()),_.db})()}_withRetries(_){var D=this;return(0,h.A)(function*(){let q=0;for(;;)try{const ue=yield D._openDb();return yield _(ue)}catch(ue){if(q++>3)throw ue;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,h.A)(function*(){return Xl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,h.A)(function*(){_.receiver=wa._getInstance(function Pl(){return Xl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,h.A)(function*(q,ue){return{keyProcessed:(yield _._poll()).includes(ue.key)}});return function(q,ue){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,h.A)(function*(q,ue){return["keyChanged"]});return function(q,ue){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,h.A)(function*(){var D,q;if(_.activeServiceWorker=yield function ql(){return aa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Rl(_.activeServiceWorker);const ue=yield _.sender._send("ping",{},800);ue&&null!==(D=ue[0])&&void 0!==D&&D.fulfilled&&null!==(q=ue[0])&&void 0!==q&&q.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,h.A)(function*(){if(D.sender&&D.activeServiceWorker&&function fc(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.A)(function*(){try{if(!indexedDB)return!1;const _=yield Es();return yield Ja(_,Fr,"1"),yield gc(_,Fr),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,h.A)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var q=this;return(0,h.A)(function*(){return q._withPendingWrite((0,h.A)(function*(){return yield q._withRetries(ue=>Ja(ue,_,D)),q.localCache[_]=D,q.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,h.A)(function*(){const q=yield D._withRetries(ue=>function Ml(T,g){return ks.apply(this,arguments)}(ue,_));return D.localCache[_]=q,q})()}_remove(_){var D=this;return(0,h.A)(function*(){return D._withPendingWrite((0,h.A)(function*(){return yield D._withRetries(q=>gc(q,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,h.A)(function*(){const D=yield _._withRetries(Je=>{const Lt=ba(Je,!1).getAll();return new Ya(Lt).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const q=[],ue=new Set;if(0!==D.length)for(const{fbase_key:Je,value:Lt}of D)ue.add(Je),JSON.stringify(_.localCache[Je])!==JSON.stringify(Lt)&&(_.notifyListeners(Je,Lt),q.push(Je));for(const Je of Object.keys(_.localCache))_.localCache[Je]&&!ue.has(Je)&&(_.notifyListeners(Je,null),q.push(Je));return q})()}notifyListeners(_,D){this.localCache[_]=D;const q=this.listeners[_];if(q)for(const ue of Array.from(q))ue(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,h.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),j=1e12;class he{constructor(g){this.auth=g,this.counter=j,this._widgets=new Map}render(g,_){const D=this.counter;return this._widgets.set(D,new ge(g,this.auth.name,_||{})),this.counter++,D}reset(g){var _;const D=g||j;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(g){var _;return(null===(_=this._widgets.get(g||j))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,h.A)(function*(){var D;return null===(D=_._widgets.get(g||j))||void 0===D||D.execute(),""})()}}class ge{constructor(g,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof g?document.getElementById(g):g;Re(q,"argument-error",{appName:_}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ot(T){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<T;D++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mn=Ro("rcb"),Vt=new Ce(3e4,6e4);class Xn{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ui().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return Re(function Zr(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&ln(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((D,q)=>{const ue=Ui().setTimeout(()=>{q(Oe(g,"network-request-failed"))},Vt.get());Ui()[mn]=()=>{Ui().clearTimeout(ue),delete Ui()[mn];const Lt=Ui().grecaptcha;if(!Lt||!ln(Lt))return void q(Oe(g,"internal-error"));const gn=Lt.render;Lt.render=(Wn,fr)=>{const lr=gn(Wn,fr);return this.counter++,lr},this.hostLanguage=_,D(Lt)},eo(`${function Pr(){return Vi.recaptchaV2Script}()}?${(0,le.Am)({onload:mn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ue),q(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Ui().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Li{load(g){return(0,h.A)(function*(){return new he(g)})()}clearedOneInstance(){}}const ii="recaptcha",qi={theme:"light",type:"image"};class qo{constructor(g,_,D=Object.assign({},qi)){this.parameters=D,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(g),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof _?document.getElementById(_):_;Re(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Li:new Xn,this.validateStartingState()}verify(){var g=this;return(0,h.A)(function*(){g.assertNotDestroyed();const _=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(_)||new Promise(ue=>{const Je=Lt=>{Lt&&(g.tokenChangeListeners.delete(Je),ue(Lt))};g.tokenChangeListeners.add(Je),g.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof g)g(_);else if("string"==typeof g){const D=Ui()[g];"function"==typeof D&&D(_)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.A)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.A)(function*(){Re(jt()&&!Xl(),g.auth,"internal-error"),yield function As(){let T=null;return new Promise(g=>{"complete"!==document.readyState?(T=()=>g(),window.addEventListener("load",T)):g()}).catch(g=>{throw T&&window.removeEventListener("load",T),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Ne(T){return Fe.apply(this,arguments)}(g.auth);Re(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $a{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=po._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Fs(){return(Fs=(0,h.A)(function*(T,g,_){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const D=Qn(T),q=yield Da(D,g,(0,le.Ku)(_));return new $a(q,ue=>V(D,ue))})).apply(this,arguments)}function xl(){return(xl=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T);yield _a(!1,D,"phone");const q=yield Da(D.auth,g,(0,le.Ku)(_));return new $a(q,ue=>X(D,ue))})).apply(this,arguments)}function ja(){return(ja=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T);if((0,Ee._isFirebaseServerApp)(D.auth.app))return Promise.reject(Qe(D.auth));const q=yield Da(D.auth,g,(0,le.Ku)(_));return new $a(q,ue=>yn(D,ue))})).apply(this,arguments)}function Da(T,g,_){return dl.apply(this,arguments)}function dl(){return dl=(0,h.A)(function*(T,g,_){var D;const q=yield _.verify();try{let ue;if(Re("string"==typeof q,T,"argument-error"),Re(_.type===ii,T,"argument-error"),ue="string"==typeof g?{phoneNumber:g}:g,"session"in ue){const Je=ue.session;if("phoneNumber"in ue)return Re("enroll"===Je.type,T,"internal-error"),(yield function Jr(T,g){return $e(T,"POST","/v2/accounts/mfaEnrollment:start",He(T,g))}(T,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Re("signin"===Je.type,T,"internal-error");const Lt=(null===(D=ue.multiFactorHint)||void 0===D?void 0:D.uid)||ue.multiFactorUid;return Re(Lt,T,"missing-multi-factor-info"),(yield function $f(T,g){return $e(T,"POST","/v2/accounts/mfaSignIn:start",He(T,g))}(T,{mfaPendingCredential:Je.credential,mfaEnrollmentId:Lt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function ni(T,g){return mi.apply(this,arguments)}(T,{phoneNumber:ue.phoneNumber,recaptchaToken:q});return Je}}finally{_._reset()}}),dl.apply(this,arguments)}function Nl(){return(Nl=(0,h.A)(function*(T,g){const _=(0,le.Ku)(T);if((0,Ee._isFirebaseServerApp)(_.auth.app))return Promise.reject(Qe(_.auth));yield _i(_,g)})).apply(this,arguments)}let Yl=(()=>{class T{constructor(_){this.providerId=T.PROVIDER_ID,this.auth=Qn(_)}verifyPhoneNumber(_,D){return Da(this.auth,_,(0,le.Ku)(D))}static credential(_,D){return po._fromVerification(_,D)}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:q}=_;return D&&q?po._fromTokenResponse(D,q):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function yi(T,g){return g?Bn(g):(Re(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Jl extends Lr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Tn(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Tn(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Tn(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Tu(T){return va(T.auth,new Jl(T),T.bypassAuthState)}function Us(T){const{auth:g,user:_}=T;return Re(_,g,"internal-error"),Wo(_,new Jl(T),T.bypassAuthState)}function $g(T){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,h.A)(function*(T){const{auth:g,user:_}=T;return Re(_,g,"internal-error"),_i(_,new Jl(T),T.bypassAuthState)})).apply(this,arguments)}class hl{constructor(g,_,D,q,ue=!1){this.auth=g,this.resolver=D,this.user=q,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,h.A)(function*(D,q){g.pendingPromise={resolve:D,reject:q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ue){g.reject(ue)}});return function(D,q){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,h.A)(function*(){const{urlResponse:D,sessionId:q,postBody:ue,tenantId:Je,error:Lt,type:gn}=g;if(Lt)return void _.reject(Lt);const Wn={auth:_.auth,requestUri:D,sessionId:q,tenantId:Je||void 0,postBody:ue||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(gn)(Wn))}catch(fr){_.reject(fr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Tu;case"linkViaPopup":case"linkViaRedirect":return $g;case"reauthViaPopup":case"reauthViaRedirect":return Us;default:Te(this.auth,"internal-error")}}resolve(g){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bs=new Ce(2e3,1e4);function vc(){return(vc=(0,h.A)(function*(T,g,_){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Oe(T,"operation-not-supported-in-this-environment"));const D=Qn(T);Mt(T,g,os);const q=yi(D,_);return new hd(D,"signInViaPopup",g,q).executeNotNull()})).apply(this,arguments)}function la(){return(la=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T);if((0,Ee._isFirebaseServerApp)(D.auth.app))return Promise.reject(Oe(D.auth,"operation-not-supported-in-this-environment"));Mt(D.auth,g,os);const q=yi(D.auth,_);return new hd(D.auth,"reauthViaPopup",g,q,D).executeNotNull()})).apply(this,arguments)}function dd(){return(dd=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T);Mt(D.auth,g,os);const q=yi(D.auth,_);return new hd(D.auth,"linkViaPopup",g,q,D).executeNotNull()})).apply(this,arguments)}let hd=(()=>{class T extends hl{constructor(_,D,q,ue,Je){super(_,D,ue,Je),this.provider=q,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var _=this;return(0,h.A)(function*(){const D=yield _.execute();return Re(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,h.A)(function*(){qt(1===_.filter.length,"Popup operations only handle one event");const D=Is();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(q=>{_.reject(q)}),_.resolver._isIframeWebStorageSupported(_.auth,q=>{q||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,q;this.pollId=null!==(q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Bs.get())};_()}}return T.currentPopupAction=null,T})();const fd="pendingRedirect",za=new Map;class el extends hl{constructor(g,_,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,h.A)(function*(){let D=za.get(_.auth._key());if(!D){try{const ue=(yield function Ha(T,g){return Cu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;D=()=>Promise.resolve(ue)}catch(q){D=()=>Promise.reject(q)}za.set(_.auth._key(),D)}return _.bypassAuthState||za.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,D=this;return(0,h.A)(function*(){if("signInViaRedirect"===g.type)return _().call(D,g);if("unknown"!==g.type){if(g.eventId){const q=yield D.auth._redirectUserForId(g.eventId);if(q)return D.user=q,_().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,h.A)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,h.A)(function*(T,g){const _=jf(g),D=yc(T);if(!(yield D._isAvailable()))return!1;const q="true"===(yield D._get(_));return yield D._remove(_),q})).apply(this,arguments)}function Sa(T,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.A)(function*(T,g){return yc(T)._set(jf(g),"true")})).apply(this,arguments)}function tu(T,g){za.set(T._key(),g)}function yc(T){return Bn(T._redirectPersistence)}function jf(T){return lt(fd,T.config.apiKey,T.name)}function Eh(T,g,_){return function Ah(T,g,_){return gd.apply(this,arguments)}(T,g,_)}function gd(){return(gd=(0,h.A)(function*(T,g,_){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const D=Qn(T);Mt(T,g,os),yield D._initializationPromise;const q=yi(D,_);return yield Sa(q,D),q._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Ic(T,g,_){return function nu(T,g,_){return Ec.apply(this,arguments)}(T,g,_)}function Ec(){return(Ec=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T);if(Mt(D.auth,g,os),(0,Ee._isFirebaseServerApp)(D.auth.app))return Promise.reject(Qe(D.auth));yield D.auth._initializationPromise;const q=yi(D.auth,_);yield Sa(q,D.auth);const ue=yield vd(D);return q._openRedirect(D.auth,g,"reauthViaRedirect",ue)})).apply(this,arguments)}function md(T,g,_){return function jg(T,g,_){return _d.apply(this,arguments)}(T,g,_)}function _d(){return(_d=(0,h.A)(function*(T,g,_){const D=(0,le.Ku)(T);Mt(D.auth,g,os),yield D.auth._initializationPromise;const q=yi(D.auth,_);yield _a(!1,D,g.providerId),yield Sa(q,D.auth);const ue=yield vd(D);return q._openRedirect(D.auth,g,"linkViaRedirect",ue)})).apply(this,arguments)}function dn(){return(dn=(0,h.A)(function*(T,g){return yield Qn(T)._initializationPromise,ei(T,g,!1)})).apply(this,arguments)}function ei(T,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,h.A)(function*(T,g,_=!1){if((0,Ee._isFirebaseServerApp)(T.app))return Promise.reject(Qe(T));const D=Qn(T),q=yi(D,g),Je=yield new el(D,q,_).execute();return Je&&!_&&(delete Je.user._redirectEventId,yield D._persistUserIfCurrent(Je.user),yield D._setRedirectUser(null,g)),Je})).apply(this,arguments)}function vd(T){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.A)(function*(T){const g=Is(`${T.uid}:::`);return T._redirectEventId=g,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),g})).apply(this,arguments)}class fl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(_=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function tl(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tc(T);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var D;if(g.error&&!Tc(g)){const q=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,q))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const D=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(g))}saveEventToCache(g){this.cachedEventUids.add(Zs(g)),this.lastProcessedEventTime=Date.now()}}function Zs(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(g=>g).join("-")}function Tc({type:T,error:g}){return"unknown"===T&&"auth/no-auth-event"===(null==g?void 0:g.code)}function kl(T){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,h.A)(function*(T,g={}){return $e(T,"GET","/v1/projects",g)})).apply(this,arguments)}const bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zf=/^https?/;function Cc(){return(Cc=(0,h.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:g}=yield kl(T);for(const _ of g)try{if(zo(_))return}catch{}Te(T,"unauthorized-domain")})).apply(this,arguments)}function zo(T){const g=Cn(),{protocol:_,hostname:D}=new URL(g);if(T.startsWith("chrome-extension://")){const Je=new URL(T);return""===Je.hostname&&""===D?"chrome-extension:"===_&&T.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Je.hostname===D}if(!zf.test(_))return!1;if(bu.test(T))return D===T;const q=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(D)}const nl=new Ce(3e4,6e4);function wh(){const T=Ui().___jsl;if(null!=T&&T.H)for(const g of Object.keys(T.H))if(T.H[g].r=T.H[g].r||[],T.H[g].L=T.H[g].L||[],T.H[g].r=[...T.H[g].L],T.CP)for(let _=0;_<T.CP.length;_++)T.CP[_]=null}let Pa=null;const Gf=new Ce(5e3,15e3),yd="__/auth/iframe",Wf="emulator/auth/iframe",bh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dh(T){const g=T.config;Re(g.authDomain,T,"auth-domain-config-required");const _=g.emulator?Ie(g,Wf):`https://${T.config.authDomain}/${yd}`,D={apiKey:g.apiKey,appName:T.name,v:Ee.SDK_VERSION},q=Id.get(T.config.apiHost);q&&(D.eid=q);const ue=T._getFrameworks();return ue.length&&(D.fw=ue.join(",")),`${_}?${(0,le.Am)(D).slice(1)}`}function pl(){return pl=(0,h.A)(function*(T){const g=yield function Hf(T){return Pa=Pa||function Ra(T){return new Promise((g,_)=>{var D,q,ue;function Je(){wh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{wh(),_(Oe(T,"network-request-failed"))},timeout:nl.get()})}if(null!==(q=null===(D=Ui().gapi)||void 0===D?void 0:D.iframes)&&void 0!==q&&q.Iframe)g(gapi.iframes.getContext());else{if(null===(ue=Ui().gapi)||void 0===ue||!ue.load){const Lt=Ro("iframefcb");return Ui()[Lt]=()=>{gapi.load?Je():_(Oe(T,"network-request-failed"))},eo(`${function Ni(){return Vi.gapiScript}()}?onload=${Lt}`).catch(gn=>_(gn))}Je()}}).catch(g=>{throw Pa=null,g})}(T),Pa}(T),_=Ui().gapi;return Re(_,T,"internal-error"),g.open({where:document.body,url:Dh(T),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bh,dontclear:!0},D=>new Promise(function(){var q=(0,h.A)(function*(ue,Je){yield D.restyle({setHideOnLeave:!1});const Lt=Oe(T,"network-request-failed"),gn=Ui().setTimeout(()=>{Je(Lt)},Gf.get());function Wn(){Ui().clearTimeout(gn),ue(D)}D.ping(Wn).then(Wn,()=>{Je(Lt)})});return function(ue,Je){return q.apply(this,arguments)}}()))}),pl.apply(this,arguments)}const Du={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ph{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const us="__/auth/handler",bo="emulator/auth/handler",_o=encodeURIComponent("fac");function xh(T,g,_,D,q,ue){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,h.A)(function*(T,g,_,D,q,ue){Re(T.config.authDomain,T,"auth-domain-config-required"),Re(T.config.apiKey,T,"invalid-api-key");const Je={apiKey:T.config.apiKey,appName:T.name,authType:_,redirectUrl:D,v:Ee.SDK_VERSION,eventId:q};if(g instanceof os){g.setDefaultLanguage(T.languageCode),Je.providerId=g.providerId||"",(0,le.Im)(g.getCustomParameters())||(Je.customParameters=JSON.stringify(g.getCustomParameters()));for(const[fr,lr]of Object.entries(ue||{}))Je[fr]=lr}if(g instanceof Xi){const fr=g.getScopes().filter(lr=>""!==lr);fr.length>0&&(Je.scopes=fr.join(","))}T.tenantId&&(Je.tid=T.tenantId);const Lt=Je;for(const fr of Object.keys(Lt))void 0===Lt[fr]&&delete Lt[fr];const gn=yield T._getAppCheckToken(),Wn=gn?`#${_o}=${encodeURIComponent(gn)}`:"";return`${function Hg({config:T}){return T.emulator?Ie(T,bo):`https://${T.authDomain}/${us}`}(T)}?${(0,le.Am)(Lt).slice(1)}${Wn}`})).apply(this,arguments)}const bc="webStorageSupport",Su=class Xf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=ei,this._overrideRedirectResult=tu}_openPopup(g,_,D,q){var ue=this;return(0,h.A)(function*(){var Je;qt(null===(Je=ue.eventManagers[g._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const Lt=yield xh(g,_,D,Cn(),q);return function Mh(T,g,_,D=500,q=600){const ue=Math.max((window.screen.availHeight-q)/2,0).toString(),Je=Math.max((window.screen.availWidth-D)/2,0).toString();let Lt="";const gn=Object.assign(Object.assign({},Du),{width:D.toString(),height:q.toString(),top:ue,left:Je}),Wn=(0,le.ZQ)().toLowerCase();_&&(Lt=tr(Wn)?"_blank":_),pi(Wn)&&(g=g||"http://localhost",gn.scrollbars="yes");const fr=Object.entries(gn).reduce((Oo,[Ga,Lu])=>`${Oo}${Ga}=${Lu},`,"");if(function zt(T=(0,le.ZQ)()){var g;return Ki(T)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Wn)&&"_self"!==Lt)return function zg(T,g){const _=document.createElement("a");_.href=T,_.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(g||"",Lt),new Ph(null);const lr=window.open(g||"",Lt,fr);Re(lr,T,"popup-blocked");try{lr.focus()}catch{}return new Ph(lr)}(g,Lt,Is())})()}_openRedirect(g,_,D,q){var ue=this;return(0,h.A)(function*(){return yield ue._originValidation(g),function wr(T){Ui().location.href=T}(yield xh(g,_,D,Cn(),q)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:q,promise:ue}=this.eventManagers[_];return q?Promise.resolve(q):(qt(ue,"If manager is not set, promise should be"),ue)}const D=this.initAndGetManager(g);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(g){var _=this;return(0,h.A)(function*(){const D=yield function wc(T){return pl.apply(this,arguments)}(g),q=new fl(g);return D.register("authEvent",ue=>(Re(null==ue?void 0:ue.authEvent,g,"invalid-auth-event"),{status:q.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:q},_.iframes[g._key()]=D,q})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(bc,{type:bc},q=>{var ue;const Je=null===(ue=null==q?void 0:q[0])||void 0===ue?void 0:ue[bc];void 0!==Je&&_(!!Je),Te(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ru(T){return Cc.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return on()||Ii()||Ki()}};class gl{constructor(g){this.factorId=g}_process(g,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,D);case"signin":return this._finalizeSignIn(g,_.credential);default:return tn("unexpected MultiFactorSessionType")}}}class Ma extends gl{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ma(g)}_finalizeEnroll(g,_,D){return function Si(T,g){return $e(T,"POST","/v2/accounts/mfaEnrollment:finalize",He(T,g))}(g,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function S(T,g){return $e(T,"POST","/v2/accounts/mfaSignIn:finalize",He(T,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qf=(()=>{class T{constructor(){}static assertion(_){return Ma._fromCredential(_)}}return T.FACTOR_ID="phone",T})();var Sc="@firebase/auth";class Gg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,h.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(D=>{g((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ou(){return window}(0,le.XA)("authIdTokenMaxAge"),function Ur(T){Vi=T}({loadJS:T=>new Promise((g,_)=>{const D=document.createElement("script");D.setAttribute("src",T),D.onload=g,D.onerror=q=>{const ue=Oe("internal-error");ue.customData=q,_(ue)},D.type="text/javascript",D.charset="UTF-8",function Xg(){var T,g;return null!==(g=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==g?g:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Pc(T){(0,Ee._registerComponent)(new Me.uA("auth",(g,{options:_})=>{const D=g.getProvider("app").getImmediate(),q=g.getProvider("heartbeat"),ue=g.getProvider("app-check-internal"),{apiKey:Je,authDomain:Lt}=D.options;Re(Je&&!Je.includes(":"),"invalid-api-key",{appName:D.name});const gn={apiKey:Je,authDomain:Lt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(T)},Wn=new ar(D,q,ue,gn);return function Hn(T,g){const _=(null==g?void 0:g.persistence)||[],D=(Array.isArray(_)?_:[_]).map(Bn);null!=g&&g.errorMap&&T._updateErrorMap(g.errorMap),T._initializeWithPersistence(D,null==g?void 0:g.popupRedirectResolver)}(Wn,_),Wn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,D)=>{g.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new Me.uA("auth-internal",g=>{const _=Qn(g.getProvider("auth").getImmediate());return new Gg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)(Sc,"1.7.9",function iu(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,Ee.registerVersion)(Sc,"1.7.9","esm2017")}("Browser");function ua(){return ua=(0,h.A)(function*(T,g,_){var D;const{BuildInfo:q}=ou();qt(g.sessionId,"AuthEvent did not contain a session ID");const ue=yield function Pu(T){return Yf.apply(this,arguments)}(g.sessionId),Je={};return Ki()?Je.ibi=q.packageName:ho()?Je.apn=q.packageName:Te(T,"operation-not-supported-in-this-environment"),q.displayName&&(Je.appDisplayName=q.displayName),Je.sessionId=ue,xh(T,_,g.type,void 0,null!==(D=g.eventId)&&void 0!==D?D:void 0,Je)}),ua.apply(this,arguments)}function rl(){return(rl=(0,h.A)(function*(T){const{BuildInfo:g}=ou(),_={};Ki()?_.iosBundleId=g.packageName:ho()?_.androidPackageName=g.packageName:Te(T,"operation-not-supported-in-this-environment"),yield kl(T,_)})).apply(this,arguments)}function Td(){return(Td=(0,h.A)(function*(T,g,_){const{cordova:D}=ou();let q=()=>{};try{yield new Promise((ue,Je)=>{let Lt=null;function gn(){var lr;ue();const Oo=null===(lr=D.plugins.browsertab)||void 0===lr?void 0:lr.close;"function"==typeof Oo&&Oo(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Wn(){Lt||(Lt=window.setTimeout(()=>{Je(Oe(T,"redirect-cancelled-by-user"))},2e3))}function fr(){"visible"===(null==document?void 0:document.visibilityState)&&Wn()}g.addPassiveListener(gn),document.addEventListener("resume",Wn,!1),ho()&&document.addEventListener("visibilitychange",fr,!1),q=()=>{g.removePassiveListener(gn),document.removeEventListener("resume",Wn,!1),document.removeEventListener("visibilitychange",fr,!1),Lt&&window.clearTimeout(Lt)}})}finally{q()}})).apply(this,arguments)}function Yf(){return(Yf=(0,h.A)(function*(T){const g=function Cd(T){if(qt(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(T);const g=new ArrayBuffer(T.length),_=new Uint8Array(g);for(let D=0;D<T.length;D++)_[D]=T.charCodeAt(D);return _}(T),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Jf extends fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInitialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInitialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,h.A)(function*(){yield g.initPromise})()}}function vl(T){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,h.A)(function*(T){const g=yield su()._get(Dd(T));return g&&(yield su()._remove(Dd(T))),g})).apply(this,arguments)}function Mu(){const T=[];for(let _=0;_<20;_++){const D=Math.floor(62*Math.random());T.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(D))}return T.join("")}function su(){return Bn(sa)}function Dd(T){return lt("authEvent",T.config.apiKey,T.name)}function Ul(T){if(null==T||!T.includes("?"))return{};const[g,..._]=T.split("?");return(0,le.I9)(_.join("?"))}const Rd=class qg{constructor(){this._redirectPersistence=no,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ei,this._overrideRedirectResult=tu}_initialize(g){var _=this;return(0,h.A)(function*(){const D=g._key();let q=_.eventManagers.get(D);return q||(q=new Jf(g),_.eventManagers.set(D,q),_.attachCallbackListeners(g,q)),q})()}_openPopup(g){Te(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,D,q){var ue=this;return(0,h.A)(function*(){!function Oh(T){var g,_,D,q,ue,Je,Lt,gn,Wn,fr;const lr=ou();Re("function"==typeof(null===(g=null==lr?void 0:lr.universalLinks)||void 0===g?void 0:g.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Re(typeof(null===(_=null==lr?void 0:lr.BuildInfo)||void 0===_?void 0:_.packageName)<"u",T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Re("function"==typeof(null===(ue=null===(q=null===(D=null==lr?void 0:lr.cordova)||void 0===D?void 0:D.plugins)||void 0===q?void 0:q.browsertab)||void 0===ue?void 0:ue.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(gn=null===(Lt=null===(Je=null==lr?void 0:lr.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===gn?void 0:gn.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(fr=null===(Wn=null==lr?void 0:lr.cordova)||void 0===Wn?void 0:Wn.InAppBrowser)||void 0===fr?void 0:fr.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Je=yield ue._initialize(g);yield Je.initialized(),Je.resetRedirect(),function pd(){za.clear()}(),yield ue._originValidation(g);const Lt=function xa(T,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Mu(),postBody:null,tenantId:T.tenantId,error:Oe(T,"no-auth-event")}}(g,D,q);yield function wd(T,g){return su()._set(Dd(T),g)}(g,Lt);const gn=yield function Fl(T,g,_){return ua.apply(this,arguments)}(g,Lt,_),Wn=yield function Qf(T){const{cordova:g}=ou();return new Promise(_=>{g.plugins.browsertab.isAvailable(D=>{let q=null;D?g.plugins.browsertab.openUrl(T):q=g.InAppBrowser.open(T,function Vr(T=(0,le.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),_(q)})})}(gn);return function Ru(T,g,_){return Td.apply(this,arguments)}(g,Je,Wn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function xc(T){return rl.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:D,handleOpenURL:q,BuildInfo:ue}=ou(),Je=setTimeout((0,h.A)(function*(){yield vl(g),_.onEvent(No())}),500),Lt=function(){var fr=(0,h.A)(function*(lr){clearTimeout(Je);const Oo=yield vl(g);let Ga=null;Oo&&null!=lr&&lr.url&&(Ga=function bd(T,g){var _,D;const q=function Lh(T){const g=Ul(T),_=g.link?decodeURIComponent(g.link):void 0,D=Ul(_).link,q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Ul(q).link||q||D||_||T}(g);if(q.includes("/__/auth/callback")){const ue=Ul(q),Je=ue.firebaseError?function ep(T){try{return JSON.parse(T)}catch{return null}}(decodeURIComponent(ue.firebaseError)):null,Lt=null===(D=null===(_=null==Je?void 0:Je.code)||void 0===_?void 0:_.split("auth/"))||void 0===D?void 0:D[1],gn=Lt?Oe(Lt):null;return gn?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:gn,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:q,postBody:null}}return null}(Oo,lr.url)),_.onEvent(Ga||No())});return function(Oo){return fr.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,Lt);const gn=q,Wn=`${ue.packageName.toLowerCase()}://`;ou().handleOpenURL=function(){var fr=(0,h.A)(function*(lr){if(lr.toLowerCase().startsWith(Wn)&&Lt({url:lr}),"function"==typeof gn)try{gn(lr)}catch(Oo){console.error(Oo)}});return function(lr){return fr.apply(this,arguments)}}()}};function No(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}function Na(){var T;return(null===(T=null==self?void 0:self.location)||void 0===T?void 0:T.protocol)||null}function tp(T=(0,le.ZQ)()){return!("file:"!==Na()&&"ionic:"!==Na()&&"capacitor:"!==Na()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function yl(){try{const T=self.localStorage,g=Is();if(T)return T.setItem(g,"1"),T.removeItem(g),!function rp(T=(0,le.ZQ)()){return function Vh(){return(0,le.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Qg(T=(0,le.ZQ)()){return/Edge\/\d+/.test(T)}(T)}()||(0,le.zW)()}catch{return Oc()&&(0,le.zW)()}return!1}function Oc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Il(){return(function ns(){return"http:"===Na()||"https:"===Na()}()||(0,le.sr)()||tp())&&!function np(){return(0,le.lV)()||(0,le.Ll)()}()&&yl()&&!Oc()}function xu(){return tp()&&typeof document<"u"}function El(){return(El=(0,h.A)(function*(){return!!xu()&&new Promise(T=>{const g=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),T(!0)})})})).apply(this,arguments)}const ca={LOCAL:"local",NONE:"none",SESSION:"session"},lu=Re,kc="persistence";function Lc(T){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,h.A)(function*(T){yield T._initializationPromise;const g=Yg(),_=lt(kc,T.config.apiKey,T.name);g&&g.setItem(_,T._getPersistence())})).apply(this,arguments)}function Yg(){var T;try{return(null===(T=function Uh(){return typeof window<"u"?window:null}())||void 0===T?void 0:T.sessionStorage)||null}catch{return null}}const Pd=Re;class Al{constructor(){this.browserResolver=Bn(Su),this.cordovaResolver=Bn(Rd),this.underlyingResolver=null,this._redirectPersistence=no,this._completeRedirectFn=ei,this._overrideRedirectResult=tu}_initialize(g){var _=this;return(0,h.A)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,D,q){var ue=this;return(0,h.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(g,_,D,q)})()}_openRedirect(g,_,D,q){var ue=this;return(0,h.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(g,_,D,q)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return xu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,h.A)(function*(){if(g.underlyingResolver)return;const _=yield function au(){return El.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function fs(T){return T.unwrap()}function jh(T){return Fc(T)}function Fc(T){const{_tokenResponse:g}=T instanceof le.g?T.customData:T;if(!g)return null;if(!(T instanceof le.g)&&"temporaryProof"in g&&"phoneNumber"in g)return Yl.credentialFromResult(T);const _=g.providerId;if(!_||_===Ke.PASSWORD)return null;let D;switch(_){case Ke.GOOGLE:D=io;break;case Ke.FACEBOOK:D=ss;break;case Ke.GITHUB:D=cs;break;case Ke.TWITTER:D=ki;break;default:const{oauthIdToken:q,oauthAccessToken:ue,oauthTokenSecret:Je,pendingToken:Lt,nonce:gn}=g;return ue||Je||q||Lt?Lt?_.startsWith("saml.")?Dr._create(_,Lt):Zn._fromParams({providerId:_,signInMethod:_,pendingToken:Lt,idToken:q,accessToken:ue}):new Uo(_).credential({idToken:q,accessToken:ue,rawNonce:gn}):null}return T instanceof le.g?D.credentialFromError(T):D.credentialFromResult(T)}function da(T,g){return g.catch(_=>{throw _ instanceof le.g&&function zh(T,g){var _;const D=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===(null==g?void 0:g.code))g.resolver=new Vc(T,function Kn(T,g){var _;const D=(0,le.Ku)(T),q=g;return Re(g.customData.operationType,D,"argument-error"),Re(null===(_=q.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),rn._fromError(D,q)}(T,g));else if(D){const q=Fc(g),ue=g;q&&(ue.credential=q,ue.tenantId=D.tenantId||void 0,ue.email=D.email||void 0,ue.phoneNumber=D.phoneNumber||void 0)}}(T,_),_}).then(_=>{const q=_.user;return{operationType:_.operationType,credential:jh(_),additionalUserInfo:pe(_),user:Tl.getOrCreate(q)}})}function ol(T,g){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,h.A)(function*(T,g){const _=yield g;return{verificationId:_.verificationId,confirm:D=>da(T,_.confirm(D))}})).apply(this,arguments)}class Vc{constructor(g,_){this.resolver=_,this.auth=function Y_(T){return T.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return da(fs(this.auth),this.resolver.resolveSignIn(g))}}class Tl{constructor(g){this._delegate=g,this.multiFactor=function ys(T){const g=(0,le.Ku)(T);return Sr.has(g)||Sr.set(g,qr._fromUser(g)),Sr.get(g)}(g)}static getOrCreate(g){return Tl.USER_MAP.has(g)||Tl.USER_MAP.set(g,new Tl(g)),Tl.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,h.A)(function*(){return da(_.auth,X(_._delegate,g))})()}linkWithPhoneNumber(g,_){var D=this;return(0,h.A)(function*(){return ol(D.auth,function Au(T,g,_){return xl.apply(this,arguments)}(D._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,h.A)(function*(){return da(_.auth,function Ih(T,g,_){return dd.apply(this,arguments)}(_._delegate,g,Al))})()}linkWithRedirect(g){var _=this;return(0,h.A)(function*(){return yield Lc(Qn(_.auth)),md(_._delegate,g,Al)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,h.A)(function*(){return da(_.auth,yn(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return ol(this.auth,function mc(T,g,_){return ja.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return da(this.auth,function eu(T,g,_){return la.apply(this,arguments)}(this._delegate,g,Al))}reauthenticateWithRedirect(g){var _=this;return(0,h.A)(function*(){return yield Lc(Qn(_.auth)),Ic(_._delegate,g,Al)})()}sendEmailVerification(g){return function Hr(T,g){return Za.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,h.A)(function*(){return yield function Po(T,g){return Qo.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Ks(T,g){const _=(0,le.Ku)(T);return(0,Ee._isFirebaseServerApp)(_.auth.app)?Promise.reject(Qe(_.auth)):ts(_,g,null)}(this._delegate,g)}updatePassword(g){return function Xs(T,g){return ts((0,le.Ku)(T),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Vs(T,g){return Nl.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function vs(T,g){return Ca.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function ya(T,g,_){return To.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tl.USER_MAP=new WeakMap;const Ou=Re;let Cl=(()=>{class T{constructor(_,D){if(this.app=_,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=_.options;Ou(q,"invalid-api-key",{appName:_.name}),Ou(q,"invalid-api-key",{appName:_.name});const ue=typeof window<"u"?Al:void 0;this._delegate=D.initialize({options:{persistence:Hh(q,_.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(gt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,D){!function st(T,g,_){const D=Qn(T);Re(D._canInitEmulator,D,"emulator-config-failed"),Re(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const q=!(null==_||!_.disableWarnings),ue=Yn(g),{host:Je,port:Lt}=function vr(T){const g=Yn(T),_=/(\/\/)?([^?#/]+)/.exec(T.substr(g.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(D);if(q){const ue=q[1];return{host:ue,port:Ai(D.substr(ue.length+1))}}{const[ue,Je]=D.split(":");return{host:ue,port:Ai(Je)}}}(g);D.config.emulator={url:`${ue}//${Je}${null===Lt?"":`:${Lt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Je,port:Lt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Oi(){function T(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(this._delegate,_,D)}applyActionCode(_){return function Ns(T,g){return Yo.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ko(this._delegate,_)}confirmPasswordReset(_,D){return function Gi(T,g,_){return ds.apply(this,arguments)}(this._delegate,_,D)}createUserWithEmailAndPassword(_,D){var q=this;return(0,h.A)(function*(){return da(q._delegate,function Ba(T,g,_){return Jo.apply(this,arguments)}(q._delegate,_,D))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function cl(T,g){return _s.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Ws(T,g){const _=Eo.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,h.A)(function*(){Ou(Il(),_._delegate,"operation-not-supported-in-this-environment");const D=yield function wu(T,g){return dn.apply(this,arguments)}(_._delegate,Al);return D?da(_._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Zg(T,g){Qn(T)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,D,q){const{next:ue,error:Je,complete:Lt}=Jg(_,D,q);return this._delegate.onAuthStateChanged(ue,Je,Lt)}onIdTokenChanged(_,D,q){const{next:ue,error:Je,complete:Lt}=Jg(_,D,q);return this._delegate.onIdTokenChanged(ue,Je,Lt)}sendSignInLinkToEmail(_,D){return function Mo(T,g,_){return Gs.apply(this,arguments)}(this._delegate,_,D)}sendPasswordResetEmail(_,D){return function Hi(T,g,_){return ao.apply(this,arguments)}(this._delegate,_,D||void 0)}setPersistence(_){var D=this;return(0,h.A)(function*(){let q;switch(function Bl(T,g){lu(Object.values(ca).includes(g),T,"invalid-persistence-type"),(0,le.lV)()?lu(g!==ca.SESSION,T,"unsupported-persistence-type"):(0,le.Ll)()?lu(g===ca.NONE,T,"unsupported-persistence-type"):Oc()?lu(g===ca.NONE||g===ca.LOCAL&&(0,le.zW)(),T,"unsupported-persistence-type"):lu(g===ca.NONE||yl(),T,"unsupported-persistence-type")}(D._delegate,_),_){case ca.SESSION:q=no;break;case ca.LOCAL:q=(yield Bn(Ql)._isAvailable())?Ql:sa;break;case ca.NONE:q=fi;break;default:return Te("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return da(this._delegate,function Ss(T){return Rs.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return da(this._delegate,V(this._delegate,_))}signInWithCustomToken(_){return da(this._delegate,function ji(T,g){return go.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,D){return da(this._delegate,function Xo(T,g,_){return(0,Ee._isFirebaseServerApp)(T.app)?Promise.reject(Qe(T)):V((0,le.Ku)(T),bs.credential(g,_)).catch(function(){var D=(0,h.A)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Mr(T),q});return function(q){return D.apply(this,arguments)}}())}(this._delegate,_,D))}signInWithEmailLink(_,D){return da(this._delegate,function ia(T,g,_){return $o.apply(this,arguments)}(this._delegate,_,D))}signInWithPhoneNumber(_,D){return ol(this._delegate,function Ls(T,g,_){return Fs.apply(this,arguments)}(this._delegate,_,D))}signInWithPopup(_){var D=this;return(0,h.A)(function*(){return Ou(Il(),D._delegate,"operation-not-supported-in-this-environment"),da(D._delegate,function _c(T,g,_){return vc.apply(this,arguments)}(D._delegate,_,Al))})()}signInWithRedirect(_){var D=this;return(0,h.A)(function*(){return Ou(Il(),D._delegate,"operation-not-supported-in-this-environment"),yield Lc(D._delegate),Eh(D._delegate,_,Al)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function ra(T,g){return Ua.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=ca,T})();function Jg(T,g,_){let D=T;"function"!=typeof T&&({next:D,error:g,complete:_}=T);const q=D;return{next:Je=>q(Je&&Tl.getOrCreate(Je)),error:g,complete:_}}function Hh(T,g){const _=function $h(T,g){const _=Yg();if(!_)return[];const D=lt(kc,T,g);switch(_.getItem(D)){case ca.NONE:return[fi];case ca.LOCAL:return[Ql,no];case ca.SESSION:return[no];default:return[]}}(T,g);if(typeof self<"u"&&!_.includes(Ql)&&_.push(Ql),typeof window<"u")for(const D of[sa,no])_.includes(D)||_.push(D);return _.includes(fi)||_.push(fi),_}class Oa{constructor(){this.providerId="phone",this._delegate=new Yl(fs(p.A.auth()))}static credential(g,_){return Yl.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Oa.PHONE_SIGN_IN_METHOD=Yl.PHONE_SIGN_IN_METHOD,Oa.PROVIDER_ID=Yl.PROVIDER_ID;const ku=Re;class ip{constructor(g,_,D=p.A.app()){var q;ku(null===(q=D.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new qo(D.auth(),g,_),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J_(T){T.INTERNAL.registerComponent(new Me.uA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),D=g.getProvider("auth");return new Cl(_,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bs,FacebookAuthProvider:ss,GithubAuthProvider:cs,GoogleAuthProvider:io,OAuthProvider:Uo,SAMLAuthProvider:yo,PhoneAuthProvider:Oa,PhoneMultiFactorGenerator:qf,RecaptchaVerifier:ip,TwitterAuthProvider:ki,Auth:Cl,AuthCredential:Lr,Error:le.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.5.14")}(p.A)},4341:(Nn,wt,k)=>{"use strict";k.d(wt,{YN:()=>xs,zX:()=>os,VZ:()=>Uo,cz:()=>Qe,kq:()=>vt,vO:()=>Bt,BC:()=>zn,cb:()=>Pn,cV:()=>_n,vS:()=>yr,YS:()=>cs,qT:()=>to});var h=k(4438),p=k(177),Ee=k(8455),le=k(1985),Se=k(3073),ce=k(8750),Me=k(3794),We=k(4360),Ke=k(6450),be=k(8496),Ge=k(1413),je=k(6354);let Ze=(()=>{var Z;class V{constructor(X,ve){this._renderer=X,this._elementRef=ve,this.onChange=yn=>{},this.onTouched=()=>{}}setProperty(X,ve){this._renderer.setProperty(this._elementRef.nativeElement,X,ve)}registerOnTouched(X){this.onTouched=X}registerOnChange(X){this.onChange=X}setDisabledState(X){this.setProperty("disabled",X)}}return(Z=V).\u0275fac=function(X){return new(X||Z)(h.rXU(h.sFG),h.rXU(h.aKT))},Z.\u0275dir=h.FsC({type:Z}),V})(),gt=(()=>{var Z;class V extends Ze{}return(Z=V).\u0275fac=(()=>{let re;return function(ve){return(re||(re=h.xGo(Z)))(ve||Z)}})(),Z.\u0275dir=h.FsC({type:Z,features:[h.Vt3]}),V})();const vt=new h.nKC(""),Dt={provide:vt,useExisting:(0,h.Rfq)(()=>Te),multi:!0},Ae=new h.nKC("");let Te=(()=>{var Z;class V extends Ze{constructor(X,ve,yn){super(X,ve),this._compositionMode=yn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yt(){const Z=(0,p.QT)()?(0,p.QT)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(X){this.setProperty("value",null==X?"":X)}_handleInput(X){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(X)}_compositionStart(){this._composing=!0}_compositionEnd(X){this._composing=!1,this._compositionMode&&this.onChange(X)}}return(Z=V).\u0275fac=function(X){return new(X||Z)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Ae,8))},Z.\u0275dir=h.FsC({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(X,ve){1&X&&h.bIt("input",function(_r){return ve._handleInput(_r.target.value)})("blur",function(){return ve.onTouched()})("compositionstart",function(){return ve._compositionStart()})("compositionend",function(_r){return ve._compositionEnd(_r.target.value)})},features:[h.Jv_([Dt]),h.Vt3]}),V})();function Oe(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}const Qe=new h.nKC(""),Mt=new h.nKC("");function Cn(Z){return Oe(Z.value)?{required:!0}:null}function Ie(Z){return null}function te(Z){return null!=Z}function _e(Z){return(0,h.jNT)(Z)?(0,Ee.H)(Z):Z}function Le(Z){let V={};return Z.forEach(re=>{V=null!=re?{...V,...re}:V}),0===Object.keys(V).length?null:V}function He(Z,V){return V.map(re=>re(Z))}function rt(Z){return Z.map(V=>function $e(Z){return!Z.validate}(V)?V:re=>V.validate(re))}function Kt(Z){return null!=Z?function an(Z){if(!Z)return null;const V=Z.filter(te);return 0==V.length?null:function(re){return Le(He(re,V))}}(rt(Z)):null}function ut(Z){return null!=Z?function $n(Z){if(!Z)return null;const V=Z.filter(te);return 0==V.length?null:function(re){return function me(...Z){const V=(0,Me.ms)(Z),{args:re,keys:X}=(0,Se.D)(Z),ve=new le.c(yn=>{const{length:_r}=re;if(!_r)return void yn.complete();const li=new Array(_r);let zi=_r,ji=_r;for(let go=0;go<_r;go++){let so=!1;(0,ce.Tg)(re[go]).subscribe((0,We._)(yn,Ao=>{so||(so=!0,ji--),li[go]=Ao},()=>zi--,void 0,()=>{(!zi||!so)&&(ji||yn.next(X?(0,be.e)(X,li):li),yn.complete())}))}});return V?ve.pipe((0,Ke.I)(V)):ve}(He(re,V).map(_e)).pipe((0,je.T)(Le))}}(rt(Z)):null}function Ct(Z,V){return null===Z?[V]:Array.isArray(Z)?[...Z,V]:[Z,V]}function Jt(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function ln(Z,V){return Array.isArray(Z)?Z.includes(V):Z===V}function sr(Z,V){const re=Jt(V);return Jt(Z).forEach(ve=>{ln(re,ve)||re.push(ve)}),re}function cn(Z,V){return Jt(V).filter(re=>!ln(Z,re))}class Ne{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V=void 0){this.control&&this.control.reset(V)}hasError(V,re){return!!this.control&&this.control.hasError(V,re)}getError(V,re){return this.control?this.control.getError(V,re):null}}class Fe extends Ne{get formDirective(){return null}get path(){return null}}class Bt extends Ne{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class St{constructor(V){this._cd=V}get isTouched(){var V,re,X;return null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||null===(re=V._touched)||void 0===re||re.call(V),!(null===(X=this._cd)||void 0===X||null===(X=X.control)||void 0===X||!X.touched)}get isUntouched(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.untouched)}get isPristine(){var V,re,X;return null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||null===(re=V._pristine)||void 0===re||re.call(V),!(null===(X=this._cd)||void 0===X||null===(X=X.control)||void 0===X||!X.pristine)}get isDirty(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.dirty)}get isValid(){var V,re,X;return null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||null===(re=V._status)||void 0===re||re.call(V),!(null===(X=this._cd)||void 0===X||null===(X=X.control)||void 0===X||!X.valid)}get isInvalid(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.invalid)}get isPending(){var V;return!(null===(V=this._cd)||void 0===V||null===(V=V.control)||void 0===V||!V.pending)}get isSubmitted(){var V,re,X;return null===(V=this._cd)||void 0===V||null===(re=V._submitted)||void 0===re||re.call(V),!(null===(X=this._cd)||void 0===X||!X.submitted)}}let zn=(()=>{var Z;class V extends St{constructor(X){super(X)}}return(Z=V).\u0275fac=function(X){return new(X||Z)(h.rXU(Bt,2))},Z.\u0275dir=h.FsC({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(X,ve){2&X&&h.AVh("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)},features:[h.Vt3]}),V})(),Pn=(()=>{var Z;class V extends St{constructor(X){super(X)}}return(Z=V).\u0275fac=function(X){return new(X||Z)(h.rXU(Fe,10))},Z.\u0275dir=h.FsC({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(X,ve){2&X&&h.AVh("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)("ng-submitted",ve.isSubmitted)},features:[h.Vt3]}),V})();const Xt="VALID",ct="INVALID",dt="PENDING",vn="DISABLED";class De{}class xe extends De{constructor(V,re){super(),this.value=V,this.source=re}}class tt extends De{constructor(V,re){super(),this.pristine=V,this.source=re}}class kt extends De{constructor(V,re){super(),this.touched=V,this.source=re}}class qe extends De{constructor(V,re){super(),this.status=V,this.source=re}}function Br(Z){return(Jn(Z)?Z.validators:Z)||null}function lt(Z,V){return(Jn(V)?V.asyncValidators:Z)||null}function Jn(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class tr{constructor(V,re){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,h.EWP)(()=>this.statusReactive()),this.statusReactive=(0,h.vPA)(void 0),this._pristine=(0,h.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,h.vPA)(!0),this._touched=(0,h.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,h.vPA)(!1),this._events=new Ge.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(re)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get status(){return(0,h.O8t)(this.statusReactive)}set status(V){(0,h.O8t)(()=>this.statusReactive.set(V))}get valid(){return this.status===Xt}get invalid(){return this.status===ct}get pending(){return this.status==dt}get disabled(){return this.status===vn}get enabled(){return this.status!==vn}get pristine(){return(0,h.O8t)(this.pristineReactive)}set pristine(V){(0,h.O8t)(()=>this.pristineReactive.set(V))}get dirty(){return!this.pristine}get touched(){return(0,h.O8t)(this.touchedReactive)}set touched(V){(0,h.O8t)(()=>this.touchedReactive.set(V))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(sr(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(sr(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(cn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(cn(V,this._rawAsyncValidators))}hasValidator(V){return ln(this._rawValidators,V)}hasAsyncValidator(V){return ln(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){var re;const X=!1===this.touched;this.touched=!0;const ve=null!==(re=V.sourceControl)&&void 0!==re?re:this;this._parent&&!V.onlySelf&&this._parent.markAsTouched({...V,sourceControl:ve}),X&&!1!==V.emitEvent&&this._events.next(new kt(!0,ve))}markAllAsTouched(V={}){this.markAsTouched({onlySelf:!0,emitEvent:V.emitEvent,sourceControl:this}),this._forEachChild(re=>re.markAllAsTouched(V))}markAsUntouched(V={}){var re;const X=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ve=null!==(re=V.sourceControl)&&void 0!==re?re:this;this._forEachChild(yn=>{yn.markAsUntouched({onlySelf:!0,emitEvent:V.emitEvent,sourceControl:ve})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V,ve),X&&!1!==V.emitEvent&&this._events.next(new kt(!1,ve))}markAsDirty(V={}){var re;const X=!0===this.pristine;this.pristine=!1;const ve=null!==(re=V.sourceControl)&&void 0!==re?re:this;this._parent&&!V.onlySelf&&this._parent.markAsDirty({...V,sourceControl:ve}),X&&!1!==V.emitEvent&&this._events.next(new tt(!1,ve))}markAsPristine(V={}){var re;const X=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ve=null!==(re=V.sourceControl)&&void 0!==re?re:this;this._forEachChild(yn=>{yn.markAsPristine({onlySelf:!0,emitEvent:V.emitEvent})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V,ve),X&&!1!==V.emitEvent&&this._events.next(new tt(!0,ve))}markAsPending(V={}){var re;this.status=dt;const X=null!==(re=V.sourceControl)&&void 0!==re?re:this;!1!==V.emitEvent&&(this._events.next(new qe(this.status,X)),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.markAsPending({...V,sourceControl:X})}disable(V={}){var re;const X=this._parentMarkedDirty(V.onlySelf);this.status=vn,this.errors=null,this._forEachChild(yn=>{yn.disable({...V,onlySelf:!0})}),this._updateValue();const ve=null!==(re=V.sourceControl)&&void 0!==re?re:this;!1!==V.emitEvent&&(this._events.next(new xe(this.value,ve)),this._events.next(new qe(this.status,ve)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:X},this),this._onDisabledChange.forEach(yn=>yn(!0))}enable(V={}){const re=this._parentMarkedDirty(V.onlySelf);this.status=Xt,this._forEachChild(X=>{X.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:re},this),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(V,re){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine({},re),this._parent._updateTouched({},re))}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){var re;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ve=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===dt)&&this._runAsyncValidator(ve,V.emitEvent)}const X=null!==(re=V.sourceControl)&&void 0!==re?re:this;!1!==V.emitEvent&&(this._events.next(new xe(this.value,X)),this._events.next(new qe(this.status,X)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity({...V,sourceControl:X})}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(re=>re._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vn:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V,re){if(this.asyncValidator){this.status=dt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==re};const X=_e(this.asyncValidator(this));this._asyncValidationSubscription=X.subscribe(ve=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ve,{emitEvent:re,shouldHaveEmitted:V})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var V,re;this._asyncValidationSubscription.unsubscribe();const X=null!==(V=null===(re=this._hasOwnPendingAsyncValidator)||void 0===re?void 0:re.emitEvent)&&void 0!==V&&V;return this._hasOwnPendingAsyncValidator=null,X}return!1}setErrors(V,re={}){this.errors=V,this._updateControlsErrors(!1!==re.emitEvent,this,re.shouldHaveEmitted)}get(V){let re=V;return null==re||(Array.isArray(re)||(re=re.split(".")),0===re.length)?null:re.reduce((X,ve)=>X&&X._find(ve),this)}getError(V,re){const X=re?this.get(re):this;return X&&X.errors?X.errors[V]:null}hasError(V,re){return!!this.getError(V,re)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V,re,X){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),(V||X)&&this._events.next(new qe(this.status,re)),this._parent&&this._parent._updateControlsErrors(V,re,X)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?vn:this.errors?ct:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dt)?dt:this._anyControlsHaveStatus(ct)?ct:Xt}_anyControlsHaveStatus(V){return this._anyControls(re=>re.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V,re){const X=!this._anyControlsDirty(),ve=this.pristine!==X;this.pristine=X,this._parent&&!V.onlySelf&&this._parent._updatePristine(V,re),ve&&this._events.next(new tt(this.pristine,re))}_updateTouched(V={},re){this.touched=this._anyControlsTouched(),this._events.next(new kt(this.touched,re)),this._parent&&!V.onlySelf&&this._parent._updateTouched(V,re)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){Jn(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function fi(Z){return Array.isArray(Z)?Kt(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function zr(Z){return Array.isArray(Z)?ut(Z):Z||null}(this._rawAsyncValidators)}}class Wi extends tr{constructor(V,re,X){super(Br(re),lt(X,re)),this.controls=V,this._initObservables(),this._setUpdateStrategy(re),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,re){return this.controls[V]?this.controls[V]:(this.controls[V]=re,re.setParent(this),re._registerOnCollectionChange(this._onCollectionChange),re)}addControl(V,re,X={}){this.registerControl(V,re),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(V,re={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}setControl(V,re,X={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],re&&this.registerControl(V,re),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,re={}){(function Ii(Z,V,re){Z._forEachChild((X,ve)=>{if(void 0===re[ve])throw new h.wOt(1002,"")})})(this,0,V),Object.keys(V).forEach(X=>{(function pi(Z,V,re){const X=Z.controls;if(!(V?Object.keys(X):X).length)throw new h.wOt(1e3,"");if(!X[re])throw new h.wOt(1001,"")})(this,!0,X),this.controls[X].setValue(V[X],{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re)}patchValue(V,re={}){null!=V&&(Object.keys(V).forEach(X=>{const ve=this.controls[X];ve&&ve.patchValue(V[X],{onlySelf:!0,emitEvent:re.emitEvent})}),this.updateValueAndValidity(re))}reset(V={},re={}){this._forEachChild((X,ve)=>{X.reset(V?V[ve]:null,{onlySelf:!0,emitEvent:re.emitEvent})}),this._updatePristine(re,this),this._updateTouched(re,this),this.updateValueAndValidity(re)}getRawValue(){return this._reduceChildren({},(V,re,X)=>(V[X]=re.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(re,X)=>!!X._syncPendingControls()||re);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(re=>{const X=this.controls[re];X&&V(X,re)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[re,X]of Object.entries(this.controls))if(this.contains(re)&&V(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(re,X,ve)=>((X.enabled||this.disabled)&&(re[ve]=X.value),re))}_reduceChildren(V,re){let X=V;return this._forEachChild((ve,yn)=>{X=re(X,ve,yn)}),X}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}const zt=new h.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ht}),ht="always";function xn(Z,V,re=ht){var X,ve;ur(Z,V),V.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===re)&&(null===(X=(ve=V.valueAccessor).setDisabledState)||void 0===X||X.call(ve,Z.disabled)),function ar(Z,V){V.valueAccessor.registerOnChange(re=>{Z._pendingValue=re,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Er(Z,V)})}(Z,V),function Vi(Z,V){const re=(X,ve)=>{V.valueAccessor.writeValue(X),ve&&V.viewToModelUpdate(X)};Z.registerOnChange(re),V._registerOnDestroy(()=>{Z._unregisterOnChange(re)})}(Z,V),function Qn(Z,V){V.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Er(Z,V),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,V),function Sn(Z,V){if(V.valueAccessor.setDisabledState){const re=X=>{V.valueAccessor.setDisabledState(X)};Z.registerOnDisabledChange(re),V._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(re)})}}(Z,V)}function Zt(Z,V){Z.forEach(re=>{re.registerOnValidatorChange&&re.registerOnValidatorChange(V)})}function ur(Z,V){const re=function Gn(Z){return Z._rawValidators}(Z);null!==V.validator?Z.setValidators(Ct(re,V.validator)):"function"==typeof re&&Z.setValidators([re]);const X=function ir(Z){return Z._rawAsyncValidators}(Z);null!==V.asyncValidator?Z.setAsyncValidators(Ct(X,V.asyncValidator)):"function"==typeof X&&Z.setAsyncValidators([X]);const ve=()=>Z.updateValueAndValidity();Zt(V._rawValidators,ve),Zt(V._rawAsyncValidators,ve)}function Er(Z,V){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}const It={provide:Fe,useExisting:(0,h.Rfq)(()=>_n)},nn=Promise.resolve();let _n=(()=>{var Z;class V extends Fe{get submitted(){return(0,h.O8t)(this.submittedReactive)}constructor(X,ve,yn){super(),this.callSetDisabledState=yn,this._submitted=(0,h.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,h.vPA)(!1),this._directives=new Set,this.ngSubmit=new h.bkB,this.form=new Wi({},Kt(X),ut(ve))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(X){nn.then(()=>{const ve=this._findContainer(X.path);X.control=ve.registerControl(X.name,X.control),xn(X.control,X,this.callSetDisabledState),X.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(X)})}getControl(X){return this.form.get(X.path)}removeControl(X){nn.then(()=>{const ve=this._findContainer(X.path);ve&&ve.removeControl(X.name),this._directives.delete(X)})}addFormGroup(X){nn.then(()=>{const ve=this._findContainer(X.path),yn=new Wi({});(function Ur(Z,V){ur(Z,V)})(yn,X),ve.registerControl(X.name,yn),yn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(X){nn.then(()=>{const ve=this._findContainer(X.path);ve&&ve.removeControl(X.name)})}getFormGroup(X){return this.form.get(X.path)}updateModel(X,ve){nn.then(()=>{this.form.get(X.path).setValue(ve)})}setValue(X){this.control.setValue(X)}onSubmit(X){var ve;return this.submittedReactive.set(!0),function Io(Z,V){Z._syncPendingControls(),V.forEach(re=>{const X=re.control;"submit"===X.updateOn&&X._pendingChange&&(re.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(X),"dialog"===(null==X||null===(ve=X.target)||void 0===ve?void 0:ve.method)}onReset(){this.resetForm()}resetForm(X=void 0){this.form.reset(X),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(X){return X.pop(),X.length?this.form.get(X):this.form}}return(Z=V).\u0275fac=function(X){return new(X||Z)(h.rXU(Qe,10),h.rXU(Mt,10),h.rXU(zt,8))},Z.\u0275dir=h.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(X,ve){1&X&&h.bIt("submit",function(_r){return ve.onSubmit(_r)})("reset",function(){return ve.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([It]),h.Vt3]}),V})();function Hn(Z,V){const re=Z.indexOf(V);re>-1&&Z.splice(re,1)}function st(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const Yn=class extends tr{constructor(V=null,re,X){super(Br(re),lt(X,re)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(re),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jn(re)&&(re.nonNullable||re.initialValueIsDefault)&&(this.defaultValue=st(V)?V.value:V)}setValue(V,re={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==re.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==re.emitViewToModelChange)),this.updateValueAndValidity(re)}patchValue(V,re={}){this.setValue(V,re)}reset(V=this.defaultValue,re={}){this._applyFormState(V),this.markAsPristine(re),this.markAsUntouched(re),this.setValue(this.value,re),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Hn(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Hn(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){st(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}},ui={provide:Bt,useExisting:(0,h.Rfq)(()=>yr)},Kr=Promise.resolve();let yr=(()=>{var Z;class V extends Bt{constructor(X,ve,yn,_r,li,zi){super(),this._changeDetectorRef=li,this.callSetDisabledState=zi,this.control=new Yn,this._registered=!1,this.name="",this.update=new h.bkB,this._parent=X,this._setValidators(ve),this._setAsyncValidators(yn),this.valueAccessor=function oe(Z,V){if(!V)return null;let re,X,ve;return Array.isArray(V),V.forEach(yn=>{yn.constructor===Te?re=yn:function Go(Z){return Object.getPrototypeOf(Z.constructor)===gt}(yn)?X=yn:ve=yn}),ve||X||re||null}(0,_r)}ngOnChanges(X){if(this._checkForErrors(),!this._registered||"name"in X){if(this._registered&&(this._checkName(),this.formDirective)){const ve=X.name.previousValue;this.formDirective.removeControl({name:ve,path:this._getPath(ve)})}this._setUpControl()}"isDisabled"in X&&this._updateDisabled(X),function Ho(Z,V){if(!Z.hasOwnProperty("model"))return!1;const re=Z.model;return!!re.isFirstChange()||!Object.is(V,re.currentValue)}(X,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(X){this.viewModel=X,this.update.emit(X)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(X){Kr.then(()=>{var ve;this.control.setValue(X,{emitViewToModelChange:!1}),null===(ve=this._changeDetectorRef)||void 0===ve||ve.markForCheck()})}_updateDisabled(X){const ve=X.isDisabled.currentValue,yn=0!==ve&&(0,h.L39)(ve);Kr.then(()=>{var _r;yn&&!this.control.disabled?this.control.disable():!yn&&this.control.disabled&&this.control.enable(),null===(_r=this._changeDetectorRef)||void 0===_r||_r.markForCheck()})}_getPath(X){return this._parent?function on(Z,V){return[...V.path,Z]}(X,this._parent):[X]}}return(Z=V).\u0275fac=function(X){return new(X||Z)(h.rXU(Fe,9),h.rXU(Qe,10),h.rXU(Mt,10),h.rXU(vt,10),h.rXU(h.gRc,8),h.rXU(zt,8))},Z.\u0275dir=h.FsC({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.Jv_([ui]),h.Vt3,h.OA$]}),V})(),to=(()=>{var Z;class V{}return(Z=V).\u0275fac=function(X){return new(X||Z)},Z.\u0275dir=h.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();function Eo(Z){return"number"==typeof Z?Z:parseFloat(Z)}let Zo=(()=>{var Z;class V{constructor(){this._validator=Ie}ngOnChanges(X){if(this.inputName in X){const ve=this.normalizeInput(X[this.inputName].currentValue);this._enabled=this.enabled(ve),this._validator=this._enabled?this.createValidator(ve):Ie,this._onChange&&this._onChange()}}validate(X){return this._validator(X)}registerOnValidatorChange(X){this._onChange=X}enabled(X){return null!=X}}return(Z=V).\u0275fac=function(X){return new(X||Z)},Z.\u0275dir=h.FsC({type:Z,features:[h.OA$]}),V})();const bs={provide:Qe,useExisting:(0,h.Rfq)(()=>os),multi:!0};let os=(()=>{var Z;class V extends Zo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=X=>Eo(X),this.createValidator=X=>function qt(Z){return V=>{if(Oe(V.value)||Oe(Z))return null;const re=parseFloat(V.value);return!isNaN(re)&&re>Z?{max:{max:Z,actual:V.value}}:null}}(X)}}return(Z=V).\u0275fac=(()=>{let re;return function(ve){return(re||(re=h.xGo(Z)))(ve||Z)}})(),Z.\u0275dir=h.FsC({type:Z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(X,ve){2&X&&h.BMQ("max",ve._enabled?ve.max:null)},inputs:{max:"max"},features:[h.Jv_([bs]),h.Vt3]}),V})();const Xi={provide:Qe,useExisting:(0,h.Rfq)(()=>Uo),multi:!0};let Uo=(()=>{var Z;class V extends Zo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=X=>Eo(X),this.createValidator=X=>function tn(Z){return V=>{if(Oe(V.value)||Oe(Z))return null;const re=parseFloat(V.value);return!isNaN(re)&&re<Z?{min:{min:Z,actual:V.value}}:null}}(X)}}return(Z=V).\u0275fac=(()=>{let re;return function(ve){return(re||(re=h.xGo(Z)))(ve||Z)}})(),Z.\u0275dir=h.FsC({type:Z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(X,ve){2&X&&h.BMQ("min",ve._enabled?ve.min:null)},inputs:{min:"min"},features:[h.Jv_([Xi]),h.Vt3]}),V})();const ss={provide:Qe,useExisting:(0,h.Rfq)(()=>cs),multi:!0};let cs=(()=>{var Z;class V extends Zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.L39,this.createValidator=X=>Cn}enabled(X){return X}}return(Z=V).\u0275fac=(()=>{let re;return function(ve){return(re||(re=h.xGo(Z)))(ve||Z)}})(),Z.\u0275dir=h.FsC({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(X,ve){2&X&&h.BMQ("required",ve._enabled?"":null)},inputs:{required:"required"},features:[h.Jv_([ss]),h.Vt3]}),V})(),zs=(()=>{var Z;class V{}return(Z=V).\u0275fac=function(X){return new(X||Z)},Z.\u0275mod=h.$C({type:Z}),Z.\u0275inj=h.G2t({}),V})(),xs=(()=>{var Z;class V{static withConfig(X){var ve;return{ngModule:V,providers:[{provide:zt,useValue:null!==(ve=X.callSetDisabledState)&&void 0!==ve?ve:ht}]}}}return(Z=V).\u0275fac=function(X){return new(X||Z)},Z.\u0275mod=h.$C({type:Z}),Z.\u0275inj=h.G2t({imports:[zs]}),V})()},345:(Nn,wt,k)=>{"use strict";k.d(wt,{Bb:()=>ir,hE:()=>sr,sG:()=>$n});var h=k(177),p=k(4438);class Ee extends h.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends Ee{static makeCurrent(){(0,h.ZD)(new le)}onAndCancel(_t,Xt,ct){return _t.addEventListener(Xt,ct),()=>{_t.removeEventListener(Xt,ct)}}dispatchEvent(_t,Xt){_t.dispatchEvent(Xt)}remove(_t){_t.remove()}createElement(_t,Xt){return(Xt=Xt||this.getDefaultDocument()).createElement(_t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_t){return _t.nodeType===Node.ELEMENT_NODE}isShadowRoot(_t){return _t instanceof DocumentFragment}getGlobalEventTarget(_t,Xt){return"window"===Xt?window:"document"===Xt?_t:"body"===Xt?_t.body:null}getBaseHref(_t){const Xt=function ce(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==Xt?null:function Me(Wt){return new URL(Wt,document.baseURI).pathname}(Xt)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(_t){return(0,h._b)(document.cookie,_t)}}let Se=null,Ke=(()=>{var Wt;class _t{build(){return new XMLHttpRequest}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac}),_t})();const be=new p.nKC("");let me=(()=>{var Wt;class _t{constructor(ct,dt){this._zone=dt,this._eventNameToPlugin=new Map,ct.forEach(vn=>{vn.manager=this}),this._plugins=ct.slice().reverse()}addEventListener(ct,dt,vn){return this._findPluginFor(dt).addEventListener(ct,dt,vn)}getZone(){return this._zone}_findPluginFor(ct){let dt=this._eventNameToPlugin.get(ct);if(dt)return dt;if(dt=this._plugins.find(De=>De.supports(ct)),!dt)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(ct,dt),dt}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(be),p.KVO(p.SKi))},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac}),_t})();class Ge{constructor(_t){this._doc=_t}}const je="ng-app-id";let Ze=(()=>{var Wt;class _t{constructor(ct,dt,vn,De={}){this.doc=ct,this.appId=dt,this.nonce=vn,this.platformId=De,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.Vy)(De),this.resetHostNodes()}addStyles(ct){for(const dt of ct)1===this.changeUsageCount(dt,1)&&this.onStyleAdded(dt)}removeStyles(ct){for(const dt of ct)this.changeUsageCount(dt,-1)<=0&&this.onStyleRemoved(dt)}ngOnDestroy(){const ct=this.styleNodesInDOM;ct&&(ct.forEach(dt=>dt.remove()),ct.clear());for(const dt of this.getAllStyles())this.onStyleRemoved(dt);this.resetHostNodes()}addHost(ct){this.hostNodes.add(ct);for(const dt of this.getAllStyles())this.addStyleToHost(ct,dt)}removeHost(ct){this.hostNodes.delete(ct)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ct){for(const dt of this.hostNodes)this.addStyleToHost(dt,ct)}onStyleRemoved(ct){var dt;const vn=this.styleRef;null===(dt=vn.get(ct))||void 0===dt||null===(dt=dt.elements)||void 0===dt||dt.forEach(De=>De.remove()),vn.delete(ct)}collectServerRenderedStyles(){var ct;const dt=null===(ct=this.doc.head)||void 0===ct?void 0:ct.querySelectorAll(`style[${je}="${this.appId}"]`);if(null!=dt&&dt.length){const vn=new Map;return dt.forEach(De=>{null!=De.textContent&&vn.set(De.textContent,De)}),vn}return null}changeUsageCount(ct,dt){const vn=this.styleRef;if(vn.has(ct)){const De=vn.get(ct);return De.usage+=dt,De.usage}return vn.set(ct,{usage:dt,elements:[]}),dt}getStyleElement(ct,dt){const vn=this.styleNodesInDOM,De=null==vn?void 0:vn.get(dt);if((null==De?void 0:De.parentNode)===ct)return vn.delete(dt),De.removeAttribute(je),De;{const xe=this.doc.createElement("style");return this.nonce&&xe.setAttribute("nonce",this.nonce),xe.textContent=dt,this.platformIsServer&&xe.setAttribute(je,this.appId),ct.appendChild(xe),xe}}addStyleToHost(ct,dt){var vn;const De=this.getStyleElement(ct,dt),xe=this.styleRef,tt=null===(vn=xe.get(dt))||void 0===vn?void 0:vn.elements;tt?tt.push(De):xe.set(dt,{elements:[De],usage:1})}resetHostNodes(){const ct=this.hostNodes;ct.clear(),ct.add(this.doc.head)}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(h.qQ),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac}),_t})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vt=/%COMP%/g,Ae=new p.nKC("",{providedIn:"root",factory:()=>!0});function at(Wt,_t){return _t.map(Xt=>Xt.replace(vt,Wt))}let Qe=(()=>{var Wt;class _t{constructor(ct,dt,vn,De,xe,tt,kt,qe=null){this.eventManager=ct,this.sharedStylesHost=dt,this.appId=vn,this.removeStylesOnCompDestroy=De,this.doc=xe,this.platformId=tt,this.ngZone=kt,this.nonce=qe,this.rendererByCompId=new Map,this.platformIsServer=(0,h.Vy)(tt),this.defaultRenderer=new Mt(ct,xe,kt,this.platformIsServer)}createRenderer(ct,dt){if(!ct||!dt)return this.defaultRenderer;this.platformIsServer&&dt.encapsulation===p.gXe.ShadowDom&&(dt={...dt,encapsulation:p.gXe.Emulated});const vn=this.getOrCreateRenderer(ct,dt);return vn instanceof jt?vn.applyToHost(ct):vn instanceof Cn&&vn.applyStyles(),vn}getOrCreateRenderer(ct,dt){const vn=this.rendererByCompId;let De=vn.get(dt.id);if(!De){const xe=this.doc,tt=this.ngZone,kt=this.eventManager,qe=this.sharedStylesHost,Dn=this.removeStylesOnCompDestroy,Bn=this.platformIsServer;switch(dt.encapsulation){case p.gXe.Emulated:De=new jt(kt,qe,dt,this.appId,Dn,xe,tt,Bn);break;case p.gXe.ShadowDom:return new qt(kt,qe,ct,dt,xe,tt,this.nonce,Bn);default:De=new Cn(kt,qe,dt,Dn,xe,tt,Bn)}vn.set(dt.id,De)}return De}ngOnDestroy(){this.rendererByCompId.clear()}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(me),p.KVO(Ze),p.KVO(p.sZ2),p.KVO(Ae),p.KVO(h.qQ),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac}),_t})();class Mt{constructor(_t,Xt,ct,dt){this.eventManager=_t,this.doc=Xt,this.ngZone=ct,this.platformIsServer=dt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(_t,Xt){return Xt?this.doc.createElementNS(gt[Xt]||Xt,_t):this.doc.createElement(_t)}createComment(_t){return this.doc.createComment(_t)}createText(_t){return this.doc.createTextNode(_t)}appendChild(_t,Xt){(tn(_t)?_t.content:_t).appendChild(Xt)}insertBefore(_t,Xt,ct){_t&&(tn(_t)?_t.content:_t).insertBefore(Xt,ct)}removeChild(_t,Xt){Xt.remove()}selectRootElement(_t,Xt){let ct="string"==typeof _t?this.doc.querySelector(_t):_t;if(!ct)throw new p.wOt(-5104,!1);return Xt||(ct.textContent=""),ct}parentNode(_t){return _t.parentNode}nextSibling(_t){return _t.nextSibling}setAttribute(_t,Xt,ct,dt){if(dt){Xt=dt+":"+Xt;const vn=gt[dt];vn?_t.setAttributeNS(vn,Xt,ct):_t.setAttribute(Xt,ct)}else _t.setAttribute(Xt,ct)}removeAttribute(_t,Xt,ct){if(ct){const dt=gt[ct];dt?_t.removeAttributeNS(dt,Xt):_t.removeAttribute(`${ct}:${Xt}`)}else _t.removeAttribute(Xt)}addClass(_t,Xt){_t.classList.add(Xt)}removeClass(_t,Xt){_t.classList.remove(Xt)}setStyle(_t,Xt,ct,dt){dt&(p.czy.DashCase|p.czy.Important)?_t.style.setProperty(Xt,ct,dt&p.czy.Important?"important":""):_t.style[Xt]=ct}removeStyle(_t,Xt,ct){ct&p.czy.DashCase?_t.style.removeProperty(Xt):_t.style[Xt]=""}setProperty(_t,Xt,ct){null!=_t&&(_t[Xt]=ct)}setValue(_t,Xt){_t.nodeValue=Xt}listen(_t,Xt,ct){if("string"==typeof _t&&!(_t=(0,h.QT)().getGlobalEventTarget(this.doc,_t)))throw new Error(`Unsupported event target ${_t} for event ${Xt}`);return this.eventManager.addEventListener(_t,Xt,this.decoratePreventDefault(ct))}decoratePreventDefault(_t){return Xt=>{if("__ngUnwrap__"===Xt)return _t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>_t(Xt)):_t(Xt))&&Xt.preventDefault()}}}function tn(Wt){return"TEMPLATE"===Wt.tagName&&void 0!==Wt.content}class qt extends Mt{constructor(_t,Xt,ct,dt,vn,De,xe,tt){super(_t,vn,De,tt),this.sharedStylesHost=Xt,this.hostEl=ct,this.shadowRoot=ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=at(dt.id,dt.styles);for(const qe of kt){const Dn=document.createElement("style");xe&&Dn.setAttribute("nonce",xe),Dn.textContent=qe,this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(_t){return _t===this.hostEl?this.shadowRoot:_t}appendChild(_t,Xt){return super.appendChild(this.nodeOrShadowRoot(_t),Xt)}insertBefore(_t,Xt,ct){return super.insertBefore(this.nodeOrShadowRoot(_t),Xt,ct)}removeChild(_t,Xt){return super.removeChild(null,Xt)}parentNode(_t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cn extends Mt{constructor(_t,Xt,ct,dt,vn,De,xe,tt){super(_t,vn,De,xe),this.sharedStylesHost=Xt,this.removeStylesOnCompDestroy=dt,this.styles=tt?at(tt,ct.styles):ct.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jt extends Cn{constructor(_t,Xt,ct,dt,vn,De,xe,tt){const kt=dt+"-"+ct.id;super(_t,Xt,ct,vn,De,xe,tt,kt),this.contentAttr=function Te(Wt){return"_ngcontent-%COMP%".replace(vt,Wt)}(kt),this.hostAttr=function Oe(Wt){return"_nghost-%COMP%".replace(vt,Wt)}(kt)}applyToHost(_t){this.applyStyles(),this.setAttribute(_t,this.hostAttr,"")}createElement(_t,Xt){const ct=super.createElement(_t,Xt);return super.setAttribute(ct,this.contentAttr,""),ct}}let qn=(()=>{var Wt;class _t extends Ge{constructor(ct){super(ct)}supports(ct){return!0}addEventListener(ct,dt,vn){return ct.addEventListener(dt,vn,!1),()=>this.removeEventListener(ct,dt,vn)}removeEventListener(ct,dt,vn){return ct.removeEventListener(dt,vn)}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(h.qQ))},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac}),_t})();const At=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ce={alt:Wt=>Wt.altKey,control:Wt=>Wt.ctrlKey,meta:Wt=>Wt.metaKey,shift:Wt=>Wt.shiftKey};let Ie=(()=>{var Wt;class _t extends Ge{constructor(ct){super(ct)}supports(ct){return null!=_t.parseEventName(ct)}addEventListener(ct,dt,vn){const De=_t.parseEventName(dt),xe=_t.eventCallback(De.fullKey,vn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.QT)().onAndCancel(ct,De.domEventName,xe))}static parseEventName(ct){const dt=ct.toLowerCase().split("."),vn=dt.shift();if(0===dt.length||"keydown"!==vn&&"keyup"!==vn)return null;const De=_t._normalizeKey(dt.pop());let xe="",tt=dt.indexOf("code");if(tt>-1&&(dt.splice(tt,1),xe="code."),At.forEach(qe=>{const Dn=dt.indexOf(qe);Dn>-1&&(dt.splice(Dn,1),xe+=qe+".")}),xe+=De,0!=dt.length||0===De.length)return null;const kt={};return kt.domEventName=vn,kt.fullKey=xe,kt}static matchEventFullKeyCode(ct,dt){let vn=ye[ct.key]||ct.key,De="";return dt.indexOf("code.")>-1&&(vn=ct.code,De="code."),!(null==vn||!vn)&&(vn=vn.toLowerCase()," "===vn?vn="space":"."===vn&&(vn="dot"),At.forEach(xe=>{xe!==vn&&(0,Ce[xe])(ct)&&(De+=xe+".")}),De+=vn,De===dt)}static eventCallback(ct,dt,vn){return De=>{_t.matchEventFullKeyCode(De,ct)&&vn.runGuarded(()=>dt(De))}}static _normalizeKey(ct){return"esc"===ct?"escape":ct}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(h.qQ))},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac}),_t})();const $n=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:h.AJ},{provide:p.PLl,useValue:function $e(){le.makeCurrent()},multi:!0},{provide:h.qQ,useFactory:function an(){return(0,p.TL$)(document),document},deps:[]}]),ut=new p.nKC(""),Ct=[{provide:p.e01,useClass:class We{addToWindow(_t){p.JZv.getAngularTestability=(ct,dt=!0)=>{const vn=_t.findTestabilityInTree(ct,dt);if(null==vn)throw new p.wOt(5103,!1);return vn},p.JZv.getAllAngularTestabilities=()=>_t.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>_t.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(ct=>{const dt=p.JZv.getAllAngularTestabilities();let vn=dt.length;const De=function(){vn--,0==vn&&ct()};dt.forEach(xe=>{xe.whenStable(De)})})}findTestabilityInTree(_t,Xt,ct){if(null==Xt)return null;const dt=_t.getTestability(Xt);return null!=dt?dt:ct?(0,h.QT)().isShadowRoot(Xt)?this.findTestabilityInTree(_t,Xt.host,!0):this.findTestabilityInTree(_t,Xt.parentElement,!0):null}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],Gn=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function rt(){return new p.zcH},deps:[]},{provide:be,useClass:qn,multi:!0,deps:[h.qQ,p.SKi,p.Agw]},{provide:be,useClass:Ie,multi:!0,deps:[h.qQ]},Qe,Ze,me,{provide:p._9s,useExisting:Qe},{provide:h.N0,useClass:Ke,deps:[]},[]];let ir=(()=>{var Wt;class _t{constructor(ct){}static withServerTransition(ct){return{ngModule:_t,providers:[{provide:p.sZ2,useValue:ct.appId}]}}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(ut,12))},Wt.\u0275mod=p.$C({type:Wt}),Wt.\u0275inj=p.G2t({providers:[...Gn,...Ct],imports:[h.MD,p.Hbi]}),_t})(),sr=(()=>{var Wt;class _t{constructor(ct){this._doc=ct}getTitle(){return this._doc.title}setTitle(ct){this._doc.title=ct||""}}return(Wt=_t).\u0275fac=function(ct){return new(ct||Wt)(p.KVO(h.qQ))},Wt.\u0275prov=p.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),_t})()},9384:(Nn,wt,k)=>{"use strict";k.d(wt,{nX:()=>Yt,Zp:()=>ro,Z:()=>Pr,Xk:()=>Kt,Kp:()=>Ji,Ix:()=>Fn,Wk:()=>Kn,iI:()=>Ya,Sd:()=>pr});var h=k(4438),p=k(1985),Ee=k(8071),Se=k(8455),ce=k(7673),Me=k(4412),We=k(4572),Ke=k(9350),be=k(8793),me=k(8750);function Ge(S){return new p.c(x=>{(0,me.Tg)(S()).subscribe(x)})}var je=k(1203);function Ze(S,x){const B=(0,Ee.T)(S)?S:()=>S,P=j=>j.error(B());return new p.c(x?j=>x.schedule(P,0,j):P)}var gt=k(983),vt=k(8359),ot=k(9974),ft=k(4360);function Dt(){return(0,ot.N)((S,x)=>{let B=null;S._refCount++;const P=(0,ft._)(x,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(B=null);const j=S._connection,he=B;B=null,j&&(!he||j===he)&&j.unsubscribe(),x.unsubscribe()});S.subscribe(P),P.closed||(B=S.connect())})}class yt extends p.c{constructor(x,B){super(),this.source=x,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,ot.S)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new vt.yU;const B=this.getSubject();x.add(this.source.subscribe((0,ft._)(B,void 0,()=>{this._teardown(),B.complete()},P=>{this._teardown(),B.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=vt.yU.EMPTY)}return x}refCount(){return Dt()(this)}}var Ae=k(1413),Te=k(177),Oe=k(6354),at=k(5558),Qe=k(6697),Mt=k(9172),Gt=k(5964),Re=k(1397),tn=k(1594),qt=k(274),Cn=k(8141);function jt(S){return(0,ot.N)((x,B)=>{let he,P=null,j=!1;P=x.subscribe((0,ft._)(B,void 0,void 0,ge=>{he=(0,me.Tg)(S(ge,jt(S)(x))),P?(P.unsubscribe(),P=null,he.subscribe(B)):j=!0})),j&&(P.unsubscribe(),P=null,he.subscribe(B))})}var qn=k(2816),At=k(9901);function ye(S){return S<=0?()=>gt.w:(0,ot.N)((x,B)=>{let P=[];x.subscribe((0,ft._)(B,j=>{P.push(j),S<P.length&&P.shift()},()=>{for(const j of P)B.next(j);B.complete()},void 0,()=>{P=null}))})}var Ce=k(3774),Ie=k(3669),Le=k(980),He=k(5343),rt=k(6365),an=k(345);const Kt="primary",$n=Symbol("RouteTitle");class ut{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const B=this.params[x];return Array.isArray(B)?B[0]:B}return null}getAll(x){if(this.has(x)){const B=this.params[x];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Ct(S){return new ut(S)}function Gn(S,x,B){const P=B.path.split("/");if(P.length>S.length||"full"===B.pathMatch&&(x.hasChildren()||P.length<S.length))return null;const j={};for(let he=0;he<P.length;he++){const ge=P[he],Ot=S[he];if(":"===ge[0])j[ge.substring(1)]=Ot;else if(ge!==Ot.path)return null}return{consumed:S.slice(0,P.length),posParams:j}}function Jt(S,x){const B=S?ln(S):void 0,P=x?ln(x):void 0;if(!B||!P||B.length!=P.length)return!1;let j;for(let he=0;he<B.length;he++)if(j=B[he],!sr(S[j],x[j]))return!1;return!0}function ln(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}function sr(S,x){if(Array.isArray(S)&&Array.isArray(x)){if(S.length!==x.length)return!1;const B=[...S].sort(),P=[...x].sort();return B.every((j,he)=>P[he]===j)}return S===x}function cn(S){return S.length>0?S[S.length-1]:null}function Ne(S){return function le(S){return!!S&&(S instanceof p.c||(0,Ee.T)(S.lift)&&(0,Ee.T)(S.subscribe))}(S)?S:(0,h.jNT)(S)?(0,Se.H)(Promise.resolve(S)):(0,ce.of)(S)}const Fe={exact:function dr(S,x,B){if(!Ln(S.segments,x.segments)||!Ir(S.segments,x.segments,B)||S.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!S.children[P]||!dr(S.children[P],x.children[P],B))return!1;return!0},subset:Pn},Bt={exact:function rr(S,x){return Jt(S,x)},subset:function zn(S,x){return Object.keys(x).length<=Object.keys(S).length&&Object.keys(x).every(B=>sr(S[B],x[B]))},ignored:()=>!0};function St(S,x,B){return Fe[B.paths](S.root,x.root,B.matrixParams)&&Bt[B.queryParams](S.queryParams,x.queryParams)&&!("exact"===B.fragment&&S.fragment!==x.fragment)}function Pn(S,x,B){return Tr(S,x,x.segments,B)}function Tr(S,x,B,P){if(S.segments.length>B.length){const j=S.segments.slice(0,B.length);return!(!Ln(j,B)||x.hasChildren()||!Ir(j,B,P))}if(S.segments.length===B.length){if(!Ln(S.segments,B)||!Ir(S.segments,B,P))return!1;for(const j in x.children)if(!S.children[j]||!Pn(S.children[j],x.children[j],P))return!1;return!0}{const j=B.slice(0,S.segments.length),he=B.slice(S.segments.length);return!!(Ln(S.segments,j)&&Ir(S.segments,j,P)&&S.children[Kt])&&Tr(S.children[Kt],x,he,P)}}function Ir(S,x,B){return x.every((P,j)=>Bt[B](S[j].parameters,P.parameters))}class Cr{constructor(x=new br([],{}),B={},P=null){this.root=x,this.queryParams=B,this.fragment=P}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return Mn.serialize(this)}}class br{constructor(x,B){this.segments=x,this.children=B,this.parent=null,Object.values(B).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fi(this)}}class Wr{constructor(x,B){this.path=x,this.parameters=B}get parameterMap(){var x;return null!==(x=this._parameterMap)&&void 0!==x||(this._parameterMap=Ct(this.parameters)),this._parameterMap}toString(){return ct(this)}}function Ln(S,x){return S.length===x.length&&S.every((B,P)=>B.path===x[P].path)}let pr=(()=>{var S;class x{}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:()=>new kr,providedIn:"root"}),x})();class kr{parse(x){const B=new fi(x);return new Cr(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(x){const B=`/${or(x.root,!0)}`,P=function vn(S){const x=Object.entries(S).map(([B,P])=>Array.isArray(P)?P.map(j=>`${Nr(B)}=${Nr(j)}`).join("&"):`${Nr(B)}=${Nr(P)}`).filter(B=>B);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${B}${P}${"string"==typeof x.fragment?`#${function In(S){return encodeURI(S)}(x.fragment)}`:""}`}}const Mn=new kr;function Fi(S){return S.segments.map(x=>ct(x)).join("/")}function or(S,x){if(!S.hasChildren())return Fi(S);if(x){const B=S.children[Kt]?or(S.children[Kt],!1):"",P=[];return Object.entries(S.children).forEach(([j,he])=>{j!==Kt&&P.push(`${j}:${or(he,!1)}`)}),P.length>0?`${B}(${P.join("//")})`:B}{const B=function vi(S,x){let B=[];return Object.entries(S.children).forEach(([P,j])=>{P===Kt&&(B=B.concat(x(j,P)))}),Object.entries(S.children).forEach(([P,j])=>{P!==Kt&&(B=B.concat(x(j,P)))}),B}(S,(P,j)=>j===Kt?[or(S.children[Kt],!1)]:[`${j}:${or(P,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Kt]?`${Fi(S)}/${B[0]}`:`${Fi(S)}/(${B.join("//")})`}}function xr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nr(S){return xr(S).replace(/%3B/gi,";")}function Wt(S){return xr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _t(S){return decodeURIComponent(S)}function Xt(S){return _t(S.replace(/\+/g,"%20"))}function ct(S){return`${Wt(S.path)}${function dt(S){return Object.entries(S).map(([x,B])=>`;${Wt(x)}=${Wt(B)}`).join("")}(S.parameters)}`}const De=/^[^\/()?;#]+/;function xe(S){const x=S.match(De);return x?x[0]:""}const tt=/^[^\/()?;=#]+/,qe=/^[^=?&#]+/,Bn=/^[^&#]+/;class fi{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new br([],{}):new br([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(B).length>0)&&(P[Kt]=new br(x,B)),P}parseSegment(){const x=xe(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new h.wOt(4009,!1);return this.capture(x),new Wr(_t(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const B=function kt(S){const x=S.match(tt);return x?x[0]:""}(this.remaining);if(!B)return;this.capture(B);let P="";if(this.consumeOptional("=")){const j=xe(this.remaining);j&&(P=j,this.capture(P))}x[_t(B)]=_t(P)}parseQueryParam(x){const B=function Dn(S){const x=S.match(qe);return x?x[0]:""}(this.remaining);if(!B)return;this.capture(B);let P="";if(this.consumeOptional("=")){const ge=function Br(S){const x=S.match(Bn);return x?x[0]:""}(this.remaining);ge&&(P=ge,this.capture(P))}const j=Xt(B),he=Xt(P);if(x.hasOwnProperty(j)){let ge=x[j];Array.isArray(ge)||(ge=[ge],x[j]=ge),ge.push(he)}else x[j]=he}parseParens(x){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=xe(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new h.wOt(4010,!1);let he;P.indexOf(":")>-1?(he=P.slice(0,P.indexOf(":")),this.capture(he),this.capture(":")):x&&(he=Kt);const ge=this.parseChildren();B[he]=1===Object.keys(ge).length?ge[Kt]:new br([],ge),this.consumeOptional("//")}return B}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new h.wOt(4011,!1)}}function lt(S){return S.segments.length>0?new br([],{[Kt]:S}):S}function zr(S){const x={};for(const[P,j]of Object.entries(S.children)){const he=zr(j);if(P===Kt&&0===he.segments.length&&he.hasChildren())for(const[ge,Ot]of Object.entries(he.children))x[ge]=Ot;else(he.segments.length>0||he.hasChildren())&&(x[P]=he)}return function Jn(S){if(1===S.numberOfChildren&&S.children[Kt]){const x=S.children[Kt];return new br(S.segments.concat(x.segments),x.children)}return S}(new br(S.segments,x))}function pi(S){return S instanceof Cr}function tr(S){var x;let B;const he=lt(function P(ge){const Ot={};for(const Vt of ge.children){const Xn=P(Vt);Ot[Vt.outlet]=Xn}const mn=new br(ge.url,Ot);return ge===S&&(B=mn),mn}(S.root));return null!==(x=B)&&void 0!==x?x:he}function Wi(S,x,B,P){let j=S;for(;j.parent;)j=j.parent;if(0===x.length)return Fo(j,j,j,B,P);const he=function zt(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Vr(!0,0,S);let x=0,B=!1;const P=S.reduce((j,he,ge)=>{if("object"==typeof he&&null!=he){if(he.outlets){const Ot={};return Object.entries(he.outlets).forEach(([mn,Vt])=>{Ot[mn]="string"==typeof Vt?Vt.split("/"):Vt}),[...j,{outlets:Ot}]}if(he.segmentPath)return[...j,he.segmentPath]}return"string"!=typeof he?[...j,he]:0===ge?(he.split("/").forEach((Ot,mn)=>{0==mn&&"."===Ot||(0==mn&&""===Ot?B=!0:".."===Ot?x++:""!=Ot&&j.push(Ot))}),j):[...j,he]},[]);return new Vr(B,x,P)}(x);if(he.toRoot())return Fo(j,j,new br([],{}),B,P);const ge=function on(S,x,B){if(S.isAbsolute)return new ht(x,!0,0);if(!B)return new ht(x,!1,NaN);if(null===B.parent)return new ht(B,!0,0);const P=ho(S.commands[0])?0:1;return function xn(S,x,B){let P=S,j=x,he=B;for(;he>j;){if(he-=j,P=P.parent,!P)throw new h.wOt(4005,!1);j=P.segments.length}return new ht(P,!1,j-he)}(B,B.segments.length-1+P,S.numberOfDoubleDots)}(he,j,S),Ot=ge.processChildren?Sn(ge.segmentGroup,ge.index,he.commands):Zt(ge.segmentGroup,ge.index,he.commands);return Fo(j,ge.segmentGroup,Ot,B,P)}function ho(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Bi(S){return"object"==typeof S&&null!=S&&S.outlets}function Fo(S,x,B,P,j){let ge,he={};P&&Object.entries(P).forEach(([mn,Vt])=>{he[mn]=Array.isArray(Vt)?Vt.map(Xn=>`${Xn}`):`${Vt}`}),ge=S===x?B:Ki(S,x,B);const Ot=lt(zr(ge));return new Cr(Ot,he,j)}function Ki(S,x,B){const P={};return Object.entries(S.children).forEach(([j,he])=>{P[j]=he===x?B:Ki(he,x,B)}),new br(S.segments,P)}class Vr{constructor(x,B,P){if(this.isAbsolute=x,this.numberOfDoubleDots=B,this.commands=P,x&&P.length>0&&ho(P[0]))throw new h.wOt(4003,!1);const j=P.find(Bi);if(j&&j!==cn(P))throw new h.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ht{constructor(x,B,P){this.segmentGroup=x,this.processChildren=B,this.index=P}}function Zt(S,x,B){var P;if(null!==(P=S)&&void 0!==P||(S=new br([],{})),0===S.segments.length&&S.hasChildren())return Sn(S,x,B);const j=function ur(S,x,B){let P=0,j=x;const he={match:!1,pathIndex:0,commandIndex:0};for(;j<S.segments.length;){if(P>=B.length)return he;const ge=S.segments[j],Ot=B[P];if(Bi(Ot))break;const mn=`${Ot}`,Vt=P<B.length-1?B[P+1]:null;if(j>0&&void 0===mn)break;if(mn&&Vt&&"object"==typeof Vt&&void 0===Vt.outlets){if(!Er(mn,Vt,ge))return he;P+=2}else{if(!Er(mn,{},ge))return he;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(S,x,B),he=B.slice(j.commandIndex);if(j.match&&j.pathIndex<S.segments.length){const ge=new br(S.segments.slice(0,j.pathIndex),{});return ge.children[Kt]=new br(S.segments.slice(j.pathIndex),S.children),Sn(ge,0,he)}return j.match&&0===he.length?new br(S.segments,{}):j.match&&!S.hasChildren()?cr(S,x,B):j.match?Sn(S,0,he):cr(S,x,B)}function Sn(S,x,B){if(0===B.length)return new br(S.segments,{});{const P=function bt(S){return Bi(S[0])?S[0].outlets:{[Kt]:S}}(B),j={};if(Object.keys(P).some(he=>he!==Kt)&&S.children[Kt]&&1===S.numberOfChildren&&0===S.children[Kt].segments.length){const he=Sn(S.children[Kt],x,B);return new br(S.segments,he.children)}return Object.entries(P).forEach(([he,ge])=>{"string"==typeof ge&&(ge=[ge]),null!==ge&&(j[he]=Zt(S.children[he],x,ge))}),Object.entries(S.children).forEach(([he,ge])=>{void 0===P[he]&&(j[he]=ge)}),new br(S.segments,j)}}function cr(S,x,B){const P=S.segments.slice(0,x);let j=0;for(;j<B.length;){const he=B[j];if(Bi(he)){const mn=ar(he.outlets);return new br(P,mn)}if(0===j&&ho(B[0])){P.push(new Wr(S.segments[x].path,Qn(B[0]))),j++;continue}const ge=Bi(he)?he.outlets[Kt]:`${he}`,Ot=j<B.length-1?B[j+1]:null;ge&&Ot&&ho(Ot)?(P.push(new Wr(ge,Qn(Ot))),j+=2):(P.push(new Wr(ge,{})),j++)}return new br(P,{})}function ar(S){const x={};return Object.entries(S).forEach(([B,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[B]=cr(new br([],{}),0,P))}),x}function Qn(S){const x={};return Object.entries(S).forEach(([B,P])=>x[B]=`${P}`),x}function Er(S,x,B){return S==B.path&&Jt(x,B.parameters)}const Vi="imperative";var Ur=function(S){return S[S.NavigationStart=0]="NavigationStart",S[S.NavigationEnd=1]="NavigationEnd",S[S.NavigationCancel=2]="NavigationCancel",S[S.NavigationError=3]="NavigationError",S[S.RoutesRecognized=4]="RoutesRecognized",S[S.ResolveStart=5]="ResolveStart",S[S.ResolveEnd=6]="ResolveEnd",S[S.GuardsCheckStart=7]="GuardsCheckStart",S[S.GuardsCheckEnd=8]="GuardsCheckEnd",S[S.RouteConfigLoadStart=9]="RouteConfigLoadStart",S[S.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",S[S.ChildActivationStart=11]="ChildActivationStart",S[S.ChildActivationEnd=12]="ChildActivationEnd",S[S.ActivationStart=13]="ActivationStart",S[S.ActivationEnd=14]="ActivationEnd",S[S.Scroll=15]="Scroll",S[S.NavigationSkipped=16]="NavigationSkipped",S}(Ur||{});class eo{constructor(x,B){this.id=x,this.url=B}}class Pr extends eo{constructor(x,B,P="imperative",j=null){super(x,B),this.type=Ur.NavigationStart,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gi extends eo{constructor(x,B,P){super(x,B),this.urlAfterRedirects=P,this.type=Ur.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ni=function(S){return S[S.Redirect=0]="Redirect",S[S.SupersededByNewNavigation=1]="SupersededByNewNavigation",S[S.NoDataFromResolver=2]="NoDataFromResolver",S[S.GuardRejected=3]="GuardRejected",S}(Ni||{}),Ro=function(S){return S[S.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",S[S.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",S}(Ro||{});class Di extends eo{constructor(x,B,P,j){super(x,B),this.reason=P,this.code=j,this.type=Ur.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ho extends eo{constructor(x,B,P,j){super(x,B),this.reason=P,this.code=j,this.type=Ur.NavigationSkipped}}class Go extends eo{constructor(x,B,P,j){super(x,B),this.error=P,this.target=j,this.type=Ur.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Io extends eo{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=Ur.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oe extends eo{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=Ur.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends eo{constructor(x,B,P,j,he){super(x,B),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=he,this.type=Ur.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xt extends eo{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=Ur.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It extends eo{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=Ur.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn{constructor(x){this.route=x,this.type=Ur.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _n{constructor(x){this.route=x,this.type=Ur.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hn{constructor(x){this.snapshot=x,this.type=Ur.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(x){this.snapshot=x,this.type=Ur.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yn{constructor(x){this.snapshot=x,this.type=Ur.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(x){this.snapshot=x,this.type=Ur.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(x,B,P){this.routerEvent=x,this.position=B,this.anchor=P,this.type=Ur.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Oi{}class Lr{constructor(x,B){this.url=x,this.navigationBehaviorOptions=B}}function Yr(S){return S.outlet||Kt}function Pi(S){var x;if(!S)return null;if(null!==(x=S.routeConfig)&&void 0!==x&&x._injector)return S.routeConfig._injector;for(let B=S.parent;B;B=B.parent){const P=B.routeConfig;if(null!=P&&P._loadedInjector)return P._loadedInjector;if(null!=P&&P._injector)return P._injector}return null}class ci{get injector(){var x,B;return null!==(x=Pi(null===(B=this.route)||void 0===B?void 0:B.snapshot))&&void 0!==x?x:this.rootInjector}set injector(x){}constructor(x){this.rootInjector=x,this.outlet=null,this.route=null,this.children=new ro(this.rootInjector),this.attachRef=null}}let ro=(()=>{var S;class x{constructor(P){this.rootInjector=P,this.contexts=new Map}onChildOutletCreated(P,j){const he=this.getOrCreateContext(P);he.outlet=j,this.contexts.set(P,he)}onChildOutletDestroyed(P){const j=this.getContext(P);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let j=this.getContext(P);return j||(j=new ci(this.rootInjector),this.contexts.set(P,j)),j}getContext(P){return this.contexts.get(P)||null}}return(S=x).\u0275fac=function(P){return new(P||S)(h.KVO(h.uvJ))},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();class Q{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const B=this.pathFromRoot(x);return B.length>1?B[B.length-2]:null}children(x){const B=ie(x,this._root);return B?B.children.map(P=>P.value):[]}firstChild(x){const B=ie(x,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(x){const B=ke(x,this._root);return B.length<2?[]:B[B.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return ke(x,this._root).map(B=>B.value)}}function ie(S,x){if(S===x.value)return x;for(const B of x.children){const P=ie(S,B);if(P)return P}return null}function ke(S,x){if(S===x.value)return[x];for(const B of x.children){const P=ke(S,B);if(P.length)return P.unshift(x),P}return[]}class ze{constructor(x,B){this.value=x,this.children=B}toString(){return`TreeNode(${this.value})`}}function pt(S){const x={};return S&&S.children.forEach(B=>x[B.value.outlet]=B),x}class it extends Q{constructor(x,B){super(x),this.snapshot=B,nr(this,x)}toString(){return this.snapshot.toString()}}function Ut(S){const x=function Rt(S){const he=new Tn([],{},{},"",{},Kt,S,null,{});return new On("",new ze(he,[]))}(S),B=new Me.t([new Wr("",{})]),P=new Me.t({}),j=new Me.t({}),he=new Me.t({}),ge=new Me.t(""),Ot=new Yt(B,P,he,ge,j,Kt,S,x.root);return Ot.snapshot=x.root,new it(new ze(Ot,[]),x)}class Yt{constructor(x,B,P,j,he,ge,Ot,mn){var Vt,Xn;this.urlSubject=x,this.paramsSubject=B,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=he,this.outlet=ge,this.component=Ot,this._futureSnapshot=mn,this.title=null!==(Vt=null===(Xn=this.dataSubject)||void 0===Xn?void 0:Xn.pipe((0,Oe.T)(Zr=>Zr[$n])))&&void 0!==Vt?Vt:(0,ce.of)(void 0),this.url=x,this.params=B,this.queryParams=P,this.fragment=j,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var x;return null!==(x=this._paramMap)&&void 0!==x||(this._paramMap=this.params.pipe((0,Oe.T)(B=>Ct(B)))),this._paramMap}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=this.queryParams.pipe((0,Oe.T)(B=>Ct(B)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function un(S,x,B="emptyOnly"){var P;let j;const{routeConfig:he}=S;var ge;return j=null===x||"always"!==B&&""!==(null==he?void 0:he.path)&&(x.component||null!==(P=x.routeConfig)&&void 0!==P&&P.loadComponent)?{params:{...S.params},data:{...S.data},resolve:{...S.data,...null!==(ge=S._resolvedData)&&void 0!==ge?ge:{}}}:{params:{...x.params,...S.params},data:{...x.data,...S.data},resolve:{...S.data,...x.data,...null==he?void 0:he.data,...S._resolvedData}},he&&Ci(he)&&(j.resolve[$n]=he.title),j}class Tn{get title(){var x;return null===(x=this.data)||void 0===x?void 0:x[$n]}constructor(x,B,P,j,he,ge,Ot,mn,Vt){this.url=x,this.params=B,this.queryParams=P,this.fragment=j,this.data=he,this.outlet=ge,this.component=Ot,this.routeConfig=mn,this._resolve=Vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var x;return null!==(x=this._paramMap)&&void 0!==x||(this._paramMap=Ct(this.params)),this._paramMap}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=Ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class On extends Q{constructor(x,B){super(B),this.url=x,nr(this,B)}toString(){return Zn(this._root)}}function nr(S,x){x.value._routerState=S,x.children.forEach(B=>nr(S,B))}function Zn(S){const x=S.children.length>0?` { ${S.children.map(Zn).join(", ")} } `:"";return`${S.value}${x}`}function ni(S){if(S.snapshot){const x=S.snapshot,B=S._futureSnapshot;S.snapshot=B,Jt(x.queryParams,B.queryParams)||S.queryParamsSubject.next(B.queryParams),x.fragment!==B.fragment&&S.fragmentSubject.next(B.fragment),Jt(x.params,B.params)||S.paramsSubject.next(B.params),function ir(S,x){if(S.length!==x.length)return!1;for(let B=0;B<S.length;++B)if(!Jt(S[B],x[B]))return!1;return!0}(x.url,B.url)||S.urlSubject.next(B.url),Jt(x.data,B.data)||S.dataSubject.next(B.data)}else S.snapshot=S._futureSnapshot,S.dataSubject.next(S._futureSnapshot.data)}function mi(S,x){const B=Jt(S.params,x.params)&&function Ei(S,x){return Ln(S,x)&&S.every((B,P)=>Jt(B.parameters,x[P].parameters))}(S.url,x.url);return B&&!(!S.parent!=!x.parent)&&(!S.parent||mi(S.parent,x.parent))}function Ci(S){return"string"==typeof S.title||null===S.title}let ri=(()=>{var S;class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new h.bkB,this.deactivateEvents=new h.bkB,this.attachEvents=new h.bkB,this.detachEvents=new h.bkB,this.parentContexts=(0,h.WQX)(ro),this.location=(0,h.WQX)(h.c1b),this.changeDetector=(0,h.WQX)(h.gRc),this.inputBinder=(0,h.WQX)(bi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(P){if(P.name){const{firstChange:j,previousValue:he}=P.name;if(j)return;this.isTrackedInParentContexts(he)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(he)),this.initializeOutletWithName()}}ngOnDestroy(){var P;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(P=this.inputBinder)||void 0===P||P.unsubscribeFromRouteData(this)}isTrackedInParentContexts(P){var j;return(null===(j=this.parentContexts.getContext(P))||void 0===j?void 0:j.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const P=this.parentContexts.getContext(this.name);null!=P&&P.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.wOt(4012,!1);this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(P.instance),P}attach(P,j){var he;this.activated=P,this._activatedRoute=j,this.location.insert(P.hostView),null===(he=this.inputBinder)||void 0===he||he.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(P.instance)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,j){var he;if(this.isActivated)throw new h.wOt(4013,!1);this._activatedRoute=P;const ge=this.location,mn=P.snapshot.component,Vt=this.parentContexts.getOrCreateContext(this.name).children,Xn=new wi(P,Vt,ge.injector);this.activated=ge.createComponent(mn,{index:ge.length,injector:Xn,environmentInjector:j}),this.changeDetector.markForCheck(),null===(he=this.inputBinder)||void 0===he||he.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275dir=h.FsC({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.OA$]}),x})();class wi{__ngOutletInjector(x){return new wi(this.route,this.childContexts,x)}constructor(x,B,P){this.route=x,this.childContexts=B,this.parent=P}get(x,B){return x===Yt?this.route:x===ro?this.childContexts:this.parent.get(x,B)}}const bi=new h.nKC("");let fo=(()=>{var S;class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(P){this.unsubscribeFromRouteData(P),this.subscribeToRouteData(P)}unsubscribeFromRouteData(P){var j;null===(j=this.outletDataSubscriptions.get(P))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(P)}subscribeToRouteData(P){const{activatedRoute:j}=P,he=(0,We.z)([j.queryParams,j.params,j.data]).pipe((0,at.n)(([ge,Ot,mn],Vt)=>(mn={...ge,...Ot,...mn},0===Vt?(0,ce.of)(mn):Promise.resolve(mn)))).subscribe(ge=>{if(!P.isActivated||!P.activatedComponentRef||P.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(P);const Ot=(0,h.HJs)(j.component);if(Ot)for(const{templateName:mn}of Ot.inputs)P.activatedComponentRef.setInput(mn,ge[mn]);else this.unsubscribeFromRouteData(P)});this.outletDataSubscriptions.set(P,he)}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac}),x})();function Yi(S,x,B){if(B&&S.shouldReuseRoute(x.value,B.value.snapshot)){const P=B.value;P._futureSnapshot=x.value;const j=function po(S,x,B){return x.children.map(P=>{for(const j of B.children)if(S.shouldReuseRoute(P.value,j.value.snapshot))return Yi(S,P,j);return Yi(S,P)})}(S,x,B);return new ze(P,j)}{if(S.shouldAttach(x.value)){const he=S.retrieve(x.value);if(null!==he){const ge=he.route;return ge.value._futureSnapshot=x.value,ge.children=x.children.map(Ot=>Yi(S,Ot)),ge}}const P=function is(S){return new Yt(new Me.t(S.url),new Me.t(S.params),new Me.t(S.queryParams),new Me.t(S.fragment),new Me.t(S.data),S.outlet,S.component,S)}(x.value),j=x.children.map(he=>Yi(S,he));return new ze(P,j)}}class Vo{constructor(x,B){this.redirectTo=x,this.navigationBehaviorOptions=B}}const Eo="ngNavigationCancelingError";function Zo(S,x){const{redirectTo:B,navigationBehaviorOptions:P}=pi(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=bs(!1,Ni.Redirect);return j.url=B,j.navigationBehaviorOptions=P,j}function bs(S,x){const B=new Error(`NavigationCancelingError: ${S||""}`);return B[Eo]=!0,B.cancellationCode=x,B}function Xi(S){return!!S&&S[Eo]}class io{constructor(x,B,P,j,he){this.routeReuseStrategy=x,this.futureState=B,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=he}activate(x){const B=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,P,x),ni(this.futureState.root),this.activateChildRoutes(B,P,x)}deactivateChildRoutes(x,B,P){const j=pt(B);x.children.forEach(he=>{const ge=he.value.outlet;this.deactivateRoutes(he,j[ge],P),delete j[ge]}),Object.values(j).forEach(he=>{this.deactivateRouteAndItsChildren(he,P)})}deactivateRoutes(x,B,P){const j=x.value,he=B?B.value:null;if(j===he)if(j.component){const ge=P.getContext(j.outlet);ge&&this.deactivateChildRoutes(x,B,ge.children)}else this.deactivateChildRoutes(x,B,P);else he&&this.deactivateRouteAndItsChildren(B,P)}deactivateRouteAndItsChildren(x,B){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,B):this.deactivateRouteAndOutlet(x,B)}detachAndStoreRouteSubtree(x,B){const P=B.getContext(x.value.outlet),j=P&&x.value.component?P.children:B,he=pt(x);for(const ge of Object.values(he))this.deactivateRouteAndItsChildren(ge,j);if(P&&P.outlet){const ge=P.outlet.detach(),Ot=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:ge,route:x,contexts:Ot})}}deactivateRouteAndOutlet(x,B){const P=B.getContext(x.value.outlet),j=P&&x.value.component?P.children:B,he=pt(x);for(const ge of Object.values(he))this.deactivateRouteAndItsChildren(ge,j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,B,P){const j=pt(B);x.children.forEach(he=>{this.activateRoutes(he,j[he.value.outlet],P),this.forwardEvent(new vr(he.value.snapshot))}),x.children.length&&this.forwardEvent(new st(x.value.snapshot))}activateRoutes(x,B,P){const j=x.value,he=B?B.value:null;if(ni(j),j===he)if(j.component){const ge=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,B,ge.children)}else this.activateChildRoutes(x,B,P);else if(j.component){const ge=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ot=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ge.children.onOutletReAttached(Ot.contexts),ge.attachRef=Ot.componentRef,ge.route=Ot.route.value,ge.outlet&&ge.outlet.attach(Ot.componentRef,Ot.route.value),ni(Ot.route.value),this.activateChildRoutes(x,null,ge.children)}else ge.attachRef=null,ge.route=j,ge.outlet&&ge.outlet.activateWith(j,ge.injector),this.activateChildRoutes(x,null,ge.children)}else this.activateChildRoutes(x,null,P)}}class cs{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Xr{constructor(x,B){this.component=x,this.route=B}}function Dr(S,x,B){const P=S._root;return ki(P,x?x._root:null,B,[P.value])}function yo(S,x){const B=Symbol(),P=x.get(S,B);return P===B?"function"!=typeof S||(0,h.LfX)(S)?x.get(S):S:P}function ki(S,x,B,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const he=pt(x);return S.children.forEach(ge=>{(function Ds(S,x,B,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const he=S.value,ge=x?x.value:null,Ot=B?B.getContext(S.value.outlet):null;if(ge&&he.routeConfig===ge.routeConfig){const mn=function as(S,x,B){if("function"==typeof B)return B(S,x);switch(B){case"pathParamsChange":return!Ln(S.url,x.url);case"pathParamsOrQueryParamsChange":return!Ln(S.url,x.url)||!Jt(S.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mi(S,x)||!Jt(S.queryParams,x.queryParams);default:return!mi(S,x)}}(ge,he,he.routeConfig.runGuardsAndResolvers);mn?j.canActivateChecks.push(new cs(P)):(he.data=ge.data,he._resolvedData=ge._resolvedData),ki(S,x,he.component?Ot?Ot.children:null:B,P,j),mn&&Ot&&Ot.outlet&&Ot.outlet.isActivated&&j.canDeactivateChecks.push(new Xr(Ot.outlet.component,ge))}else ge&&gr(x,Ot,j),j.canActivateChecks.push(new cs(P)),ki(S,null,he.component?Ot?Ot.children:null:B,P,j)})(ge,he[ge.value.outlet],B,P.concat([ge.value]),j),delete he[ge.value.outlet]}),Object.entries(he).forEach(([ge,Ot])=>gr(Ot,B.getContext(ge),j)),j}function gr(S,x,B){const P=pt(S),j=S.value;Object.entries(P).forEach(([he,ge])=>{gr(ge,j.component?x?x.children.getContext(he):null:x,B)}),B.canDeactivateChecks.push(new Xr(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function $r(S){return"function"==typeof S}function Qo(S){return S instanceof Ke.G||"EmptyError"===(null==S?void 0:S.name)}const _i=Symbol("INITIAL_VALUE");function oo(){return(0,at.n)(S=>(0,We.z)(S.map(x=>x.pipe((0,Qe.s)(1),(0,Mt.Z)(_i)))).pipe((0,Oe.T)(x=>{for(const B of x)if(!0!==B){if(B===_i)return _i;if(!1===B||_a(B))return B}return!0}),(0,Gt.p)(x=>x!==_i),(0,Qe.s)(1)))}function _a(S){return pi(S)||S instanceof Vo}function yn(S){return(0,je.F)((0,Cn.M)(x=>{if("boolean"!=typeof x)throw Zo(0,x)}),(0,Oe.T)(x=>!0===x))}class li{constructor(x){this.segmentGroup=x||null}}class zi extends Error{constructor(x){super(),this.urlTree=x}}function ji(S){return Ze(new li(S))}class Hs{constructor(x,B){this.urlSerializer=x,this.urlTree=B}lineralizeSegments(x,B){let P=[],j=B.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,ce.of)(P);if(j.numberOfChildren>1||!j.children[Kt])return Ze(new h.wOt(4e3,!1));j=j.children[Kt]}}applyRedirectCommands(x,B,P,j,he){if("string"!=typeof B){const Ot=B,{queryParams:mn,fragment:Vt,routeConfig:Xn,url:Zr,outlet:Li,params:ii,data:qi,title:qo}=j,As=(0,h.N4e)(he,()=>Ot({params:ii,data:qi,queryParams:mn,fragment:Vt,routeConfig:Xn,url:Zr,outlet:Li,title:qo}));if(As instanceof Cr)throw new zi(As);B=As}const ge=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),x,P);if("/"===B[0])throw new zi(ge);return ge}applyRedirectCreateUrlTree(x,B,P,j){const he=this.createSegmentGroup(x,B.root,P,j);return new Cr(he,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(x,B){const P={};return Object.entries(x).forEach(([j,he])=>{if("string"==typeof he&&":"===he[0]){const Ot=he.substring(1);P[j]=B[Ot]}else P[j]=he}),P}createSegmentGroup(x,B,P,j){const he=this.createSegments(x,B.segments,P,j);let ge={};return Object.entries(B.children).forEach(([Ot,mn])=>{ge[Ot]=this.createSegmentGroup(x,mn,P,j)}),new br(he,ge)}createSegments(x,B,P,j){return B.map(he=>":"===he.path[0]?this.findPosParam(x,he,j):this.findOrReturn(he,P))}findPosParam(x,B,P){const j=P[B.path.substring(1)];if(!j)throw new h.wOt(4001,!1);return j}findOrReturn(x,B){let P=0;for(const j of B){if(j.path===x.path)return B.splice(P),j;P++}return x}}const ls={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mr(S,x,B,P,j){const he=si(S,x,B);return he.matched?(P=function Ti(S,x){var B;return S.providers&&!S._injector&&(S._injector=(0,h.Ol2)(S.providers,x,`Route: ${S.path}`)),null!==(B=S._injector)&&void 0!==B?B:x}(x,P),function _r(S,x,B,P){const j=x.canMatch;if(!j||0===j.length)return(0,ce.of)(!0);const he=j.map(ge=>{const Ot=yo(ge,S);return Ne(function Po(S){return S&&$r(S.canMatch)}(Ot)?Ot.canMatch(x,B):(0,h.N4e)(S,()=>Ot(x,B)))});return(0,ce.of)(he).pipe(oo(),yn())}(P,x,B).pipe((0,Oe.T)(ge=>!0===ge?he:{...ls}))):(0,ce.of)(he)}function si(S,x,B){var P,j;if("**"===x.path)return function Hi(S){return{matched:!0,parameters:S.length>0?cn(S).parameters:{},consumedSegments:S,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===x.path)return"full"===x.pathMatch&&(S.hasChildren()||B.length>0)?{...ls}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const ge=(x.matcher||Gn)(B,S,x);if(!ge)return{...ls};const Ot={};Object.entries(null!==(P=ge.posParams)&&void 0!==P?P:{}).forEach(([Vt,Xn])=>{Ot[Vt]=Xn.path});const mn=ge.consumed.length>0?{...Ot,...ge.consumed[ge.consumed.length-1].parameters}:Ot;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:B.slice(ge.consumed.length),parameters:mn,positionalParamSegments:null!==(j=ge.posParams)&&void 0!==j?j:{}}}function ao(S,x,B,P){return B.length>0&&function Ns(S,x,B){return B.some(P=>Ko(S,x,P)&&Yr(P)!==Kt)}(S,B,P)?{segmentGroup:new br(x,ds(P,new br(B,S.children))),slicedSegments:[]}:0===B.length&&function Yo(S,x,B){return B.some(P=>Ko(S,x,P))}(S,B,P)?{segmentGroup:new br(S.segments,Gi(S,B,P,S.children)),slicedSegments:B}:{segmentGroup:new br(S.segments,S.children),slicedSegments:B}}function Gi(S,x,B,P){const j={};for(const he of B)if(Ko(S,x,he)&&!P[Yr(he)]){const ge=new br([],{});j[Yr(he)]=ge}return{...P,...j}}function ds(S,x){const B={};B[Kt]=x;for(const P of S)if(""===P.path&&Yr(P)!==Kt){const j=new br([],{});B[Yr(P)]=j}return B}function Ko(S,x,B){return(!(S.hasChildren()||x.length>0)||"full"!==B.pathMatch)&&""===B.path}class ra{}class Jo{constructor(x,B,P,j,he,ge,Ot){this.injector=x,this.configLoader=B,this.rootComponentType=P,this.config=j,this.urlTree=he,this.paramsInheritanceStrategy=ge,this.urlSerializer=Ot,this.applyRedirects=new Hs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(x){return new h.wOt(4002,`'${x.segmentGroup}'`)}recognize(){const x=ao(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(x).pipe((0,Oe.T)(({children:B,rootSnapshot:P})=>{const j=new ze(P,B),he=new On("",j),ge=function Ii(S,x,B=null,P=null){return Wi(tr(S),x,B,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return ge.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(ge),{state:he,tree:ge}}))}match(x){const B=new Tn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Kt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,x,Kt,B).pipe((0,Oe.T)(P=>({children:P,rootSnapshot:B})),jt(P=>{if(P instanceof zi)return this.urlTree=P.urlTree,this.match(P.urlTree.root);throw P instanceof li?this.noMatchError(P):P}))}processSegmentGroup(x,B,P,j,he){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,B,P,he):this.processSegment(x,B,P,P.segments,j,!0,he).pipe((0,Oe.T)(ge=>ge instanceof ze?[ge]:[]))}processChildren(x,B,P,j){const he=[];for(const ge of Object.keys(P.children))"primary"===ge?he.unshift(ge):he.push(ge);return(0,Se.H)(he).pipe((0,qt.H)(ge=>{const Ot=P.children[ge],mn=function wn(S,x){const B=S.filter(P=>Yr(P)===x);return B.push(...S.filter(P=>Yr(P)!==x)),B}(B,ge);return this.processSegmentGroup(x,mn,Ot,ge,j)}),(0,qn.S)((ge,Ot)=>(ge.push(...Ot),ge)),(0,At.U)(null),function te(S,x){const B=arguments.length>=2;return P=>P.pipe(S?(0,Gt.p)((j,he)=>S(j,he,P)):Ie.D,ye(1),B?(0,At.U)(x):(0,Ce.v)(()=>new Ke.G))}(),(0,Re.Z)(ge=>{if(null===ge)return ji(P);const Ot=Gs(ge);return function Xo(S){S.sort((x,B)=>x.value.outlet===Kt?-1:B.value.outlet===Kt?1:x.value.outlet.localeCompare(B.value.outlet))}(Ot),(0,ce.of)(Ot)}))}processSegment(x,B,P,j,he,ge,Ot){return(0,Se.H)(B).pipe((0,qt.H)(mn=>{var Vt;return this.processSegmentAgainstRoute(null!==(Vt=mn._injector)&&void 0!==Vt?Vt:x,B,mn,P,j,he,ge,Ot).pipe(jt(Xn=>{if(Xn instanceof li)return(0,ce.of)(null);throw Xn}))}),(0,tn.$)(mn=>!!mn),jt(mn=>{if(Qo(mn))return function hs(S,x,B){return 0===x.length&&!S.children[B]}(P,j,he)?(0,ce.of)(new ra):ji(P);throw mn}))}processSegmentAgainstRoute(x,B,P,j,he,ge,Ot,mn){return Yr(P)===ge||ge!==Kt&&Ko(j,he,P)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,he,ge,mn):this.allowRedirects&&Ot?this.expandSegmentAgainstRouteUsingRedirect(x,j,B,P,he,ge,mn):ji(j):ji(j)}expandSegmentAgainstRouteUsingRedirect(x,B,P,j,he,ge,Ot){var mn,Vt;const{matched:Xn,parameters:Zr,consumedSegments:Li,positionalParamSegments:ii,remainingSegments:qi}=si(B,j,he);if(!Xn)return ji(B);"string"==typeof j.redirectTo&&"/"===j.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const qo=new Tn(he,Zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ia(j),Yr(j),null!==(mn=null!==(Vt=j.component)&&void 0!==Vt?Vt:j._loadedComponent)&&void 0!==mn?mn:null,j,$o(j)),As=un(qo,Ot,this.paramsInheritanceStrategy);qo.params=Object.freeze(As.params),qo.data=Object.freeze(As.data);const $a=this.applyRedirects.applyRedirectCommands(Li,j.redirectTo,ii,qo,x);return this.applyRedirects.lineralizeSegments(j,$a).pipe((0,Re.Z)(Ls=>this.processSegment(x,P,B,Ls.concat(qi),ge,!1,Ot)))}matchSegmentAgainstRoute(x,B,P,j,he,ge){const Ot=Mr(B,P,j,x);return"**"===P.path&&(B.children={}),Ot.pipe((0,at.n)(mn=>{var Vt;return mn.matched?(x=null!==(Vt=P._injector)&&void 0!==Vt?Vt:x,this.getChildConfig(x,P,j).pipe((0,at.n)(({routes:Xn})=>{var Zr,Li,ii;const qi=null!==(Zr=P._loadedInjector)&&void 0!==Zr?Zr:x,{parameters:qo,consumedSegments:As,remainingSegments:$a}=mn,Ls=new Tn(As,qo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ia(P),Yr(P),null!==(Li=null!==(ii=P.component)&&void 0!==ii?ii:P._loadedComponent)&&void 0!==Li?Li:null,P,$o(P)),Fs=un(Ls,ge,this.paramsInheritanceStrategy);Ls.params=Object.freeze(Fs.params),Ls.data=Object.freeze(Fs.data);const{segmentGroup:Au,slicedSegments:xl}=ao(B,As,$a,Xn);if(0===xl.length&&Au.hasChildren())return this.processChildren(qi,Xn,Au,Ls).pipe((0,Oe.T)(ja=>new ze(Ls,ja)));if(0===Xn.length&&0===xl.length)return(0,ce.of)(new ze(Ls,[]));const mc=Yr(P)===he;return this.processSegment(qi,Xn,Au,xl,mc?Kt:he,!0,Ls).pipe((0,Oe.T)(ja=>new ze(Ls,ja instanceof ze?[ja]:[])))}))):ji(B)}))}getChildConfig(x,B,P){return B.children?(0,ce.of)({routes:B.children,injector:x}):B.loadChildren?void 0!==B._loadedRoutes?(0,ce.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function ve(S,x,B,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,ce.of)(!0);const he=j.map(ge=>{const Ot=yo(ge,S);return Ne(function Rs(S){return S&&$r(S.canLoad)}(Ot)?Ot.canLoad(x,B):(0,h.N4e)(S,()=>Ot(x,B)))});return(0,ce.of)(he).pipe(oo(),yn())}(x,B,P).pipe((0,Re.Z)(j=>j?this.configLoader.loadChildren(x,B).pipe((0,Cn.M)(he=>{B._loadedRoutes=he.routes,B._loadedInjector=he.injector})):function Ao(){return Ze(bs(!1,Ni.GuardRejected))}())):(0,ce.of)({routes:[],injector:x})}}function Mo(S){const x=S.value.routeConfig;return x&&""===x.path}function Gs(S){const x=[],B=new Set;for(const P of S){if(!Mo(P)){x.push(P);continue}const j=x.find(he=>P.value.routeConfig===he.value.routeConfig);void 0!==j?(j.children.push(...P.children),B.add(j)):x.push(P)}for(const P of B){const j=Gs(P.children);x.push(new ze(P.value,j))}return x.filter(P=>!B.has(P))}function ia(S){return S.data||{}}function $o(S){return S.resolve||{}}function cl(S){const x=S.children.map(B=>cl(B)).flat();return[S,...x]}function ya(S){return(0,at.n)(x=>{const B=S(x);return B?(0,Se.H)(B).pipe((0,Oe.T)(()=>x)):(0,ce.of)(x)})}let To=(()=>{var S;class x{buildTitle(P){let j,he=P.root;for(;void 0!==he;){var ge;j=null!==(ge=this.getResolvedTitleForRoute(he))&&void 0!==ge?ge:j,he=he.children.find(Ot=>Ot.outlet===Kt)}return j}getResolvedTitleForRoute(P){return P.data[$n]}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:()=>(0,h.WQX)(es),providedIn:"root"}),x})(),es=(()=>{var S;class x extends To{constructor(P){super(),this.title=P}updateTitle(P){const j=this.buildTitle(P);void 0!==j&&this.title.setTitle(j)}}return(S=x).\u0275fac=function(P){return new(P||S)(h.KVO(an.hE))},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();const jo=new h.nKC("",{providedIn:"root",factory:()=>({})});let vs=(()=>{var S;class x{}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275cmp=h.VBU({type:S,selectors:[["ng-component"]],standalone:!0,features:[h.aNF],decls:1,vars:0,template:function(P,j){1&P&&h.nrm(0,"router-outlet")},dependencies:[ri],encapsulation:2}),x})();function Ca(S){const x=S.children&&S.children.map(Ca),B=x?{...S,children:x}:{...S};return!B.component&&!B.loadComponent&&(x||B.loadChildren)&&B.outlet&&B.outlet!==Kt&&(B.component=vs),B}const Ks=new h.nKC("");let Xs=(()=>{var S;class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.WQX)(h.Ql9)}loadComponent(P){if(this.componentLoaders.get(P))return this.componentLoaders.get(P);if(P._loadedComponent)return(0,ce.of)(P._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(P);const j=Ne(P.loadComponent()).pipe((0,Oe.T)(O),(0,Cn.M)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(P),P._loadedComponent=ge}),(0,Le.j)(()=>{this.componentLoaders.delete(P)})),he=new yt(j,()=>new Ae.B).pipe(Dt());return this.componentLoaders.set(P,he),he}loadChildren(P,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,ce.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const ge=function ts(S,x,B,P){return Ne(S.loadChildren()).pipe((0,Oe.T)(O),(0,Re.Z)(j=>j instanceof h.Co$||Array.isArray(j)?(0,ce.of)(j):(0,Se.H)(x.compileModuleAsync(j))),(0,Oe.T)(j=>{P&&P(S);let he,ge,Ot=!1;return Array.isArray(j)?(ge=j,!0):(he=j.create(B).injector,ge=he.get(Ks,[],{optional:!0,self:!0}).flat()),{routes:ge.map(Ca),injector:he}}))}(j,this.compiler,P,this.onLoadEndListener).pipe((0,Le.j)(()=>{this.childrenLoaders.delete(j)})),Ot=new yt(ge,()=>new Ae.B).pipe(Dt());return this.childrenLoaders.set(j,Ot),Ot}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();function O(S){return function C(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let W=(()=>{var S;class x{}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:()=>(0,h.WQX)(A),providedIn:"root"}),x})(),A=(()=>{var S;class x{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,j){return P}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();const H=new h.nKC(""),de=new h.nKC("");function b(S,x,B){const P=S.get(de),j=S.get(Te.qQ);return S.get(h.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||P.skipNextTransition)return P.skipNextTransition=!1,new Promise(Vt=>setTimeout(Vt));let he;const ge=new Promise(Vt=>{he=Vt}),Ot=j.startViewTransition(()=>(he(),function F(S){return new Promise(x=>{(0,h.mal)({read:()=>setTimeout(x)},{injector:S})})}(S))),{onViewTransitionCreated:mn}=P;return mn&&(0,h.N4e)(S,()=>mn({transition:Ot,from:x,to:B})),ge})}const pe=new h.nKC("");let $=(()=>{var S;class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae.B,this.transitionAbortSubject=new Ae.B,this.configLoader=(0,h.WQX)(Xs),this.environmentInjector=(0,h.WQX)(h.uvJ),this.urlSerializer=(0,h.WQX)(pr),this.rootContexts=(0,h.WQX)(ro),this.location=(0,h.WQX)(Te.aZ),this.inputBindingEnabled=null!==(0,h.WQX)(bi,{optional:!0}),this.titleStrategy=(0,h.WQX)(To),this.options=(0,h.WQX)(jo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.WQX)(W),this.createViewTransition=(0,h.WQX)(H,{optional:!0}),this.navigationErrorHandler=(0,h.WQX)(pe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=he=>this.events.next(new _n(he)),this.configLoader.onLoadStartListener=he=>this.events.next(new nn(he))}complete(){var P;null===(P=this.transitions)||void 0===P||P.complete()}handleNavigationRequest(P){var j;const he=++this.navigationId;null===(j=this.transitions)||void 0===j||j.next({...this.transitions.value,...P,id:he})}setupNavigations(P,j,he){return this.transitions=new Me.t({id:0,currentUrlTree:j,currentRawUrl:j,extractedUrl:this.urlHandlingStrategy.extract(j),urlAfterRedirects:this.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vi,restoredState:null,currentSnapshot:he.snapshot,targetSnapshot:null,currentRouterState:he,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Gt.p)(ge=>0!==ge.id),(0,Oe.T)(ge=>({...ge,extractedUrl:this.urlHandlingStrategy.extract(ge.rawUrl)})),(0,at.n)(ge=>{let Ot=!1,mn=!1;return(0,ce.of)(ge).pipe((0,at.n)(Vt=>{var Xn;if(this.navigationId>ge.id)return this.cancelNavigationTransition(ge,"",Ni.SupersededByNewNavigation),gt.w;this.currentTransition=ge,this.currentNavigation={id:Vt.id,initialUrl:Vt.rawUrl,extractedUrl:Vt.extractedUrl,targetBrowserUrl:"string"==typeof Vt.extras.browserUrl?this.urlSerializer.parse(Vt.extras.browserUrl):Vt.extras.browserUrl,trigger:Vt.source,extras:Vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Zr=!P.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Li=null!==(Xn=Vt.extras.onSameUrlNavigation)&&void 0!==Xn?Xn:P.onSameUrlNavigation;if(!Zr&&"reload"!==Li){const ii="";return this.events.next(new Ho(Vt.id,this.urlSerializer.serialize(Vt.rawUrl),ii,Ro.IgnoredSameUrlNavigation)),Vt.resolve(!1),gt.w}if(this.urlHandlingStrategy.shouldProcessUrl(Vt.rawUrl))return(0,ce.of)(Vt).pipe((0,at.n)(ii=>{var qi,qo;const As=null===(qi=this.transitions)||void 0===qi?void 0:qi.getValue();return this.events.next(new Pr(ii.id,this.urlSerializer.serialize(ii.extractedUrl),ii.source,ii.restoredState)),As!==(null===(qo=this.transitions)||void 0===qo?void 0:qo.getValue())?gt.w:Promise.resolve(ii)}),function Ta(S,x,B,P,j,he){return(0,Re.Z)(ge=>function Ua(S,x,B,P,j,he,ge="emptyOnly"){return new Jo(S,x,B,P,j,ge,he).recognize()}(S,x,B,P,ge.extractedUrl,j,he).pipe((0,Oe.T)(({state:Ot,tree:mn})=>({...ge,targetSnapshot:Ot,urlAfterRedirects:mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,P.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Cn.M)(ii=>{ge.targetSnapshot=ii.targetSnapshot,ge.urlAfterRedirects=ii.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ii.urlAfterRedirects};const qi=new Io(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects),ii.targetSnapshot);this.events.next(qi)}));if(Zr&&this.urlHandlingStrategy.shouldProcessUrl(Vt.currentRawUrl)){const{id:ii,extractedUrl:qi,source:qo,restoredState:As,extras:$a}=Vt,Ls=new Pr(ii,this.urlSerializer.serialize(qi),qo,As);this.events.next(Ls);const Fs=Ut(this.rootComponentType).snapshot;return this.currentTransition=ge={...Vt,targetSnapshot:Fs,urlAfterRedirects:qi,extras:{...$a,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=qi,(0,ce.of)(ge)}{const ii="";return this.events.next(new Ho(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),ii,Ro.IgnoredByUrlHandlingStrategy)),Vt.resolve(!1),gt.w}}),(0,Cn.M)(Vt=>{const Xn=new oe(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Xn)}),(0,Oe.T)(Vt=>(this.currentTransition=ge={...Vt,guards:Dr(Vt.targetSnapshot,Vt.currentSnapshot,this.rootContexts)},ge)),function Ms(S,x){return(0,Re.Z)(B=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:he,canDeactivateChecks:ge}}=B;return 0===ge.length&&0===he.length?(0,ce.of)({...B,guardsResult:!0}):function Wo(S,x,B,P){return(0,Se.H)(S).pipe((0,Re.Z)(j=>function X(S,x,B,P,j){const he=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,ce.of)(!0);const ge=he.map(Ot=>{var mn;const Vt=null!==(mn=Pi(x))&&void 0!==mn?mn:j,Xn=yo(Ot,Vt);return Ne(function ms(S){return S&&$r(S.canDeactivate)}(Xn)?Xn.canDeactivate(S,x,B,P):(0,h.N4e)(Vt,()=>Xn(S,x,B,P))).pipe((0,tn.$)())});return(0,ce.of)(ge).pipe(oo())}(j.component,j.route,B,x,P)),(0,tn.$)(j=>!0!==j,!0))}(ge,P,j,S).pipe((0,Re.Z)(Ot=>Ot&&function Ss(S){return"boolean"==typeof S}(Ot)?function xs(S,x,B,P){return(0,Se.H)(x).pipe((0,qt.H)(j=>(0,be.x)(function Z(S,x){return null!==S&&x&&x(new Hn(S)),(0,ce.of)(!0)}(j.route.parent,P),function va(S,x){return null!==S&&x&&x(new Yn(S)),(0,ce.of)(!0)}(j.route,P),function re(S,x,B){const P=x[x.length-1],he=x.slice(0,x.length-1).reverse().map(ge=>function Bo(S){const x=S.routeConfig?S.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:S,guards:x}:null}(ge)).filter(ge=>null!==ge).map(ge=>Ge(()=>{const Ot=ge.guards.map(mn=>{var Vt;const Xn=null!==(Vt=Pi(ge.node))&&void 0!==Vt?Vt:B,Zr=yo(mn,Xn);return Ne(function zs(S){return S&&$r(S.canActivateChild)}(Zr)?Zr.canActivateChild(P,S):(0,h.N4e)(Xn,()=>Zr(P,S))).pipe((0,tn.$)())});return(0,ce.of)(Ot).pipe(oo())}));return(0,ce.of)(he).pipe(oo())}(S,j.path,B),function V(S,x,B){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,ce.of)(!0);const j=P.map(he=>Ge(()=>{var ge;const Ot=null!==(ge=Pi(x))&&void 0!==ge?ge:B,mn=yo(he,Ot);return Ne(function Ps(S){return S&&$r(S.canActivate)}(mn)?mn.canActivate(x,S):(0,h.N4e)(Ot,()=>mn(x,S))).pipe((0,tn.$)())}));return(0,ce.of)(j).pipe(oo())}(S,j.route,B))),(0,tn.$)(j=>!0!==j,!0))}(P,he,S,x):(0,ce.of)(Ot)),(0,Oe.T)(Ot=>({...B,guardsResult:Ot})))})}(this.environmentInjector,Vt=>this.events.next(Vt)),(0,Cn.M)(Vt=>{if(ge.guardsResult=Vt.guardsResult,Vt.guardsResult&&"boolean"!=typeof Vt.guardsResult)throw Zo(0,Vt.guardsResult);const Xn=new Ue(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot,!!Vt.guardsResult);this.events.next(Xn)}),(0,Gt.p)(Vt=>!!Vt.guardsResult||(this.cancelNavigationTransition(Vt,"",Ni.GuardRejected),!1)),ya(Vt=>{if(Vt.guards.canActivateChecks.length)return(0,ce.of)(Vt).pipe((0,Cn.M)(Xn=>{const Zr=new xt(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects),Xn.targetSnapshot);this.events.next(Zr)}),(0,at.n)(Xn=>{let Zr=!1;return(0,ce.of)(Xn).pipe(function xo(S,x){return(0,Re.Z)(B=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=B;if(!j.length)return(0,ce.of)(B);const he=new Set(j.map(mn=>mn.route)),ge=new Set;for(const mn of he)if(!ge.has(mn))for(const Vt of cl(mn))ge.add(Vt);let Ot=0;return(0,Se.H)(ge).pipe((0,qt.H)(mn=>he.has(mn)?function _s(S,x,B,P){const j=S.routeConfig,he=S._resolve;return void 0!==(null==j?void 0:j.title)&&!Ci(j)&&(he[$n]=j.title),function Hr(S,x,B,P){const j=ln(S);if(0===j.length)return(0,ce.of)({});const he={};return(0,Se.H)(j).pipe((0,Re.Z)(ge=>function Za(S,x,B,P){var j;const he=null!==(j=Pi(x))&&void 0!==j?j:P,ge=yo(S,he);return Ne(ge.resolve?ge.resolve(x,B):(0,h.N4e)(he,()=>ge(x,B)))}(S[ge],x,B,P).pipe((0,tn.$)(),(0,Cn.M)(Ot=>{if(Ot instanceof Vo)throw Zo(new kr,Ot);he[ge]=Ot}))),ye(1),function _e(S){return(0,Oe.T)(()=>S)}(he),jt(ge=>Qo(ge)?gt.w:Ze(ge)))}(he,S,x,P).pipe((0,Oe.T)(ge=>(S._resolvedData=ge,S.data=un(S,S.parent,B).resolve,null)))}(mn,P,S,x):(mn.data=un(mn,mn.parent,S).resolve,(0,ce.of)(void 0))),(0,Cn.M)(()=>Ot++),ye(1),(0,Re.Z)(mn=>Ot===ge.size?(0,ce.of)(B):gt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Cn.M)({next:()=>Zr=!0,complete:()=>{Zr||this.cancelNavigationTransition(Xn,"",Ni.NoDataFromResolver)}}))}),(0,Cn.M)(Xn=>{const Zr=new It(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects),Xn.targetSnapshot);this.events.next(Zr)}))}),ya(Vt=>{const Xn=Zr=>{var Li;const ii=[];null!==(Li=Zr.routeConfig)&&void 0!==Li&&Li.loadComponent&&!Zr.routeConfig._loadedComponent&&ii.push(this.configLoader.loadComponent(Zr.routeConfig).pipe((0,Cn.M)(qi=>{Zr.component=qi}),(0,Oe.T)(()=>{})));for(const qi of Zr.children)ii.push(...Xn(qi));return ii};return(0,We.z)(Xn(Vt.targetSnapshot.root)).pipe((0,At.U)(null),(0,Qe.s)(1))}),ya(()=>this.afterPreactivation()),(0,at.n)(()=>{var Vt;const{currentSnapshot:Xn,targetSnapshot:Zr}=ge,Li=null===(Vt=this.createViewTransition)||void 0===Vt?void 0:Vt.call(this,this.environmentInjector,Xn.root,Zr.root);return Li?(0,Se.H)(Li).pipe((0,Oe.T)(()=>ge)):(0,ce.of)(ge)}),(0,Oe.T)(Vt=>{const Xn=function Qi(S,x,B){const P=Yi(S,x._root,B?B._root:void 0);return new it(P,x)}(P.routeReuseStrategy,Vt.targetSnapshot,Vt.currentRouterState);return this.currentTransition=ge={...Vt,targetRouterState:Xn},this.currentNavigation.targetRouterState=Xn,ge}),(0,Cn.M)(()=>{this.events.next(new Oi)}),((S,x,B,P)=>(0,Oe.T)(j=>(new io(x,j.targetRouterState,j.currentRouterState,B,P).activate(S),j)))(this.rootContexts,P.routeReuseStrategy,Vt=>this.events.next(Vt),this.inputBindingEnabled),(0,Qe.s)(1),(0,Cn.M)({next:Vt=>{var Xn;Ot=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gi(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects))),null===(Xn=this.titleStrategy)||void 0===Xn||Xn.updateTitle(Vt.targetRouterState.snapshot),Vt.resolve(!0)},complete:()=>{Ot=!0}}),function $e(S){return(0,ot.N)((x,B)=>{(0,me.Tg)(S).subscribe((0,ft._)(B,()=>B.complete(),He.l)),!B.closed&&x.subscribe(B)})}(this.transitionAbortSubject.pipe((0,Cn.M)(Vt=>{throw Vt}))),(0,Le.j)(()=>{var Vt;!Ot&&!mn&&this.cancelNavigationTransition(ge,"",Ni.SupersededByNewNavigation),(null===(Vt=this.currentTransition)||void 0===Vt?void 0:Vt.id)===ge.id&&(this.currentNavigation=null,this.currentTransition=null)}),jt(Vt=>{if(mn=!0,Xi(Vt))this.events.next(new Di(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Vt.message,Vt.cancellationCode)),function os(S){return Xi(S)&&pi(S.url)}(Vt)?this.events.next(new Lr(Vt.url,Vt.navigationBehaviorOptions)):ge.resolve(!1);else{var Xn;const Zr=new Go(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Vt,null!==(Xn=ge.targetSnapshot)&&void 0!==Xn?Xn:void 0);try{const Li=(0,h.N4e)(this.environmentInjector,()=>{var ii;return null===(ii=this.navigationErrorHandler)||void 0===ii?void 0:ii.call(this,Zr)});if(Li instanceof Vo){const{message:ii,cancellationCode:qi}=Zo(0,Li);this.events.next(new Di(ge.id,this.urlSerializer.serialize(ge.extractedUrl),ii,qi)),this.events.next(new Lr(Li.redirectTo,Li.navigationBehaviorOptions))}else{this.events.next(Zr);const ii=P.errorHandler(Vt);ge.resolve(!!ii)}}catch(Li){this.options.resolveNavigationPromiseOnError?ge.resolve(!1):ge.reject(Li)}}return gt.w}))}))}cancelNavigationTransition(P,j,he){const ge=new Di(P.id,this.urlSerializer.serialize(P.extractedUrl),j,he);this.events.next(ge),P.resolve(!1)}isUpdatingInternalState(){var P,j;return(null===(P=this.currentTransition)||void 0===P?void 0:P.extractedUrl.toString())!==(null===(j=this.currentTransition)||void 0===j?void 0:j.currentUrlTree.toString())}isUpdatedBrowserUrl(){var P,j,he,ge;const Ot=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),mn=null!==(P=null===(j=this.currentNavigation)||void 0===j?void 0:j.targetBrowserUrl)&&void 0!==P?P:null===(he=this.currentNavigation)||void 0===he?void 0:he.extractedUrl;return Ot.toString()!==(null==mn?void 0:mn.toString())&&!(null!==(ge=this.currentNavigation)&&void 0!==ge&&ge.extras.skipLocationChange)}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();function ne(S){return S!==Vi}let s=(()=>{var S;class x{}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:()=>(0,h.WQX)(y),providedIn:"root"}),x})();class d{shouldDetach(x){return!1}store(x,B){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,B){return x.routeConfig===B.routeConfig}}let y=(()=>{var S;class x extends d{}return(S=x).\u0275fac=(()=>{let B;return function(j){return(B||(B=h.xGo(S)))(j||S)}})(),S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})(),N=(()=>{var S;class x{}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:()=>(0,h.WQX)(K),providedIn:"root"}),x})(),K=(()=>{var S;class x extends N{constructor(){super(...arguments),this.location=(0,h.WQX)(Te.aZ),this.urlSerializer=(0,h.WQX)(pr),this.options=(0,h.WQX)(jo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.WQX)(W),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ut(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var P,j;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(P=null===(j=this.restoredState())||void 0===j?void 0:j.\u0275routerPageId)&&void 0!==P?P:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(P){return this.location.subscribe(j=>{"popstate"===j.type&&P(j.url,j.state)})}handleRouterEvent(P,j){if(P instanceof Pr)this.stateMemento=this.createStateMemento();else if(P instanceof Ho)this.rawUrlTree=j.initialUrl;else if(P instanceof Io){if("eager"===this.urlUpdateStrategy&&!j.extras.skipLocationChange){var he;const Ot=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl);this.setBrowserUrl(null!==(he=j.targetBrowserUrl)&&void 0!==he?he:Ot,j)}}else if(P instanceof Oi){var ge;this.currentUrlTree=j.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl),this.routerState=j.targetRouterState,"deferred"!==this.urlUpdateStrategy||j.extras.skipLocationChange||this.setBrowserUrl(null!==(ge=j.targetBrowserUrl)&&void 0!==ge?ge:this.rawUrlTree,j)}else P instanceof Di&&(P.code===Ni.GuardRejected||P.code===Ni.NoDataFromResolver)?this.restoreHistory(j):P instanceof Go?this.restoreHistory(j,!0):P instanceof gi&&(this.lastSuccessfulId=P.id,this.currentPageId=this.browserPageId)}setBrowserUrl(P,j){const he=P instanceof Cr?this.urlSerializer.serialize(P):P;if(this.location.isCurrentPathEqualTo(he)||j.extras.replaceUrl){const Ot={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(he,"",Ot)}else{const ge={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(he,"",ge)}}restoreHistory(P,j=!1){if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-this.browserPageId;0!==ge?this.location.historyGo(ge):this.currentUrlTree===P.finalUrl&&0===ge&&(this.resetState(P),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){var j;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(j=P.finalUrl)&&void 0!==j?j:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(P,j){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:j}:{navigationId:P}}}return(S=x).\u0275fac=(()=>{let B;return function(j){return(B||(B=h.xGo(S)))(j||S)}})(),S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();var se=function(S){return S[S.COMPLETE=0]="COMPLETE",S[S.FAILED=1]="FAILED",S[S.REDIRECTING=2]="REDIRECTING",S}(se||{});function Be(S,x){S.events.pipe((0,Gt.p)(B=>B instanceof gi||B instanceof Di||B instanceof Go||B instanceof Ho),(0,Oe.T)(B=>B instanceof gi||B instanceof Ho?se.COMPLETE:B instanceof Di&&(B.code===Ni.Redirect||B.code===Ni.SupersededByNewNavigation)?se.REDIRECTING:se.FAILED),(0,Gt.p)(B=>B!==se.REDIRECTING),(0,Qe.s)(1)).subscribe(()=>{x()})}function Tt(S){throw S}const Pt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fn=(()=>{var S;class x{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var P,j;this.disposed=!1,this.console=(0,h.WQX)(h.H3F),this.stateManager=(0,h.WQX)(N),this.options=(0,h.WQX)(jo,{optional:!0})||{},this.pendingTasks=(0,h.WQX)(h.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.WQX)($),this.urlSerializer=(0,h.WQX)(pr),this.location=(0,h.WQX)(Te.aZ),this.urlHandlingStrategy=(0,h.WQX)(W),this._events=new Ae.B,this.errorHandler=this.options.errorHandler||Tt,this.navigated=!1,this.routeReuseStrategy=(0,h.WQX)(s),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(P=null===(j=(0,h.WQX)(Ks,{optional:!0}))||void 0===j?void 0:j.flat())&&void 0!==P?P:[],this.componentInputBindingEnabled=!!(0,h.WQX)(bi,{optional:!0}),this.eventsSubscription=new vt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:he=>{this.console.warn(he)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const P=this.navigationTransitions.events.subscribe(j=>{try{const he=this.navigationTransitions.currentTransition,ge=this.navigationTransitions.currentNavigation;if(null!==he&&null!==ge)if(this.stateManager.handleRouterEvent(j,ge),j instanceof Di&&j.code!==Ni.Redirect&&j.code!==Ni.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof gi)this.navigated=!0;else if(j instanceof Lr){const Ot=j.navigationBehaviorOptions,mn=this.urlHandlingStrategy.merge(j.url,he.currentRawUrl),Vt={browserUrl:he.extras.browserUrl,info:he.extras.info,skipLocationChange:he.extras.skipLocationChange,replaceUrl:he.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ne(he.source),...Ot};this.scheduleNavigation(mn,Vi,null,Vt,{resolve:he.resolve,reject:he.reject,promise:he.promise})}(function rn(S){return!(S instanceof Oi||S instanceof Lr)})(j)&&this._events.next(j)}catch(he){this.navigationTransitions.transitionAbortSubject.next(he)}});this.eventsSubscription.add(P)}resetRootComponentType(P){this.routerState.root.component=P,this.navigationTransitions.rootComponentType=P}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vi,this.stateManager.restoredState())}setUpLocationChangeListener(){var P;null!==(P=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==P||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((j,he)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(j,"popstate",he)},0)}))}navigateToSyncWithBrowser(P,j,he){const ge={replaceUrl:!0},Ot=null!=he&&he.navigationId?he:null;if(he){const Vt={...he};delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(ge.state=Vt)}const mn=this.parseUrl(P);this.scheduleNavigation(mn,j,Ot,ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(P){this.config=P.map(Ca),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(P,j={}){const{relativeTo:he,queryParams:ge,fragment:Ot,queryParamsHandling:mn,preserveFragment:Vt}=j,Xn=Vt?this.currentUrlTree.fragment:Ot;let Li,Zr=null;switch(null!=mn?mn:this.options.defaultQueryParamsHandling){case"merge":Zr={...this.currentUrlTree.queryParams,...ge};break;case"preserve":Zr=this.currentUrlTree.queryParams;break;default:Zr=ge||null}null!==Zr&&(Zr=this.removeEmptyProps(Zr));try{Li=tr(he?he.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof P[0]||"/"!==P[0][0])&&(P=[]),Li=this.currentUrlTree.root}return Wi(Li,P,Zr,null!=Xn?Xn:null)}navigateByUrl(P,j={skipLocationChange:!1}){const he=pi(P)?P:this.parseUrl(P),ge=this.urlHandlingStrategy.merge(he,this.rawUrlTree);return this.scheduleNavigation(ge,Vi,null,j)}navigate(P,j={skipLocationChange:!1}){return function jn(S){for(let x=0;x<S.length;x++)if(null==S[x])throw new h.wOt(4008,!1)}(P),this.navigateByUrl(this.createUrlTree(P,j),j)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){try{return this.urlSerializer.parse(P)}catch{return this.urlSerializer.parse("/")}}isActive(P,j){let he;if(he=!0===j?{...Pt}:!1===j?{...pn}:j,pi(P))return St(this.currentUrlTree,P,he);const ge=this.parseUrl(P);return St(this.currentUrlTree,ge,he)}removeEmptyProps(P){return Object.entries(P).reduce((j,[he,ge])=>(null!=ge&&(j[he]=ge),j),{})}scheduleNavigation(P,j,he,ge,Ot){if(this.disposed)return Promise.resolve(!1);let mn,Vt,Xn;Ot?(mn=Ot.resolve,Vt=Ot.reject,Xn=Ot.promise):Xn=new Promise((Li,ii)=>{mn=Li,Vt=ii});const Zr=this.pendingTasks.add();return Be(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zr))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:he,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:P,extras:ge,resolve:mn,reject:Vt,promise:Xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xn.catch(Li=>Promise.reject(Li))}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})(),Kn=(()=>{var S;class x{constructor(P,j,he,ge,Ot,mn){var Vt;this.router=P,this.route=j,this.tabIndexAttribute=he,this.renderer=ge,this.el=Ot,this.locationStrategy=mn,this.href=null,this.onChanges=new Ae.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Xn=null===(Vt=Ot.nativeElement.tagName)||void 0===Vt?void 0:Vt.toLowerCase();this.isAnchorElement="a"===Xn||"area"===Xn,this.isAnchorElement?this.subscription=P.events.subscribe(Zr=>{Zr instanceof gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(P){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",P)}ngOnChanges(P){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(P){null==P?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=pi(P)||Array.isArray(P)?P:[P],this.setTabIndexIfNotOnNativeEl("0"))}onClick(P,j,he,ge,Ot){const mn=this.urlTree;return!!(null===mn||this.isAnchorElement&&(0!==P||j||he||ge||Ot||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(mn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var P;null===(P=this.subscription)||void 0===P||P.unsubscribe()}updateHref(){var P;const j=this.urlTree;this.href=null!==j&&this.locationStrategy?null===(P=this.locationStrategy)||void 0===P?void 0:P.prepareExternalUrl(this.router.serializeUrl(j)):null;const he=null===this.href?null:(0,h.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",he)}applyAttributeValue(P,j){const he=this.renderer,ge=this.el.nativeElement;null!==j?he.setAttribute(ge,P,j):he.removeAttribute(ge,P)}get urlTree(){return null===this.routerLinkInput?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(S=x).\u0275fac=function(P){return new(P||S)(h.rXU(Fn),h.rXU(Yt),h.kS0("tabindex"),h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Te.hb))},S.\u0275dir=h.FsC({type:S,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&h.bIt("click",function(ge){return j.onClick(ge.button,ge.ctrlKey,ge.shiftKey,ge.altKey,ge.metaKey)}),2&P&&h.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",h.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",h.L39],replaceUrl:[2,"replaceUrl","replaceUrl",h.L39],routerLink:"routerLink"},standalone:!0,features:[h.GFd,h.OA$]}),x})();class di{}let Ji=(()=>{var S;class x{preload(P,j){return j().pipe(jt(()=>(0,ce.of)(null)))}}return(S=x).\u0275fac=function(P){return new(P||S)},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})(),qr=(()=>{var S;class x{constructor(P,j,he,ge,Ot){this.router=P,this.injector=he,this.preloadingStrategy=ge,this.loader=Ot}setUpPreloading(){this.subscription=this.router.events.pipe((0,Gt.p)(P=>P instanceof gi),(0,qt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,j){const he=[];for(const Vt of j){var ge,Ot;Vt.providers&&!Vt._injector&&(Vt._injector=(0,h.Ol2)(Vt.providers,P,`Route: ${Vt.path}`));const Xn=null!==(ge=Vt._injector)&&void 0!==ge?ge:P,Zr=null!==(Ot=Vt._loadedInjector)&&void 0!==Ot?Ot:Xn;var mn;(Vt.loadChildren&&!Vt._loadedRoutes&&void 0===Vt.canLoad||Vt.loadComponent&&!Vt._loadedComponent)&&he.push(this.preloadConfig(Xn,Vt)),(Vt.children||Vt._loadedRoutes)&&he.push(this.processRoutes(Zr,null!==(mn=Vt.children)&&void 0!==mn?mn:Vt._loadedRoutes))}return(0,Se.H)(he).pipe((0,rt.U)())}preloadConfig(P,j){return this.preloadingStrategy.preload(j,()=>{let he;he=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(P,j):(0,ce.of)(null);const ge=he.pipe((0,Re.Z)(Ot=>{var mn;return null===Ot?(0,ce.of)(void 0):(j._loadedRoutes=Ot.routes,j._loadedInjector=Ot.injector,this.processRoutes(null!==(mn=Ot.injector)&&void 0!==mn?mn:P,Ot.routes))}));if(j.loadComponent&&!j._loadedComponent){const Ot=this.loader.loadComponent(j);return(0,Se.H)([ge,Ot]).pipe((0,rt.U)())}return ge})}}return(S=x).\u0275fac=function(P){return new(P||S)(h.KVO(Fn),h.KVO(h.Ql9),h.KVO(h.uvJ),h.KVO(di),h.KVO(Xs))},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac,providedIn:"root"}),x})();const Sr=new h.nKC("");let ys=(()=>{var S;class x{constructor(P,j,he,ge,Ot={}){this.urlSerializer=P,this.transitions=j,this.viewportScroller=he,this.zone=ge,this.options=Ot,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ot.scrollPositionRestoration||(Ot.scrollPositionRestoration="disabled"),Ot.anchorScrolling||(Ot.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof gi?(this.lastId=P.id,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.urlAfterRedirects).fragment)):P instanceof Ho&&P.code===Ro.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Ai&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ai(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){var P,j;null===(P=this.routerEventsSubscription)||void 0===P||P.unsubscribe(),null===(j=this.scrollEventsSubscription)||void 0===j||j.unsubscribe()}}return(S=x).\u0275fac=function(P){h.QTQ()},S.\u0275prov=h.jDH({token:S,factory:S.\u0275fac}),x})();function xi(S,x){return{\u0275kind:S,\u0275providers:x}}function no(){const S=(0,h.WQX)(h.zZn);return x=>{var B,P;const j=S.get(h.o8S);if(x!==j.components[0])return;const he=S.get(Fn),ge=S.get(Os);1===S.get(wa)&&he.initialNavigation(),null===(B=S.get(wr,null,h.$GK.Optional))||void 0===B||B.setUpPreloading(),null===(P=S.get(Sr,null,h.$GK.Optional))||void 0===P||P.init(),he.resetRootComponentType(j.componentTypes[0]),ge.closed||(ge.next(),ge.complete(),ge.unsubscribe())}}const Os=new h.nKC("",{factory:()=>new Ae.B}),wa=new h.nKC("",{providedIn:"root",factory:()=>1}),wr=new h.nKC("");function Xl(S){return xi(0,[{provide:wr,useExisting:qr},{provide:di,useExisting:S}])}function Co(S){return xi(9,[{provide:H,useValue:b},{provide:de,useValue:{skipNextTransition:!(null==S||!S.skipInitialTransition),...S}}])}const uo=new h.nKC("ROUTER_FORROOT_GUARD"),wo=[Te.aZ,{provide:pr,useClass:kr},Fn,ro,{provide:Yt,useFactory:function qs(S){return S.routerState.root},deps:[Fn]},Xs,[]];let Ya=(()=>{var S;class x{constructor(P){}static forRoot(P,j){return{ngModule:x,providers:[wo,[],{provide:Ks,multi:!0,useValue:P},{provide:uo,useFactory:Ja,deps:[[Fn,new h.Xx1,new h.kdw]]},{provide:jo,useValue:j||{}},null!=j&&j.useHash?{provide:Te.hb,useClass:Te.fw}:{provide:Te.hb,useClass:Te.Sm},{provide:Sr,useFactory:()=>{const S=(0,h.WQX)(Te.Xr),x=(0,h.WQX)(h.SKi),B=(0,h.WQX)(jo),P=(0,h.WQX)($),j=(0,h.WQX)(pr);return B.scrollOffset&&S.setOffset(B.scrollOffset),new ys(j,P,S,x,B)}},null!=j&&j.preloadingStrategy?Xl(j.preloadingStrategy).\u0275providers:[],null!=j&&j.initialNavigation?Zl(j):[],null!=j&&j.bindToComponentInputs?xi(8,[fo,{provide:bi,useExisting:fo}]).\u0275providers:[],null!=j&&j.enableViewTransitions?Co().\u0275providers:[],[{provide:Ml,useFactory:no},{provide:h.iLQ,multi:!0,useExisting:Ml}]]}}static forChild(P){return{ngModule:x,providers:[{provide:Ks,multi:!0,useValue:P}]}}}return(S=x).\u0275fac=function(P){return new(P||S)(h.KVO(uo,8))},S.\u0275mod=h.$C({type:S}),S.\u0275inj=h.G2t({}),x})();function Ja(S){return"guarded"}function Zl(S){return["disabled"===S.initialNavigation?xi(3,[{provide:h.hnV,multi:!0,useFactory:()=>{const x=(0,h.WQX)(Fn);return()=>{x.setUpLocationChangeListener()}}},{provide:wa,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?xi(2,[{provide:wa,useValue:0},{provide:h.hnV,multi:!0,deps:[h.zZn],useFactory:x=>{const B=x.get(Te.hj,Promise.resolve());return()=>B.then(()=>new Promise(P=>{const j=x.get(Fn),he=x.get(Os);Be(j,()=>{P(!0)}),x.get($).afterPreactivation=()=>(P(!0),he.closed?(0,ce.of)(void 0):he),j.initialNavigation()}))}}]).\u0275providers:[]]}const Ml=new h.nKC("")},3667:(Nn,wt,k)=>{"use strict";k.d(wt,{U1:()=>ie,Jm:()=>Rt,QW:()=>Yt,b_:()=>un,I9:()=>Tn,ME:()=>On,tN:()=>Zn,W9:()=>ri,eU:()=>Vo,iq:()=>Eo,$w:()=>Xi,uz:()=>ss,he:()=>yo,nf:()=>ki,oS:()=>gr,KO:()=>oo,f0:()=>_a,Rg:()=>hs,w2:()=>Ao,nc:()=>ao,Zx:()=>Gi,BC:()=>ds,ai:()=>Ko,bv:()=>ts,N7:()=>Jo,oY:()=>Xo,Je:()=>ui,Gw:()=>Kr});var h=k(9842),p=k(4438),Ee=k(4341),le=k(467),Se=k(9384),ce=k(177),Me=k(5531),We=k(4442);var qt=k(1413),Cn=k(8750),jt=k(1985),qn=k(1397),At=k(7441),ye=k(8071),Ce=k(6450);const Ie=["addListener","removeListener"],te=["addEventListener","removeEventListener"],_e=["on","off"];function Le(C,O,W,A){if((0,ye.T)(W)&&(A=W,W=void 0),A)return Le(C,O,W).pipe((0,Ce.I)(A));const[H,de]=function an(C){return(0,ye.T)(C.addEventListener)&&(0,ye.T)(C.removeEventListener)}(C)?te.map(b=>F=>C[b](O,F,W)):function $e(C){return(0,ye.T)(C.addListener)&&(0,ye.T)(C.removeListener)}(C)?Ie.map(He(C,O)):function rt(C){return(0,ye.T)(C.on)&&(0,ye.T)(C.off)}(C)?_e.map(He(C,O)):[];if(!H&&(0,At.X)(C))return(0,qn.Z)(b=>Le(b,O,W))((0,Cn.Tg)(C));if(!H)throw new TypeError("Invalid event target");return new jt.c(b=>{const F=(...pe)=>b.next(1<pe.length?pe:pe[0]);return H(F),()=>de(F)})}function He(C,O){return W=>A=>C[W](O,A)}var Kt=k(4412),$n=k(4572),ut=k(7673),Ct=k(1635),Gn=k(5964),ir=k(5558),Jt=k(3294);let Fe=(()=>{var C;class O{constructor(A,H){(0,h.A)(this,"doc",void 0),(0,h.A)(this,"_readyPromise",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"backButton",new qt.B),(0,h.A)(this,"keyboardDidShow",new qt.B),(0,h.A)(this,"keyboardDidHide",new qt.B),(0,h.A)(this,"pause",new qt.B),(0,h.A)(this,"resume",new qt.B),(0,h.A)(this,"resize",new qt.B),this.doc=A,H.run(()=>{var de;let b;this.win=A.defaultView,this.backButton.subscribeWithPriority=function(F,pe){return this.subscribe($=>$.register(F,ne=>H.run(()=>pe(ne))))},St(this.pause,A,"pause",H),St(this.resume,A,"resume",H),St(this.backButton,A,"ionBackButton",H),St(this.resize,this.win,"resize",H),St(this.keyboardDidShow,this.win,"ionKeyboardDidShow",H),St(this.keyboardDidHide,this.win,"ionKeyboardDidHide",H),this._readyPromise=new Promise(F=>{b=F}),null!==(de=this.win)&&void 0!==de&&de.cordova?A.addEventListener("deviceready",()=>{b("cordova")},{once:!0}):b("dom")})}is(A){return(0,Me.a)(this.win,A)}platforms(){return(0,Me.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(A){return Bt(this.win.location.href,A)}isLandscape(){return!this.isPortrait()}isPortrait(){var A,H;return null===(A=(H=this.win).matchMedia)||void 0===A?void 0:A.call(H,"(orientation: portrait)").matches}testUserAgent(A){const H=this.win.navigator;return!!(null!=H&&H.userAgent&&H.userAgent.indexOf(A)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.KVO(ce.qQ),p.KVO(p.SKi))}),(0,h.A)(O,"\u0275prov",p.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),O})();const Bt=(C,O)=>{O=O.replace(/[[\]\\]/g,"\\$&");const A=new RegExp("[\\?&]"+O+"=([^&#]*)").exec(C);return A?decodeURIComponent(A[1].replace(/\+/g," ")):null},St=(C,O,W,A)=>{O&&O.addEventListener(W,H=>{A.run(()=>{C.next(null!=H?H.detail:void 0)})})};let rr=(()=>{var C;class O{constructor(A,H,de,b){(0,h.A)(this,"location",void 0),(0,h.A)(this,"serializer",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"topOutlet",void 0),(0,h.A)(this,"direction",zn),(0,h.A)(this,"animated",Pn),(0,h.A)(this,"animationBuilder",void 0),(0,h.A)(this,"guessDirection","forward"),(0,h.A)(this,"guessAnimation",void 0),(0,h.A)(this,"lastNavId",-1),this.location=H,this.serializer=de,this.router=b,b&&b.events.subscribe(F=>{if(F instanceof Se.Z){const pe=F.restoredState?F.restoredState.navigationId:F.id;this.guessDirection=this.guessAnimation=pe<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?F.id:pe}}),A.backButton.subscribeWithPriority(0,F=>{this.pop(),F()})}navigateForward(A,H={}){return this.setDirection("forward",H.animated,H.animationDirection,H.animation),this.navigate(A,H)}navigateBack(A,H={}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.navigate(A,H)}navigateRoot(A,H={}){return this.setDirection("root",H.animated,H.animationDirection,H.animation),this.navigate(A,H)}back(A={animated:!0,animationDirection:"back"}){return this.setDirection("back",A.animated,A.animationDirection,A.animation),this.location.back()}pop(){var A=this;return(0,le.A)(function*(){let H=A.topOutlet;for(;H;){if(yield H.pop())return!0;H=H.parentOutlet}return!1})()}setDirection(A,H,de,b){this.direction=A,this.animated=dr(A,H,de),this.animationBuilder=b}setTopOutlet(A){this.topOutlet=A}consumeTransition(){let H,A="root";const de=this.animationBuilder;return"auto"===this.direction?(A=this.guessDirection,H=this.guessAnimation):(H=this.animated,A=this.direction),this.direction=zn,this.animated=Pn,this.animationBuilder=void 0,{direction:A,animation:H,animationBuilder:de}}navigate(A,H){if(Array.isArray(A))return this.router.navigate(A,H);{const de=this.serializer.parse(A.toString());return void 0!==H.queryParams&&(de.queryParams={...H.queryParams}),void 0!==H.fragment&&(de.fragment=H.fragment),this.router.navigateByUrl(de,H)}}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.KVO(Fe),p.KVO(ce.aZ),p.KVO(Se.Sd),p.KVO(Se.Ix,8))}),(0,h.A)(O,"\u0275prov",p.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),O})();const dr=(C,O,W)=>{if(!1!==O){if(void 0!==W)return W;if("forward"===C||"back"===C)return C;if("root"===C&&!0===O)return"forward"}},zn="auto",Pn=void 0;let Tr=(()=>{var C;class O{get(A,H){const de=Cr();return de?de.get(A,H):null}getBoolean(A,H){const de=Cr();return!!de&&de.getBoolean(A,H)}getNumber(A,H){const de=Cr();return de?de.getNumber(A,H):0}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)}),(0,h.A)(O,"\u0275prov",p.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})),O})();const Ir=new p.nKC("USERCONFIG"),Cr=()=>{if(typeof window<"u"){const C=window.Ionic;if(null!=C&&C.config)return C.config}return null};class br{constructor(O={}){(0,h.A)(this,"data",void 0),this.data=O,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(O){return this.data[O]}}let Wr=(()=>{var C;class O{constructor(){(0,h.A)(this,"zone",(0,p.WQX)(p.SKi)),(0,h.A)(this,"applicationRef",(0,p.WQX)(p.o8S)),(0,h.A)(this,"config",(0,p.WQX)(Ir))}create(A,H,de){var b;return new Ei(A,H,this.applicationRef,this.zone,de,null!==(b=this.config.useSetInputAPI)&&void 0!==b&&b)}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)}),(0,h.A)(O,"\u0275prov",p.jDH({token:C,factory:C.\u0275fac})),O})();class Ei{constructor(O,W,A,H,de,b){(0,h.A)(this,"environmentInjector",void 0),(0,h.A)(this,"injector",void 0),(0,h.A)(this,"applicationRef",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"elementReferenceKey",void 0),(0,h.A)(this,"enableSignalsSupport",void 0),(0,h.A)(this,"elRefMap",new WeakMap),(0,h.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=O,this.injector=W,this.applicationRef=A,this.zone=H,this.elementReferenceKey=de,this.enableSignalsSupport=b}attachViewToDom(O,W,A,H){return this.zone.run(()=>new Promise(de=>{const b={...A};void 0!==this.elementReferenceKey&&(b[this.elementReferenceKey]=O),de(Ln(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,O,W,b,H,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(O,W){return this.zone.run(()=>new Promise(A=>{const H=this.elRefMap.get(W);if(H){H.destroy(),this.elRefMap.delete(W);const de=this.elEventsMap.get(W);de&&(de(),this.elEventsMap.delete(W))}A()}))}}const Ln=(C,O,W,A,H,de,b,F,pe,$,ne,s)=>{const d=p.zZn.create({providers:Mn(pe),parent:W}),y=(0,p.a0P)(F,{environmentInjector:O,elementInjector:d}),N=y.instance,K=y.location.nativeElement;if(pe)if(ne&&void 0!==N[ne]&&console.error(`[Ionic Error]: ${ne} is a reserved property when using ${b.tagName.toLowerCase()}. Rename or remove the "${ne}" property from ${F.name}.`),!0===s&&void 0!==y.setInput){const{modal:Be,popover:Tt,...Pt}=pe;for(const pn in Pt)y.setInput(pn,Pt[pn]);void 0!==Be&&Object.assign(N,{modal:Be}),void 0!==Tt&&Object.assign(N,{popover:Tt})}else Object.assign(N,pe);if($)for(const Be of $)K.classList.add(Be);const se=pr(C,N,K);return b.appendChild(K),A.attachView(y.hostView),H.set(K,y),de.set(K,se),K},vi=[We.L,We.a,We.b,We.c,We.d],pr=(C,O,W)=>C.run(()=>{const A=vi.filter(H=>"function"==typeof O[H]).map(H=>{const de=b=>O[H](b.detail);return W.addEventListener(H,de),()=>W.removeEventListener(H,de)});return()=>A.forEach(H=>H())}),kr=new p.nKC("NavParamsToken"),Mn=C=>[{provide:kr,useValue:C},{provide:br,useFactory:Fi,deps:[kr]}],Fi=C=>new br(C),xe=(C,O)=>((C=C.filter(W=>W.stackId!==O.stackId)).push(O),C),qe=(C,O)=>{const W=C.createUrlTree(["."],{relativeTo:O});return C.serializeUrl(W)},Dn=(C,O)=>!O||C.stackId!==O.stackId,Bn=(C,O)=>{if(!C)return;const W=Br(O);for(let A=0;A<W.length;A++){if(A>=C.length)return W[A];if(W[A]!==C[A])return}},Br=C=>C.split("/").map(O=>O.trim()).filter(O=>""!==O),fi=C=>{C&&(C.ref.destroy(),C.unlistenEvents())};class lt{constructor(O,W,A,H,de,b){(0,h.A)(this,"containerEl",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"location",void 0),(0,h.A)(this,"views",[]),(0,h.A)(this,"runningTask",void 0),(0,h.A)(this,"skipTransition",!1),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"activeView",void 0),(0,h.A)(this,"nextId",0),this.containerEl=W,this.router=A,this.navCtrl=H,this.zone=de,this.location=b,this.tabsPrefix=void 0!==O?Br(O):void 0}createView(O,W){var A;const H=qe(this.router,W),de=null==O||null===(A=O.location)||void 0===A?void 0:A.nativeElement,b=pr(this.zone,O.instance,de);return{id:this.nextId++,stackId:Bn(this.tabsPrefix,H),unlistenEvents:b,element:de,ref:O,url:H}}getExistingView(O){const W=qe(this.router,O),A=this.views.find(H=>H.url===W);return A&&A.ref.changeDetectorRef.reattach(),A}setActive(O){var W,A;const H=this.navCtrl.consumeTransition();let{direction:de,animation:b,animationBuilder:F}=H;const pe=this.activeView,$=Dn(O,pe);$&&(de="back",b=void 0);const ne=this.views.slice();let s;const d=this.router;d.getCurrentNavigation?s=d.getCurrentNavigation():null!==(W=d.navigations)&&void 0!==W&&W.value&&(s=d.navigations.value),null!==(A=s)&&void 0!==A&&null!==(A=A.extras)&&void 0!==A&&A.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const y=this.views.includes(O),N=this.insertView(O,de);y||O.ref.changeDetectorRef.detectChanges();const K=O.animationBuilder;return void 0===F&&"back"===de&&!$&&void 0!==K&&(F=K),pe&&(pe.animationBuilder=F),this.zone.runOutsideAngular(()=>this.wait(()=>(pe&&pe.ref.changeDetectorRef.detach(),O.ref.changeDetectorRef.reattach(),this.transition(O,pe,b,this.canGoBack(1),!1,F).then(()=>zr(O,N,ne,this.location,this.zone)).then(()=>({enteringView:O,direction:de,animation:b,tabSwitch:$})))))}canGoBack(O,W=this.getActiveStackId()){return this.getStack(W).length>O}pop(O,W=this.getActiveStackId()){return this.zone.run(()=>{const A=this.getStack(W);if(A.length<=O)return Promise.resolve(!1);const H=A[A.length-O-1];let de=H.url;const b=H.savedData;if(b){var F;const $=b.get("primary");null!=$&&null!==(F=$.route)&&void 0!==F&&null!==(F=F._routerState)&&void 0!==F&&F.snapshot.url&&(de=$.route._routerState.snapshot.url)}const{animationBuilder:pe}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(de,{...H.savedExtras,animation:pe}).then(()=>!0)})}startBackTransition(){const O=this.activeView;if(O){const W=this.getStack(O.stackId),A=W[W.length-2],H=A.animationBuilder;return this.wait(()=>this.transition(A,O,"back",this.canGoBack(2),!0,H))}return Promise.resolve()}endBackTransition(O){O?(this.skipTransition=!0,this.pop(1)):this.activeView&&Jn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(O){const W=this.getStack(O);return W.length>0?W[W.length-1]:void 0}getRootUrl(O){const W=this.getStack(O);return W.length>0?W[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(fi),this.activeView=void 0,this.views=[]}getStack(O){return this.views.filter(W=>W.stackId===O)}insertView(O,W){return this.activeView=O,this.views=((C,O,W)=>"root"===W?xe(C,O):"forward"===W?((C,O)=>(C.indexOf(O)>=0?C=C.filter(A=>A.stackId!==O.stackId||A.id<=O.id):C.push(O),C))(C,O):((C,O)=>C.indexOf(O)>=0?C.filter(A=>A.stackId!==O.stackId||A.id<=O.id):xe(C,O))(C,O))(this.views,O,W),this.views.slice()}transition(O,W,A,H,de,b){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(W===O)return Promise.resolve(!1);const F=O?O.element:void 0,pe=W?W.element:void 0,$=this.containerEl;return F&&F!==pe&&(F.classList.add("ion-page"),F.classList.add("ion-page-invisible"),$.commit)?$.commit(F,pe,{duration:void 0===A?0:void 0,direction:A,showGoBack:H,progressAnimation:de,animationBuilder:b}):Promise.resolve(!1)}wait(O){var W=this;return(0,le.A)(function*(){void 0!==W.runningTask&&(yield W.runningTask,W.runningTask=void 0);const A=W.runningTask=O();return A.finally(()=>W.runningTask=void 0),A})()}}const zr=(C,O,W,A,H)=>"function"==typeof requestAnimationFrame?new Promise(de=>{requestAnimationFrame(()=>{Jn(C,O,W,A,H),de()})}):Promise.resolve(),Jn=(C,O,W,A,H)=>{H.run(()=>W.filter(de=>!O.includes(de)).forEach(fi)),O.forEach(de=>{const F=A.path().split("?")[0].split("#")[0];if(de!==C&&de.url!==F){const pe=de.element;pe.setAttribute("aria-hidden","true"),pe.classList.add("ion-page-hidden"),de.ref.changeDetectorRef.detach()}})};let pi=(()=>{var C;class O{get activatedComponentRef(){return this.activated}set animation(A){this.nativeEl.animation=A}set animated(A){this.nativeEl.animated=A}set swipeGesture(A){this._swipeGesture=A,this.nativeEl.swipeHandler=A?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:H=>this.stackCtrl.endBackTransition(H)}:void 0}constructor(A,H,de,b,F,pe,$,ne){(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"nativeEl",void 0),(0,h.A)(this,"activatedView",null),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"_swipeGesture",void 0),(0,h.A)(this,"stackCtrl",void 0),(0,h.A)(this,"proxyMap",new WeakMap),(0,h.A)(this,"currentActivatedRoute$",new Kt.t(null)),(0,h.A)(this,"activated",null),(0,h.A)(this,"_activatedRoute",null),(0,h.A)(this,"name",Se.Xk),(0,h.A)(this,"stackWillChange",new p.bkB),(0,h.A)(this,"stackDidChange",new p.bkB),(0,h.A)(this,"activateEvents",new p.bkB),(0,h.A)(this,"deactivateEvents",new p.bkB),(0,h.A)(this,"parentContexts",(0,p.WQX)(Se.Zp)),(0,h.A)(this,"location",(0,p.WQX)(p.c1b)),(0,h.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ)),(0,h.A)(this,"inputBinder",(0,p.WQX)(tr,{optional:!0})),(0,h.A)(this,"supportsBindingToComponentInputs",!0),(0,h.A)(this,"config",(0,p.WQX)(Tr)),(0,h.A)(this,"navCtrl",(0,p.WQX)(rr)),this.parentOutlet=ne,this.nativeEl=b.nativeElement,this.name=A||Se.Xk,this.tabsPrefix="true"===H?qe(F,$):void 0,this.stackCtrl=new lt(this.tabsPrefix,this.nativeEl,F,this.navCtrl,pe,de),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var A;this.stackCtrl.destroy(),null===(A=this.inputBinder)||void 0===A||A.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const A=this.getContext();null!=A&&A.route&&this.activateWith(A.route,A.injector)}new Promise(A=>((C,O)=>{C.componentOnReady?C.componentOnReady().then(W=>O(W)):(C=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(C):"function"==typeof requestAnimationFrame?requestAnimationFrame(C):setTimeout(C)})(()=>O(C))})(this.nativeEl,A)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(A,H){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const H=this.getContext();this.activatedView.savedData=new Map(H.children.contexts);const de=this.activatedView.savedData.get("primary");if(de&&H.route&&(de.route={...H.route}),this.activatedView.savedExtras={},H.route){const b=H.route.snapshot;this.activatedView.savedExtras.queryParams=b.queryParams,this.activatedView.savedExtras.fragment=b.fragment}}const A=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,H){var de;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=A;let b,F=this.stackCtrl.getExistingView(A);if(F){b=this.activated=F.ref;const ne=F.savedData;ne&&(this.getContext().children.contexts=ne),this.updateActivatedRouteProxy(b.instance,A)}else{var pe;const ne=A._futureSnapshot,s=this.parentContexts.getOrCreateContext(this.name).children,d=new Kt.t(null),y=this.createActivatedRouteProxy(d,A),N=new Ii(y,s,this.location.injector),K=null!==(pe=ne.routeConfig.component)&&void 0!==pe?pe:ne.component;b=this.activated=this.outletContent.createComponent(K,{index:this.outletContent.length,injector:N,environmentInjector:null!=H?H:this.environmentInjector}),d.next(b.instance),F=this.stackCtrl.createView(this.activated,A),this.proxyMap.set(b.instance,y),this.currentActivatedRoute$.next({component:b.instance,activatedRoute:A})}null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.activatedView=F,this.navCtrl.setTopOutlet(this);const $=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:F,tabSwitch:Dn(F,$)}),this.stackCtrl.setActive(F).then(ne=>{this.activateEvents.emit(b.instance),this.stackDidChange.emit(ne)})}canGoBack(A=1,H){return this.stackCtrl.canGoBack(A,H)}pop(A=1,H){return this.stackCtrl.pop(A,H)}getLastUrl(A){const H=this.stackCtrl.getLastUrl(A);return H?H.url:void 0}getLastRouteView(A){return this.stackCtrl.getLastUrl(A)}getRootView(A){return this.stackCtrl.getRootUrl(A)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(A,H){const de=new Se.nX;return de._futureSnapshot=H._futureSnapshot,de._routerState=H._routerState,de.snapshot=H.snapshot,de.outlet=H.outlet,de.component=H.component,de._paramMap=this.proxyObservable(A,"paramMap"),de._queryParamMap=this.proxyObservable(A,"queryParamMap"),de.url=this.proxyObservable(A,"url"),de.params=this.proxyObservable(A,"params"),de.queryParams=this.proxyObservable(A,"queryParams"),de.fragment=this.proxyObservable(A,"fragment"),de.data=this.proxyObservable(A,"data"),de}proxyObservable(A,H){return A.pipe((0,Gn.p)(de=>!!de),(0,ir.n)(de=>this.currentActivatedRoute$.pipe((0,Gn.p)(b=>null!==b&&b.component===de),(0,ir.n)(b=>b&&b.activatedRoute[H]),(0,Jt.F)())))}updateActivatedRouteProxy(A,H){const de=this.proxyMap.get(A);if(!de)throw new Error("Could not find activated route proxy for view");de._futureSnapshot=H._futureSnapshot,de._routerState=H._routerState,de.snapshot=H.snapshot,de.outlet=H.outlet,de.component=H.component,this.currentActivatedRoute$.next({component:A,activatedRoute:H})}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.kS0("name"),p.kS0("tabs"),p.rXU(ce.aZ),p.rXU(p.aKT),p.rXU(Se.Ix),p.rXU(p.SKi),p.rXU(Se.nX),p.rXU(C,12))}),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),O})();class Ii{constructor(O,W,A){(0,h.A)(this,"route",void 0),(0,h.A)(this,"childContexts",void 0),(0,h.A)(this,"parent",void 0),this.route=O,this.childContexts=W,this.parent=A}get(O,W){return O===Se.nX?this.route:O===Se.Zp?this.childContexts:this.parent.get(O,W)}}const tr=new p.nKC("");let Wi=(()=>{var C;class O{constructor(){(0,h.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){var H;null===(H=this.outletDataSubscriptions.get(A))||void 0===H||H.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:H}=A,de=(0,$n.z)([H.queryParams,H.params,H.data]).pipe((0,ir.n)(([b,F,pe],$)=>(pe={...b,...F,...pe},0===$?(0,ut.of)(pe):Promise.resolve(pe)))).subscribe(b=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==H||null===H.component)return void this.unsubscribeFromRouteData(A);const F=(0,p.HJs)(H.component);if(F)for(const{templateName:pe}of F.inputs)A.activatedComponentRef.setInput(pe,b[pe]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,de)}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)}),(0,h.A)(O,"\u0275prov",p.jDH({token:C,factory:C.\u0275fac})),O})();function Bi(C){return null!=C&&C.componentInputBindingEnabled?new Wi:null}let Vr=(()=>{var C;class O{constructor(A,H,de,b,F){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=A,this.navCtrl=H,this.elementRef=de,this.router=b,this.routerLink=F}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const H=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(H.tagName)&&"0"===H.getAttribute("tabindex")&&H.removeAttribute("tabindex")}updateTargetUrlAndHref(){var A;if(null!==(A=this.routerLink)&&void 0!==A&&A.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(A){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),A.preventDefault()}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.rXU(ce.hb),p.rXU(rr),p.rXU(p.aKT),p.rXU(Se.Ix),p.rXU(Se.Wk,8))}),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(A,H){1&A&&p.bIt("click",function(b){return H.onClick(b)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[p.OA$]})),O})(),zt=(()=>{var C;class O{constructor(A,H,de,b,F){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=A,this.navCtrl=H,this.elementRef=de,this.router=b,this.routerLink=F}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var A;if(null!==(A=this.routerLink)&&void 0!==A&&A.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.rXU(ce.hb),p.rXU(rr),p.rXU(p.aKT),p.rXU(Se.Ix),p.rXU(Se.Wk,8))}),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(A,H){1&A&&p.bIt("click",function(){return H.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[p.OA$]})),O})();const Zt=C=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(C):"function"==typeof requestAnimationFrame?requestAnimationFrame(C):setTimeout(C);let Sn=(()=>{var C;class O{constructor(A,H){(0,h.A)(this,"injector",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"onChange",()=>{}),(0,h.A)(this,"onTouched",()=>{}),(0,h.A)(this,"lastValue",void 0),(0,h.A)(this,"statusChanges",void 0),this.injector=A,this.elementRef=H}writeValue(A){this.elementRef.nativeElement.value=this.lastValue=A,ur(this.elementRef)}handleValueChange(A,H){A===this.elementRef.nativeElement&&(H!==this.lastValue&&(this.lastValue=H,this.onChange(H)),ur(this.elementRef))}_handleBlurEvent(A){A===this.elementRef.nativeElement&&(this.onTouched(),ur(this.elementRef))}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.elementRef.nativeElement.disabled=A}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let A;try{A=this.injector.get(Ee.vO)}catch{}if(!A)return;A.statusChanges&&(this.statusChanges=A.statusChanges.subscribe(()=>ur(this.elementRef)));const H=A.control;H&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(b=>{if(typeof H[b]<"u"){const F=H[b].bind(H);H[b]=(...pe)=>{F(...pe),ur(this.elementRef)}}})}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.rXU(p.zZn),p.rXU(p.aKT))}),(0,h.A)(O,"\u0275dir",p.FsC({type:C,hostBindings:function(A,H){1&A&&p.bIt("ionBlur",function(b){return H._handleBlurEvent(b.target)})}})),O})();const ur=C=>{Zt(()=>{const O=C.nativeElement,W=null!=O.value&&O.value.toString().length>0,A=cr(O);ar(O,A);const H=O.closest("ion-item");H&&ar(H,W?[...A,"item-has-value"]:A)})},cr=C=>{const O=C.classList,W=[];for(let A=0;A<O.length;A++){const H=O.item(A);null!==H&&Qn(H,"ng-")&&W.push(`ion-${H.substring(3)}`)}return W},ar=(C,O)=>{const W=C.classList;W.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),W.add(...O)},Qn=(C,O)=>C.substring(0,O.length)===O;class Vi{constructor(O){(0,h.A)(this,"ctrl",void 0),this.ctrl=O}create(O){return this.ctrl.create(O||{})}dismiss(O,W,A){return this.ctrl.dismiss(O,W,A)}getTop(){return this.ctrl.getTop()}}k(9986),k(3604),k(5022),k(3615),k(8607);var Ro=k(9483),Di=k(464),Go=(k(1702),k(3617)),oe=(k(8476),k(4261));k(1970),k(7192);const _n=Ro.i,Hn=function(){var C=(0,le.A)(function*(O,W){if(!(typeof window>"u"))return yield _n(),(0,oe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),W)});return function(W,A){return C.apply(this,arguments)}}(),st=["*"],Yn=["outletContent"];let ui=(()=>{var C;class O extends Sn{constructor(A,H){super(A,H)}_handleChangeEvent(A){this.handleValueChange(A,A.value)}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.rXU(p.zZn),p.rXU(p.aKT))}),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(A,H){1&A&&p.bIt("ionChange",function(b){return H._handleChangeEvent(b.target)})},features:[p.Jv_([{provide:Ee.kq,useExisting:C,multi:!0}]),p.Vt3]})),O})(),Kr=(()=>{var C;class O extends Sn{constructor(A,H){super(A,H)}_handleInputEvent(A){this.handleValueChange(A,A.value)}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.rXU(p.zZn),p.rXU(p.aKT))}),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(A,H){1&A&&p.bIt("ionInput",function(b){return H._handleInputEvent(b.target)})},features:[p.Jv_([{provide:Ee.kq,useExisting:C,multi:!0}]),p.Vt3]})),O})();const yr=(C,O)=>{const W=C.prototype;O.forEach(A=>{Object.defineProperty(W,A,{get(){return this.el[A]},set(H){this.z.runOutsideAngular(()=>this.el[A]=H)},configurable:!0})})},to=(C,O)=>{const W=C.prototype;O.forEach(A=>{W[A]=function(){const H=arguments;return this.z.runOutsideAngular(()=>this.el[A].apply(this.el,H))}})},hr=(C,O,W)=>{W.forEach(A=>C[A]=Le(O,A))};function wn(C){return function(W){const{defineCustomElementFn:A,inputs:H,methods:de}=C;return void 0!==A&&A(),H&&yr(W,H),de&&to(W,de),W}}let ie=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-app"]],ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({methods:["setFocus"]})],O),O})(),Rt=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],O),O})(),Yt=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["collapse"]})],O),O})(),un=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],O),O})(),Tn=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["mode"]})],O),O})(),On=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","mode","translucent"]})],O),O})(),Zn=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","mode"]})],O),O})(),ri=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],O),O})(),Vo=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["collapse","mode","translucent"]})],O),O})(),Eo=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],O),O})(),Xi=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],O),O})(),ss=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],O),O})(),yo=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","mode","position"]})],O),O})(),ki=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],O),O})(),gr=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],O),O})(),oo=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],O),O})(),_a=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionChange"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["allowEmptySelection","compareWith","name","value"]})],O),O})(),Ao=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","duration","name","paused"]})],O),O})(),ao=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement,hr(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],O),O})(),Gi=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-thumbnail"]],ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({})],O),O})(),ds=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","size"]})],O),O})(),Ko=(()=>{var C;let O=((0,h.A)(C=class{constructor(A,H,de){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=de,A.detach(),this.el=H.nativeElement}},"\u0275fac",function(A){return new(A||C)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,h.A)(C,"\u0275cmp",p.VBU({type:C,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:st,decls:1,vars:0,template:function(A,H){1&A&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),C);return O=(0,Ct.Cg)([wn({inputs:["color","mode"]})],O),O})(),hs=(()=>{var C;class O extends pi{constructor(A,H,de,b,F,pe,$,ne){super(A,H,de,b,F,pe,$,ne),(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"outletContent",void 0),this.parentOutlet=ne}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)(p.kS0("name"),p.kS0("tabs"),p.rXU(ce.aZ),p.rXU(p.aKT),p.rXU(Se.Ix),p.rXU(p.SKi),p.rXU(Se.nX),p.rXU(C,12))}),(0,h.A)(O,"\u0275cmp",p.VBU({type:C,selectors:[["ion-router-outlet"]],viewQuery:function(A,H){if(1&A&&p.GBs(Yn,7,p.c1b),2&A){let de;p.mGM(de=p.lsd())&&(H.outletContent=de.first)}},features:[p.Vt3],ngContentSelectors:st,decls:3,vars:0,consts:[["outletContent",""]],template:function(A,H){1&A&&(p.NAR(),p.qex(0,null,0),p.SdG(2),p.bVm())},encapsulation:2})),O})(),Jo=(()=>{var C;class O extends Vr{}return C=O,(0,h.A)(O,"\u0275fac",(()=>{let W;return function(H){return(W||(W=p.xGo(C)))(H||C)}})()),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],features:[p.Vt3]})),O})(),Xo=(()=>{var C;class O extends zt{}return C=O,(0,h.A)(O,"\u0275fac",(()=>{let W;return function(H){return(W||(W=p.xGo(C)))(H||C)}})()),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[p.Vt3]})),O})();const Ws={provide:Ee.cz,useExisting:(0,p.Rfq)(()=>ia),multi:!0};let ia=(()=>{var C;class O extends Ee.zX{}return C=O,(0,h.A)(O,"\u0275fac",(()=>{let W;return function(H){return(W||(W=p.xGo(C)))(H||C)}})()),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(A,H){2&A&&p.BMQ("max",H._enabled?H.max:null)},features:[p.Jv_([Ws]),p.Vt3]})),O})();const $o={provide:Ee.cz,useExisting:(0,p.Rfq)(()=>Ta),multi:!0};let Ta=(()=>{var C;class O extends Ee.VZ{}return C=O,(0,h.A)(O,"\u0275fac",(()=>{let W;return function(H){return(W||(W=p.xGo(C)))(H||C)}})()),(0,h.A)(O,"\u0275dir",p.FsC({type:C,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(A,H){2&A&&p.BMQ("min",H._enabled?H.min:null)},features:[p.Jv_([$o]),p.Vt3]})),O})(),To=(()=>{var C;class O extends Vi{constructor(){super(Go.m),(0,h.A)(this,"angularDelegate",(0,p.WQX)(Wr)),(0,h.A)(this,"injector",(0,p.WQX)(p.zZn)),(0,h.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ))}create(A){return super.create({...A,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)}),(0,h.A)(O,"\u0275prov",p.jDH({token:C,factory:C.\u0275fac})),O})();class jo extends Vi{constructor(){super(Go.c),(0,h.A)(this,"angularDelegate",(0,p.WQX)(Wr)),(0,h.A)(this,"injector",(0,p.WQX)(p.zZn)),(0,h.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ))}create(O){return super.create({...O,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Ca=(C,O,W)=>()=>{const A=O.defaultView;if(A&&typeof window<"u"){(0,Di.s)({...C,_zoneGate:de=>W.run(de)});const H="__zone_symbol__addEventListener"in O.body?"__zone_symbol__addEventListener":"addEventListener";return function nn(){var C=[];if(typeof window<"u"){var O=window;(!O.customElements||O.Element&&(!O.Element.prototype.closest||!O.Element.prototype.matches||!O.Element.prototype.remove||!O.Element.prototype.getRootNode))&&C.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||O.NodeList&&!O.NodeList.prototype.forEach||!O.fetch||!function(){try{var A=new URL("b","http://a");return A.pathname="c%20d","http://a/c%20d"===A.href&&A.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&C.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(C)}().then(()=>Hn(A,{exclude:["ion-tabs"],syncQueue:!0,raf:Zt,jmp:de=>W.runOutsideAngular(de),ael(de,b,F,pe){de[H](b,F,pe)},rel(de,b,F,pe){de.removeEventListener(b,F,pe)}}))}};let ts=(()=>{var C;class O{static forRoot(A={}){return{ngModule:O,providers:[{provide:Ir,useValue:A},{provide:p.hnV,useFactory:Ca,multi:!0,deps:[Ir,ce.qQ,p.SKi]},Wr,{provide:tr,useFactory:Bi,deps:[Se.Ix]}]}}}return C=O,(0,h.A)(O,"\u0275fac",function(A){return new(A||C)}),(0,h.A)(O,"\u0275mod",p.$C({type:C})),(0,h.A)(O,"\u0275inj",p.G2t({providers:[To,jo],imports:[ce.MD]})),O})()},467:(Nn,wt,k)=>{"use strict";function h(Ee,le,Se,ce,Me,We,Ke){try{var be=Ee[We](Ke),me=be.value}catch(Ge){return void Se(Ge)}be.done?le(me):Promise.resolve(me).then(ce,Me)}function p(Ee){return function(){var le=this,Se=arguments;return new Promise(function(ce,Me){var We=Ee.apply(le,Se);function Ke(me){h(We,ce,Me,Ke,be,"next",me)}function be(me){h(We,ce,Me,Ke,be,"throw",me)}Ke(void 0)})}}k.d(wt,{A:()=>p})},9842:(Nn,wt,k)=>{"use strict";function h(Se){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(Se)}function le(Se,ce,Me){return(ce=function Ee(Se){var ce=function p(Se,ce){if("object"!=h(Se)||!Se)return Se;var Me=Se[Symbol.toPrimitive];if(void 0!==Me){var We=Me.call(Se,ce||"default");if("object"!=h(We))return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ce?String:Number)(Se)}(Se,"string");return"symbol"==h(ce)?ce:ce+""}(ce))in Se?Object.defineProperty(Se,ce,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Se[ce]=Me,Se}k.d(wt,{A:()=>le})},1635:(Nn,wt,k)=>{"use strict";function le(te,_e){var Le={};for(var He in te)Object.prototype.hasOwnProperty.call(te,He)&&_e.indexOf(He)<0&&(Le[He]=te[He]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(He=Object.getOwnPropertySymbols(te);$e<He.length;$e++)_e.indexOf(He[$e])<0&&Object.prototype.propertyIsEnumerable.call(te,He[$e])&&(Le[He[$e]]=te[He[$e]])}return Le}function Se(te,_e,Le,He){var an,$e=arguments.length,rt=$e<3?_e:null===He?He=Object.getOwnPropertyDescriptor(_e,Le):He;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)rt=Reflect.decorate(te,_e,Le,He);else for(var Kt=te.length-1;Kt>=0;Kt--)(an=te[Kt])&&(rt=($e<3?an(rt):$e>3?an(_e,Le,rt):an(_e,Le))||rt);return $e>3&&rt&&Object.defineProperty(_e,Le,rt),rt}function Ge(te,_e,Le,He){return new(Le||(Le=Promise))(function(rt,an){function Kt(Ct){try{ut(He.next(Ct))}catch(Gn){an(Gn)}}function $n(Ct){try{ut(He.throw(Ct))}catch(Gn){an(Gn)}}function ut(Ct){Ct.done?rt(Ct.value):function $e(rt){return rt instanceof Le?rt:new Le(function(an){an(rt)})}(Ct.value).then(Kt,$n)}ut((He=He.apply(te,_e||[])).next())})}function Ae(te){return this instanceof Ae?(this.v=te,this):new Ae(te)}function Te(te,_e,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,He=Le.apply(te,_e||[]),rt=[];return $e=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Kt("next"),Kt("throw"),Kt("return",function an(Jt){return function(ln){return Promise.resolve(ln).then(Jt,Gn)}}),$e[Symbol.asyncIterator]=function(){return this},$e;function Kt(Jt,ln){He[Jt]&&($e[Jt]=function(sr){return new Promise(function(cn,Ne){rt.push([Jt,sr,cn,Ne])>1||$n(Jt,sr)})},ln&&($e[Jt]=ln($e[Jt])))}function $n(Jt,ln){try{!function ut(Jt){Jt.value instanceof Ae?Promise.resolve(Jt.value.v).then(Ct,Gn):ir(rt[0][2],Jt)}(He[Jt](ln))}catch(sr){ir(rt[0][3],sr)}}function Ct(Jt){$n("next",Jt)}function Gn(Jt){$n("throw",Jt)}function ir(Jt,ln){Jt(ln),rt.shift(),rt.length&&$n(rt[0][0],rt[0][1])}}function at(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,_e=te[Symbol.asyncIterator];return _e?_e.call(te):(te=function vt(te){var _e="function"==typeof Symbol&&Symbol.iterator,Le=_e&&te[_e],He=0;if(Le)return Le.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&He>=te.length&&(te=void 0),{value:te&&te[He++],done:!te}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Le={},He("next"),He("throw"),He("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function He(rt){Le[rt]=te[rt]&&function(an){return new Promise(function(Kt,$n){!function $e(rt,an,Kt,$n){Promise.resolve($n).then(function(ut){rt({value:ut,done:Kt})},an)}(Kt,$n,(an=te[rt](an)).done,an.value)})}}}k.d(wt,{AQ:()=>Te,Cg:()=>Se,N3:()=>Ae,Tt:()=>le,sH:()=>Ge,xN:()=>at}),"function"==typeof SuppressedError&&SuppressedError}},Nn=>{Nn(Nn.s=8)}]);