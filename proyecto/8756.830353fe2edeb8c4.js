"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8756],{8756:(j,m,l)=>{l.r(m),l.d(m,{EvaluationsPageModule:()=>x});var u=l(177),d=l(4341),s=l(3667),c=l(9384),a=l(4438),r=l(9180);function p(e,i){1&e&&a.nrm(0,"ion-spinner",2)}function g(e,i){if(1&e&&(a.j41(0,"ion-thumbnail",5),a.nrm(1,"img",6),a.k0s()),2&e){const t=a.XpG().$implicit;a.R7$(),a.Y8G("src",t.photo,a.B4B)}}function h(e,i){if(1&e&&(a.j41(0,"ion-item"),a.DNE(1,g,2,1,"ion-thumbnail",4),a.j41(2,"ion-label")(3,"h2"),a.EFF(4),a.k0s(),a.j41(5,"p"),a.EFF(6),a.k0s(),a.j41(7,"small"),a.EFF(8),a.k0s()()()),2&e){const t=i.$implicit;a.R7$(),a.Y8G("ngIf",t.photo),a.R7$(3),a.JRh(t.name),a.R7$(2),a.JRh(t.comment),a.R7$(2),a.Lme("Lat: ",t.latitude,", Lng: ",t.longitude,"")}}function f(e,i){if(1&e&&(a.j41(0,"ion-list"),a.DNE(1,h,9,5,"ion-item",3),a.k0s()),2&e){const t=a.XpG();a.R7$(),a.Y8G("ngForOf",t.examplePlaces)}}function v(e,i){1&e&&(a.j41(0,"p",2),a.EFF(1," No hay datos de ejemplo disponibles. "),a.k0s())}function E(e,i){1&e&&a.nrm(0,"ion-spinner",2)}function P(e,i){if(1&e&&(a.j41(0,"ion-thumbnail",5),a.nrm(1,"img",6),a.k0s()),2&e){const t=a.XpG().$implicit;a.R7$(),a.Y8G("src",t.photo,a.B4B)}}function _(e,i){if(1&e&&(a.j41(0,"ion-item"),a.DNE(1,P,2,1,"ion-thumbnail",4),a.j41(2,"ion-label")(3,"h2"),a.EFF(4),a.k0s(),a.j41(5,"p"),a.EFF(6),a.k0s(),a.j41(7,"small"),a.EFF(8),a.k0s()()()),2&e){const t=i.$implicit;a.R7$(),a.Y8G("ngIf",t.photo),a.R7$(3),a.JRh(t.name),a.R7$(2),a.JRh(t.comment),a.R7$(2),a.Lme("Lat: ",t.latitude,", Lng: ",t.longitude,"")}}function b(e,i){if(1&e&&(a.j41(0,"ion-list"),a.DNE(1,_,9,5,"ion-item",3),a.k0s()),2&e){const t=a.XpG();a.R7$(),a.Y8G("ngForOf",t.databasePlaces)}}function F(e,i){1&e&&(a.j41(0,"p",2),a.EFF(1," No hay datos disponibles desde Firebase. "),a.k0s())}const R=[{path:"",component:(()=>{var e;class i{constructor(o){this.evaluationService=o,this.examplePlaces=[],this.databasePlaces=[],this.isLoadingExamples=!0,this.isLoadingDatabase=!0}ngOnInit(){this.loadExamplePlaces(),this.loadDatabasePlaces()}loadExamplePlaces(){this.isLoadingExamples=!0,this.examplePlaces=[{name:"Cafeter\xeda",latitude:51.51931851179038,longitude:-.12857437133789065,comment:"Me pas\xf3 de verga",photo:"https://via.placeholder.com/100?text=Cafeter\xeda"},{name:"S",latitude:51.51643437722083,longitude:-.13629913330078128,comment:"S",photo:"https://via.placeholder.com/100?text=S"},{name:"Parque",latitude:51.51536613288439,longitude:-.1431655883790628,comment:"Me gusta este lugar",photo:"https://via.placeholder.com/100?text=Parque"},{name:"Sdfsf",latitude:51.50799465421271,longitude:-.11801719665527345,comment:"Sdfsf",photo:"https://via.placeholder.com/100?text=Sdfsf"},{name:"Diego",latitude:51.52348416152351,longitude:-.0951040283203125,comment:"Alvarado",photo:"https://via.placeholder.com/100?text=Diego"},{name:"Evaluaci\xf3n1",latitude:51.5091698216777,longitude:-.10557174682617189,comment:"Esta es una evaluaci\xf3n de prueba",photo:"https://via.placeholder.com/100?text=Evaluaci\xf3n1"},{name:"Restaurante",latitude:51.5,longitude:-.12,comment:"Comida deliciosa y gran ambiente",photo:"https://via.placeholder.com/100?text=Restaurante"}],this.isLoadingExamples=!1}loadDatabasePlaces(){this.isLoadingDatabase=!0,this.evaluationService.getEvaluations().subscribe({next:o=>{console.log("Datos recibidos de Firestore:",o),this.databasePlaces=o.filter(n=>n.name&&n.latitude&&n.longitude).map(n=>({name:n.name,latitude:n.latitude,longitude:n.longitude,comment:n.comment||"Sin comentarios",photo:n.photo||"https://via.placeholder.com/100?text=Sin+Foto"}))},error:o=>{console.error("Error al cargar evaluaciones desde Firebase:",o)},complete:()=>{this.isLoadingDatabase=!1}})}}return(e=i).\u0275fac=function(o){return new(o||e)(a.rXU(r.W))},e.\u0275cmp=a.VBU({type:e,selectors:[["app-evaluations"]],decls:17,vars:6,consts:[["class","ion-padding",4,"ngIf"],[4,"ngIf"],[1,"ion-padding"],[4,"ngFor","ngForOf"],["slot","start",4,"ngIf"],["slot","start"],[3,"src"]],template:function(o,n){1&o&&(a.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),a.EFF(3,"Evaluaciones"),a.k0s()()(),a.j41(4,"ion-content")(5,"ion-card")(6,"ion-card-header"),a.nrm(7,"ion-card-title"),a.k0s(),a.DNE(8,p,1,0,"ion-spinner",0)(9,f,2,1,"ion-list",1)(10,v,2,0,"p",0),a.k0s(),a.j41(11,"ion-card")(12,"ion-card-header"),a.nrm(13,"ion-card-title"),a.k0s(),a.DNE(14,E,1,0,"ion-spinner",0)(15,b,2,1,"ion-list",1)(16,F,2,0,"p",0),a.k0s()()),2&o&&(a.R7$(8),a.Y8G("ngIf",n.isLoadingExamples),a.R7$(),a.Y8G("ngIf",!n.isLoadingExamples&&n.examplePlaces.length>0),a.R7$(),a.Y8G("ngIf",!n.isLoadingExamples&&0===n.examplePlaces.length),a.R7$(4),a.Y8G("ngIf",n.isLoadingDatabase),a.R7$(),a.Y8G("ngIf",!n.isLoadingDatabase&&n.databasePlaces.length>0),a.R7$(),a.Y8G("ngIf",!n.isLoadingDatabase&&0===n.databasePlaces.length))},dependencies:[u.Sq,u.bT,s.b_,s.ME,s.tN,s.W9,s.eU,s.uz,s.he,s.nf,s.w2,s.Zx,s.BC,s.ai]}),i})()}];let $=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.$C({type:e}),e.\u0275inj=a.G2t({imports:[c.iI.forChild(R),c.iI]}),i})(),x=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=a.$C({type:e}),e.\u0275inj=a.G2t({imports:[u.MD,d.YN,s.bv,$]}),i})()}}]);